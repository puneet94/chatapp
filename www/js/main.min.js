!function(e){"use strict";function t(t,o,n,a){n.tabs.position("bottom"),n.scrolling.jsScrolling(!1),t.otherwise("/home/post/nearby"),e.extend(a,{autoDismiss:!0,maxOpened:1})}var o=e.module("petal",["ionic","ngAnimate","satellizer","ngFileUpload","btford.socket-io","ngCordova","toastr","petal.home","petal.post","petal.chat","petal.user","petal.people"]);o.config(["$urlRouterProvider","$stateProvider","$ionicConfigProvider","toastrConfig",t]),o.run(["$rootScope","$state","$ionicPlatform","$ionicLoading","RequestsService","$cordovaPushV5","$ionicHistory",function(e,t,o,n,a,i,s){function r(){o.registerBackButtonAction(function(t){return e.backButtonPressedOnceToExit?ionic.Platform.exitApp():s.backView()?s.goBack():(e.backButtonPressedOnceToExit=!0,window.plugins.toast.showShortCenter("Press back button again to exit",function(e){},function(e){}),window.setTimeout(function(){e.backButtonPressedOnceToExit=!1},2e3)),t.preventDefault(),!1},101)}function c(){a.register(),e.$on("$cordovaPushV5:notificationReceived",function(e,t){console.log(t),console.log(e)}),e.$on("$cordovaPushV5:errorOcurred",function(e,t){})}o.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0),c(),r()),window.StatusBar&&StatusBar.styleDefault(),window.onerror=function(e,t,o){return!1},e.$on("$stateChangeError",function(){t.go("home.post.nearby"),n.hide()})})}])}(window.angular),function(e){"use strict";function t(e){e.state("home.chat",{url:"/chat",abstract:!0,views:{"chat-tab":{templateUrl:"app/chat/views/chatParent.html",controller:"ChatParentController",controllerAs:"ppc"}}}).state("home.chat.all",{url:"/all",views:{"chat-tab":{templateUrl:"app/chat/views/allChat.html",controller:"AllChatController",controllerAs:"acc"}}}).state("home.chat.revealed",{url:"/revealed",views:{"chat-tab":{templateUrl:"app/chat/views/revealedChat.html",controller:"RevealedChatController",controllerAs:"rpc"}}}).state("chatBox",{url:"/chatBox/:user",templateUrl:"app/chat/views/chatBox.html",controller:"ChatBoxController",controllerAs:"cbc",resolve:{blocked:["$stateParams","blockService","$q",o]}})}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.blocked)}).catch(function(){n.resolve()}),n.promise}e.module("petal.chat",["ngFileUpload"]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t){var n="https://banana-surprise-31332.herokuapp.com/authenticate";t.facebook({clientId:"1134208830041632",url:n+"/auth/facebook",redirectUri:"https://banana-surprise-31332.herokuapp.com/"}),t.google({clientId:"742676837265-33jntkd60p87gkrh48nqe6cdd8ntsfl5.apps.googleusercontent.com",url:n+"/auth/google",redirectUri:"http://localhost:8100"}),e.state("authenticate",{url:"/authenticate",controller:"AuthenticationController",controllerAs:"ac",templateUrl:"app/home/views/authenticationPage.html"}).state("home",{url:"/home",abstract:!0,templateUrl:"app/home/views/tabs.html",controller:"HomeController",controllerAs:"hc",resolve:{redirectIfUserNotAuthenticated:["$q","$auth","$state","$timeout",o]}})}function o(e,t,o,n){var a=e.defer();return t.isAuthenticated()?a.resolve():n(function(){o.go("authenticate")}),a.promise}e.module("petal.home",[]).config(["$stateProvider","$authProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("home.people",{url:"/people",abstract:!0,views:{"people-tab":{templateUrl:"app/people/views/peopleParent.html",controller:"PeopleParentController",controllerAs:"ppc"}}}).state("home.people.all",{url:"/all",views:{"people-tab":{templateUrl:"app/people/views/allPeople.html",controller:"AllPeopleController",controllerAs:"apc"}}}).state("home.people.revealed",{url:"/revealed",views:{"people-tab":{templateUrl:"app/people/views/revealedPeople.html",controller:"RevealedPeopleController",controllerAs:"rpc"}}}).state("home.people.received",{url:"/received",views:{"people-tab":{templateUrl:"app/people/views/receivedPeople.html",controller:"ReceivedPeopleController",controllerAs:"rpc"}}}).state("home.people.nearby",{url:"/nearby",views:{"people-tab":{templateUrl:"app/people/views/nearbyPeople.html",controller:"NearbyPeopleController",controllerAs:"npc"}}})}e.module("petal.people",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("home.post",{url:"/post",abstract:!0,views:{"post-tab":{templateUrl:"app/post/views/postParent.html",controller:"PostParentController",controllerAs:"ppc"}}}).state("home.post.all",{url:"/all",views:{"post-tab":{templateUrl:"app/post/views/allPost.html",controller:"AllPostController",controllerAs:"apc"}}}).state("home.post.latest",{url:"/latest",views:{"post-tab":{templateUrl:"app/post/views/latestPost.html",controller:"LatestPostController",controllerAs:"lpc"}}}).state("home.post.popular",{url:"/popular",views:{"post-tab":{templateUrl:"app/post/views/popularPost.html",controller:"PopularPostController",controllerAs:"ppc"}}}).state("home.post.nearby",{url:"/nearby",views:{"post-tab":{templateUrl:"app/post/views/nearbyPost.html",controller:"NearbyPostController",controllerAs:"npc"}}}).state("postSubmit",{url:"/submit",templateUrl:"app/post/views/createPost.html",controller:"CreatePostController",controllerAs:"cpc"}).state("singlePost",{url:"/post/:id",templateUrl:"app/post/views/singlePost.html",controller:"SinglePostController",controllerAs:"spc"})}e.module("petal.post",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){e.data.blocked===!0?(window.alert("Blocked profile"),window.history.back()):n.resolve()}).catch(function(){n.resolve()}),n.promise}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.status)}).catch(function(){}),n.promise}e.module("petal.user",[]).config(["$stateProvider",function(e){e.state("home.user",{url:"/user",abstract:!0,views:{"user-tab":{templateUrl:"app/user/views/userParentPage.html",controller:"UserParentController",controllerAs:"upc"}}}).state("home.user.userMePage",{url:"/userMePage",views:{"user-tab":{templateUrl:"app/user/views/userMePage.html",controller:"UserMePageController",controllerAs:"umpc"}}}).state("home.userPage",{url:"/userPage/:user",resolve:{blocked:["$stateParams","blockService","$q",t],friends:["$stateParams","revealService","$q",o]},views:{"extra-tab":{templateUrl:"app/user/views/userProfilePage.html",controller:"UserPageController",controllerAs:"upc"}}}).state("home.userEditPage",{url:"/userEditPage",views:{"extra-tab":{templateUrl:"app/user/views/userEditPage.html",controller:"UserEditPageController",controllerAs:"uepc"}}})}])}(window.angular),function(e){"use strict";function t(t,o,n,a,i){function s(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function r(){u()}function c(){p.params.page+=1,l()}function l(){n.getAllChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getAllChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=r,u(),i.on("newMessageReceived",s),p.chatPage=function(e){o.go("chatBox",{user:e})}}e.module("petal.chat").controller("AllChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,i,s,r,c,l,u,p,d,f){function h(){b.params.page+=1,v()}function g(){l.getUser(b.receiverUserID).then(function(e){b.receiverUser=e.data}).catch(function(e){console.log(e)})}function m(){o(function(){c.scrollBottom(!0)})}function v(){r.getChatMessages(b.chatRoomId,b.params).then(function(t){e.forEach(t.data.docs,function(e){b.chatList.unshift(e)})}).catch(function(e){console.log(e)}).finally(function(){m(),t.$broadcast("scroll.refreshComplete"),p.hide()})}function w(){n.emit("addToChatRoom",{roomId:b.chatRoomId}),n.on("messageReceived",function(e){b.chatList.push(e),m(),b.messageLoading=!1})}var b=this;b.isBlocked=f,b.isBlocked===!0&&window.alert("blocked profile"),b.currentUser=i.getUser()._id,b.receiverUserID=a.user,b.chatList=[],b.chatRoomId="",b.loadMoreChats=h,b.scrollBottom=m,b.messageLoading=!1,b.messageTryCount=0,b.params={page:1,limit:5},function(){p.show(),r.getChatRoom(b.receiverUserID).then(function(e){b.chatRoom=e.data,b.chatRoomId=e.data._id,w(),v()},function(e){console.log(e)}),g()}(),b.clickSubmit=function(){b.messageLoading=!0,b.focusInput=!0,window.cordova&&!window.cordova.plugins.Keyboard.isVisible&&window.cordova.plugins.Keyboard.show(),m();var e={message:b.myMsg,receiver:a.user,roomId:b.chatRoomId};r.sendChatMessage(e).then(function(e){b.myMsg="",b.chatList.push(e.data.message),m(),b.messageTryCount=0}).catch(function(e){console.log(e),b.messageTryCount+=1,b.messageTryCount<=3&&b.clickSubmit()}).finally(function(){b.messageLoading=!1})},b.submitUpload=function(){b.messageLoading=!0,b.file.upload=u.upload({url:s.baseURL+"upload/singleUpload",data:{file:b.file}}),b.file.upload.then(function(e){b.file.result=e.data,b.uploadedImage=e.data,b.cancelUpload();var t={message:b.uploadedImage,receiver:a.user,roomId:b.chatRoomId,type:"img"};r.sendChatMessage(t).then(function(e){m(),b.chatList.push(e.data.message),b.messageLoading=!1}).catch(function(e){console.log(e)})})},b.cancelUpload=function(){b.showTempImage=!1,b.tempImageUrl=""},b.uploadSingleImage=function(e,t){b.file=e,b.errFile=t&&t[0],e&&(b.showTempImage=!0,b.tempImageUrl=e,m())},b.leaveChatBox=function(){n.emit("removeFromRoom",{roomId:b.chatRoomId}),r.updateChatRoom(b.chatRoomId).then(function(e){}).catch(function(e){console.log(e)}).finally(function(){}),d.history.back()}}e.module("petal.chat").controller("ChatBoxController",["$scope","$timeout","Socket","$stateParams","userData","homeService","chatService","$ionicScrollDelegate","userService","Upload","$ionicLoading","$window","blocked",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.chat").controller("ChatParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a,i){function s(){u()}function r(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function c(){p.params.page+=1,l()}function l(){n.getRevealedChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getRevealedChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=s,u(),i.on("newMessageReceived",r)}e.module("petal.chat").controller("RevealedChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(e,t,o){function n(t){return e.post(o.baseURL+"chatRoom/delete/"+t)}function a(t){return e.post(o.baseURL+"chat/create/"+t.roomId,t)}function i(t,n){return e.get(o.baseURL+"chat/getChats/"+t,{params:n})}function s(t){return e.get(o.baseURL+"chatRoom/get/"+t)}function r(t){return t.revealed=!1,e.get(o.baseURL+"chatRoom/all/",{params:t})}function c(t){return t.revealed=!0,e.get(o.baseURL+"chatRoom/all/",{params:t})}function l(t){return e.post(o.baseURL+"chatRoom/update/"+t)}var u=this;u.sendChatMessage=a,u.getChatMessages=i,u.getChatRoom=s,u.getAllChatRooms=r,u.getRevealedChatRooms=c,u.updateChatRoom=l,u.deleteChatRoom=n}e.module("petal.chat").service("chatService",["$http","$stateParams","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){return e({prefix:"",ioSocket:io.connect(t.baseURL)})}e.module("petal.chat").factory("Socket",["socketFactory","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o){return e({prefix:"",ioSocket:io.connect(o.baseURL+t.getUser()._id)})}e.module("petal.chat").factory("SocketUserService",["socketFactory","userData","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i,s,r){function c(e){n.setUser(e),a.setUserLocation(),s.register(),e.device_token?o.go("home.post.popular"):o.go("home.userEditPage")}function l(e){i.show(),t.authenticate(e).then(function(e){c(e.data.user)}).catch(function(e){i.hide()}).finally(function(){})}function u(){r.fromTemplateUrl("app/home/views/policy.html",{scope:e}).then(function(t){e.modal=t,e.modal.show()})}function p(){t.logout(),n.removeUser(),o.go("authenticate")}var d=this;d.isAuth=t.isAuthenticated(),d.isAuth&&o.go("home.post.all"),window.cordova&&(d.webSignIn=!0),d.authLogout=p,d.loadPostModal=u,d.socialAuthenticate=l,e.googleSignIn=function(){i.show({template:"Logging in..."}),window.plugins.googleplus.login({webClientId:"792068565007-rdm7nrlfmc29jvlqo5l0tkgu6ci0vboa.apps.googleusercontent.com"},function(e){var o={};o.id=e.userId,o.displayName=e.displayName,o.imageUrl=e.imageUrl,s.googleSignIn(o).then(function(e){t.setToken(e.data.token),c(e.data.user)}).catch(function(e){console.log("error"),console.log(e),i.hide()})},function(e){alert("missed"),console.log(e),i.hide()})}}e.module("petal.home").controller("AuthenticationController",["$scope","$auth","$state","userData","userLocationService","$ionicLoading","RequestsService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i,s){function r(e){var n=e.message;e.type&&"img"==e.type&&(n="New image");var i=e.user.anonName||e.user.facebookName||e.user.googleName;e.user._id==o.getUser()._id||("chatBox"==t.current.name?t.params.user!=e.user._id&&a.info("<p>"+i+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}):(a.info("<p>"+i+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}),l.badgeValue=1))}function c(){l.badgeValue=""}var l=this;l.badgeValue="",l.chatClicked=c,s.slideHeader=!1,s.slideHeaderPrevious=0,n.on("connect",function(){n.emit("addToSingleRoom",{roomId:o.getUser()._id}),n.on("newMessageReceived",r)}),l.goForward=function(){var e=i.selectedIndex();e!=-1&&(1===e?i.select(e+2):i.select(e+1))},l.goBack=function(){var e=i.selectedIndex();e!==-1&&0!==e&&(3===e?i.select(e-2):i.select(e-1))}}e.module("petal.home").controller("HomeController",["$scope","$state","userData","Socket","toastr","$ionicTabsDelegate","$rootScope",t])}(window.angular),function(e){"use strict";e.module("petal.home").directive("distanceView",["postService","$timeout",function(e,t){return{restrict:"E",templateUrl:"app/home/views/distanceViewTemplate.html",scope:{positionCords:"="},replace:!0,link:function(o){function n(){o.positionCords?(o.distanceObj={latitude:o.positionCords[1],longitude:o.positionCords[0]},e.getDistance(o.distanceObj).then(function(e){o.distanceObj.distance=e+" mi"}).catch(function(e){o.distanceObj.distance=""})):(o.distanceObj={},o.distanceObj.distance="")}t(n,1e3)}}}])}(window.angular),function(e){"use strict";function t(e){return{restrict:"A",link:function(t,o){o.bind("scroll",function(t){var o=t.srcElement.scrollTop;e.slideHeader=o-0>150,e.slideHeaderPrevious>o-0&&(e.slideHeader=!1),e.slideHeaderPrevious=o-0,e.$apply()})}}}var o=function(e){return{restrict:"A",scope:{imageModal:"@"},link:function(t,o){function n(e){a().then(function(){t.currentImage=e,t.modal.show()})}function a(){return e.fromTemplateUrl("app/chat/views/chatImageModal.html",{scope:t}).then(function(e){t.modal=e})}o.bind("click",function(e){n(t.imageModal),e.stopPropagation()})}}};e.module("petal.home").directive("keepScroll",["$state","$timeout","ScrollPositions","$ionicScrollDelegate",function(e,t,o,n){return{restrict:"A",link:function(a){a.$on("$stateChangeStart",function(){o[e.current.name]=n.getScrollPosition()}),t(function(){var t;(t=o[e.current.name])&&n.scrollTo(t.left,t.top)})}}}]).factory("ScrollPositions",[function(){return{}}]).directive("isFocused",["$timeout",function(e){return{scope:{trigger:"@isFocused"},link:function(t,o){t.$watch("trigger",function(t){"true"===t&&e(function(){o[0].focus(),o.on("blur",function(){o[0].focus()})})})}}}]).directive("lazyImg",function(){return{replace:!0,template:'<div class="lazy-img"><div class="sm"><img src="{{imgSmall}}" class="small"/></div><div style="padding-bottom: 75%;"></div><img src="{{imgLarge}}" class="large"/></div>',scope:{imgLarge:"@srcLarge",imgSmall:"@srcSmall"},link:function(e,t){var o=new Image,n=new Image;o.src=e.imgSmall,o.onload=function(){t.children(".sm").find("img").css("opacity","1"),n.src=e.imgLarge,n.onload=function(){t.find("img").css("opacity","1")}}}}}).directive("imageModal",["$ionicModal",o]).directive("watchScroll",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t){function o(t){return e.post(i.baseURL+"upload/deleteUpload",{data:{public_id:t}})}function n(t){return console.log(t),e.get(i.baseURL+"upload/getImages",{params:{imageText:t}})}function a(e){return t.upload({url:i.baseURL+"upload/singleUploadId",data:{file:e}})}this.baseURL="https://banana-surprise-31332.herokuapp.com/",this.deleteUpload=o,this.submitUpload=a,this.getImages=n;var i=this}e.module("petal.home").service("homeService",["$http","Upload",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i){function s(){var e=o.defer(),s={android:{senderID:"679461840115",vibrate:"true"},browser:{},ios:{alert:"true",badge:"true",sound:"true"},windows:{}};return a.initialize(s).then(function(){a.onNotification(function(){console.log("insideeee notification"),console.log(arguments)}),a.onError(),i.isAuthenticated()&&a.register().then(function(o){t.post(c+"notification/register",{device_token:o}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}).finally(function(){n.hide()})})}),e.promise}function r(e){return t.post(c+"authenticate/auth/nativeGoogle",{profile:e})}var c=e.baseURL;return{googleSignIn:r,register:s}}e.module("petal.home").service("RequestsService",["homeService","$http","$q","$ionicLoading","$cordovaPushV5","$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){var i=e.localStorage,s={},r={setUser:function(e){if(e)i.setItem("user",JSON.stringify(e));else{var t=o.getPayload().sub;if(t)return n.get(a.baseURL+"user/get/"+t).then(function(e){i.setItem("user",JSON.stringify(e.data))})}},getUser:function(){return JSON.parse(i.getItem("user"))},removeUser:function(){s=null,i.removeItem("user")},isUserExists:function(){return!!r.getUser()}};return r}e.module("petal.home").factory("userData",["$window","$state","$auth","$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){u()}function s(){p.peopleSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.peopleSearchText=e),u()}function c(){p.params.page+=1,l()}function l(){n.getAllUsers(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.peopleList.push(e)}),p.initialSearchCompleted=!0,t.data.total>p.peopleList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.peopleList=[],p.params={limit:25,page:1},p.peopleSearchText&&(p.params.interest=p.peopleSearchText),l()}var p=this;p.getAllPeople=l,p.pullRefreshPeople=i,p.loadMorePeople=c,p.searchCrossSubmit=s,p.peopleSearchTextSubmit=r,u()}e.module("petal.people").controller("AllPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){l()}function s(){u.params.page+=1,c()}function r(){l()}function c(){n.getNearbyUsers(u.params).then(function(o){e.forEach(o.data.docs,function(e){u.peopleList.push(e)}),u.noPeople=!o.data.total,u.initialSearchCompleted=!0,o.data.total>u.peopleList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1,t.$broadcast("scroll.infiniteScrollComplete")}).catch(function(e){console.log(e)}).finally(function(){u.initialSearchCompleted=!0,t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.peopleList=[],u.params={limit:25,page:1,distance:u.distance},c()}var u=this;u.getNearbyPeople=c,u.pullRefreshPeople=i,u.loadMorePeople=s,u.releaseRange=r,u.distance=10,l()}e.module("petal.people").controller("NearbyPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.people").controller("PeopleParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){c()}function s(){l.params.page+=1,r()}function r(){n.getReceivedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:10,page:1},r()}var l=this;l.getReceivedPeople=r,l.pullRefreshPeople=i,l.loadMorePeople=s,c()}e.module("petal.people").controller("ReceivedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){c()}function s(){l.params.page+=1,r()}function r(){n.getRequestedUsers(l.params).then(function(t){console.log(t),e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRequestedPeople=r,l.pullRefreshPeople=i,l.loadMorePeople=s,c()}e.module("petal.people").controller("RequestedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){c()}function s(){l.params.page+=1,r()}function r(){n.getRevealedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRevealedPeople=r,l.pullRefreshPeople=i,l.loadMorePeople=s,c()}e.module("petal.people").controller("RevealedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",templateUrl:"app/people/views/peopleListTemplate.html",replace:!0,scope:{listType:"@listType",peopleList:"=peopleList",peopleSearchTextSubmit:"&peopleSearchTextSubmit"},controller:["$scope",function(t){t.currentUser=e.getUser(),t.setPeopleSearch=function(e,o){t.peopleSearchTextSubmit&&(t.peopleSearchTextSubmit({interest:e}),o.stopPropagation())},t.removeAfterDecided=function(e){t.peopleList.splice(e,1)}}]}}e.module("petal.people").directive("peopleList",["userData",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"A",scope:{deleteChat:"@",afterCallback:"&"},link:function(n,a){a.bind("click",function(a){e.show({titleText:"Delete ",buttons:[{text:'<i class="icon ion-share"></i> Delete Chat '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.deleteChatRoom(n.deleteChat).then(function(e){n.afterCallback&&n.afterCallback(),window.alert(e.data),o.go("home.chat.all")}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),a.stopPropagation()})}}}function o(e){return{scope:{userBlock:"@",chatDelete:"@",blockId:"@"},link:function(t,o){t.userBlock="true"===t.userBlock,t.afterCallback=function(){t.popover.remove(),window.history.back()},o.bind("click",function(o){e.fromTemplateUrl("app/user/views/settingsTemplate.html",{scope:t}).then(function(e){t.popover=e,t.popover.show(o)}),o.stopPropagation()})}}}function n(e){return{scope:{chatPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("chatBox",{user:t.chatPage}),o.stopPropagation()})}}}function a(e){return{scope:{userPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("home.userPage",{user:t.userPage}),o.stopPropagation()})}}}function i(e,t){return{restrict:"A",scope:{afterCallback:"&",cancelReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Cancel Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.cancel(o.cancelReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function s(e,t){return{restrict:"A",scope:{afterCallback:"&",decideReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Accept Reveal Request'},{text:'<i class="icon ion-share"></i> Deny Reveal Request'}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e?t.accept(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}):1===e&&t.ignore(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function r(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Delete Reveal '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.finish(o.deleteReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function c(e,t){return{restrict:"A",scope:{afterCallback:"&",sendReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Send Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.initiate(o.sendReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function l(e,t){return{restrict:"A",scope:{createBlock:"@",afterCallback:"&"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block User",buttons:[{text:'<i class="icon ion-share"></i> Block'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.create(o.createBlock).then(function(e){window.alert("user blocked"),o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function u(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteBlock:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block",buttons:[{text:'<i class="icon ion-share"></i> Unblock User '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.remove(o.deleteBlock).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}e.module("petal.people").directive("cancelReveal",["$ionicActionSheet","revealService",i]).directive("decideReveal",["$ionicActionSheet","revealService",s]).directive("deleteReveal",["$ionicActionSheet","revealService",r]).directive("sendReveal",["$ionicActionSheet","revealService",c]).directive("createBlock",["$ionicActionSheet","blockService",l]).directive("deleteBlock",["$ionicActionSheet","blockService",u]).directive("deleteChat",["$ionicActionSheet","chatService","$state",t]).directive("chatPage",["$state",n]).directive("userSettings",["$ionicPopover",o]).directive("userPage",["$state",a])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return o.all=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function i(o){return o.revealed=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function s(o){return o.received=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function r(o){return o.requested=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function c(o,n){e.get(t.baseURL+"user/getUsers",{params:n}).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)})}function l(a){1==a.page&&o.setUserLocation(),a.nearby=!0;var i=n.defer();return o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"user/getUsers",{params:a}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)})}).catch(function(e){window.console.log(e),c(i,a)}),i.promise}this.getAllUsers=a,this.getRevealedUsers=i,this.getNearbyUsers=l,this.getRequestedUsers=r,this.getReceivedUsers=s,this.getNearbyUsers=l}e.module("petal.people").service("peopleService",["$http","homeService","userLocationService","$q",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"upvote/get/"+o)}function n(o){return e.post(t.baseURL+"upvote/create/"+o)}function a(o){return e.post(t.baseURL+"upvote/delete/"+o)}this.createUpvote=n,this.deleteUpvote=a,this.getUpvote=o}e.module("petal.post").service("upvoteService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){u()}function s(){p.postSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.postSearchText=e),p.postSearchText&&u()}function c(){p.params.page+=1,l()}function l(){p.noPosts=!1,n.getAllPosts(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.postsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.postsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.postsList=[],p.params={limit:5,page:1},p.postSearchText&&(p.params.interest=p.postSearchText),l()}var p=this;p.getAllPosts=l,p.pullRefreshPosts=i,p.loadMorePosts=c,p.postSearchTextSubmit=r,p.searchCrossSubmit=s,p.params={limit:3,page:1},u()}e.module("petal.post").controller("AllPostController",["$scope","$state","postService","$ionicLoading",t])
}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function i(){n.show(),o.submitPost(s.post).then(function(e){n.hide(),t.go("home.post.latest")}).catch(function(e){console.log("post controller error"),console.log(e)}).finally(function(){n.hide()})}var s=this;s.submitPost=i,s.post={},n.hide(),s.goBack=function(){window.history.back()},e.$watch(function(){return s.post.content},function(e,t){e&&e.length>300&&(s.post.content=t)}),s.selectRandomImage=function(e){s.post.image=e},s.loadRandomImages=function(e){s.loadingRandomImage=!0,s.randomImages=[],a.getImages(e).then(function(e){s.randomImages=e.data,s.loadingRandomImage=!1}).catch(function(e){console.log("images err"),console.log(e)})},s.cancelUpload=function(){s.post.imageId&&a.deleteUpload(s.post.imageId).then(function(e){s.post.image="",s.post.imageId=""})},s.submitUpload=function(e,t){s.post.imageId&&s.cancelUpload(),s.loadingImage=!0,s.file=e,s.errFile=t&&t[0],s.file&&a.submitUpload(s.file).then(function(e){s.post.image=e.data.image,s.post.imageId=e.data.imageId,s.loadingImage=!1})}}e.module("petal.post").controller("CreatePostController",["$scope","$state","postService","$ionicLoading","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){c()}function s(){l.params.page+=1,r()}function r(){n.getLatestPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),l.noPosts=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getLatestPosts=r,l.pullRefreshPosts=i,l.loadMorePosts=s,c()}e.module("petal.post").controller("LatestPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){l()}function s(){l()}function r(){u.params.page+=1,c()}function c(){n.getNearbyPosts(u.params).then(function(t){e.forEach(t.data.docs,function(e){u.postsList.push(e)}),u.noPosts=!t.data.total,u.initialSearchCompleted=!0,t.data.total>u.postsList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide(),u.initialSearchCompleted=!0})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.postsList=[],u.params={limit:10,page:1,distance:u.distance},c()}var u=this;u.getNearbyPosts=c,u.pullRefreshPosts=i,u.loadMorePosts=r,u.releaseRange=s,u.distance=10,l()}e.module("petal.post").controller("NearbyPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function i(){c()}function s(){l.params.page+=1,r()}function r(){n.getPopularPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),t.data.total||(l.noPosts=!0),l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getPopularPosts=r,l.pullRefreshPosts=i,l.loadMorePosts=s,c()}e.module("petal.post").controller("PopularPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){}e.module("petal.post").controller("PostParentController",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i){function s(){o.getPost(n.id).then(function(e){p.post=e.data,p.distanceObj={latitude:p.post.loc[1],longitude:p.post.loc[0],diatance:0},u()})}function r(){i.getUpvote(p.currentPost).then(function(e){p.postUpvoted=e.data||!1}).catch(function(e){console.log(e)})}function c(){i.createUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function l(){i.deleteUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function u(){o.getDistance(p.distanceObj)}var p=this;p.getSinglePost=s,p.submitPostUpvote=c,p.deletePostUpvote=l,p.getPostDistance=u,p.back=function(){window.history.back()},function(){p.currentPost=n.id,s(),r()}()}e.module("petal.post").controller("SinglePostController",["$scope","$state","postService","$stateParams","$ionicHistory","upvoteService",t])}(window.angular),function(e){"use strict";function t(t,o){return{restrict:"A",scope:{postSearchModal:"@"},link:function(n,a){function i(){n.postSearchData.postsList=[];var e={interest:n.postSearchData.postSearchModal,page:1,limit:50};n.getPosts(e)}function s(){return t.fromTemplateUrl("app/post/views/postSearchModal.html",{scope:n}).then(function(e){n.modal=e})}n.postSearchData={},n.postSearchData.postSearchModal=n.postSearchModal,n.postSearchData.postsList=[],n.modalsList=[],n.clickPostSearch=i,n.showPostModal=function(){s().then(function(){n.modal.show()}),n.$on("modal.hidden",function(){n.modal.remove()})},n.getPosts=function(t){o.getAllPosts(t).then(function(t){e.forEach(t.data.docs,function(e){n.postSearchData.postsList.push(e)}),n.postSearchData.noPosts=!t.data.total,n.postSearchData.initialSearchCompleted=!0,t.data.total>n.postSearchData.postsList.length?n.postSearchData.canLoadMoreResults=!0:n.postSearchData.canLoadMoreResults=!1})},a.bind("click",function(e){var t={interest:n.postSearchData.postSearchModal,page:1,limit:50};n.showPostModal(),e.stopPropagation(),n.getPosts(t)})}}}e.module("petal.post").directive("postSearchModal",["$ionicModal","postService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){return{restrict:"E",templateUrl:"app/post/views/postsListTemplate.html",scope:{postsList:"=postsList",postSearchTextSubmit:"&postSearchTextSubmit"},replace:!0,link:function(o){function n(t){o.modal.hide(),e.go("home.userPage",{user:t})}function i(){return a.fromTemplateUrl("app/post/views/postModal.html",{scope:o}).then(function(e){o.modal=e})}o.getTime=function(e){return moment(e).fromNow()},o.currentUser=t.getUser(),o.setPostSearch=function(e){o.postSearchTextSubmit&&o.postSearchTextSubmit({interest:e})},o.userPage=n,o.postModal={},o.postModal.userPage=n,o.showPostModal=function(e){o.postModal.post=e,o.postModal.post.views+=1,i().then(function(){o.modal.show()}),o.$on("modal.hidden",function(){o.modal.remove()})}}}}e.module("petal.post").directive("postsList",["$state","userData","postService","upvoteService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"E",templateUrl:"app/post/views/postUpvoteTemplate.html",scope:{postId:"=postId",upvotesLength:"=upvotesLength"},replace:!0,link:function(e){function o(){t.getUpvote(e.postId).then(function(t){e.postUpvoted=t.data,e.loadingUpvote=!1}).catch(function(e){console.log("check error"),console.log(e)})}function n(){e.postUpvoted=!0,t.createUpvote(e.postId).then(function(){e.upvotesLength+=1}).catch(function(e){console.log("submit error"),console.log(e)})}function a(){e.postUpvoted=!1,t.deleteUpvote(e.postId).then(function(){e.upvotesLength-=1}).catch(function(e){window.alert(e)})}e.checkPostUpvote=o,e.submitPostUpvote=n,e.deletePostUpvote=a,function(){e.loadingUpvote=!0,o()}()}}}e.module("petal.post").directive("postUpvote",["$state","upvoteService","$timeout",t])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return e.get(t.baseURL+"post/getPosts",{params:o})}function i(o,n){e.get(t.baseURL+"post/getPosts",{params:n}).then(function(e){console.log("without position"),o.resolve(e)}).catch(function(e){o.reject(e)})}function s(a){a.nearby=!0;var s=n.defer();return 1==a.page&&o.setUserLocation(),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"post/getPosts",{params:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}).catch(function(e){window.console.log(e),i(s,a)}),s.promise}function r(o){return o.sort="-time",e.get(t.baseURL+"post/getPosts",{params:o})}function c(o){return o.sort="-upvotesLength",e.get(t.baseURL+"post/getPosts",{params:o})}function l(a){var i=n.defer();return console.log("entered submit post"),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.post(t.baseURL+"post/create",{post:a}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)})}).catch(function(o){e.post(t.baseURL+"post/create",{post:a}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)})}),i.promise}function u(o){return e.delete(t.baseURL+"post/delete/"+o)}function p(o){return e.get(t.baseURL+"post/get/"+o)}function d(e){var t=n.defer(),a=e.latitude,i=e.longitude;return o.getUserLocation().then(function(e){var o=e.latitude,n=e.longitude,s=f(o-a),r=f(n-i),c=Math.sin(s/2)*Math.sin(s/2)+Math.cos(f(a))*Math.cos(f(o))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=6371*l;t.resolve(Math.ceil(u))}).catch(function(e){console.log(e)}),t.promise}function f(e){return e*(Math.PI/180)}this.getAllPosts=a,this.getNearbyPosts=s,this.getLatestPosts=r,this.getPopularPosts=c,this.submitPost=l,this.deletePost=u,this.getPost=p,this.getDistance=d}e.module("petal.post").service("postService",["$http","homeService","userLocationService","$q",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i,s){function r(){l.user=n.getUser(),e.editForm.user=l.user,l.user.interests.length&&(e.editForm.user.interests="!"+l.user.interests.join("!"))}function c(){s.hide(),e.editForm={},r()}var l=this;l.activate=c,c(),e.editForm.submitUser=function(){s.show(),a.updateUser(e.editForm.user).then(function(e){window.alert("updated user"),t.go("home.user.userMePage")}).catch(function(e){}).finally(function(){n.setUser(),s.hide()})},e.editForm.uploadUserPicture=function(t,n){e.loadingImage=!0,l.file=t,l.errFile=n&&n[0],t&&(l.file.upload=i.upload({url:o.baseURL+"upload/singleUpload",data:{file:l.file}}),l.file.upload.then(function(t){l.file.result=t.data,e.editForm.user.picture=t.data,e.loadingImage=!1}))}}e.module("petal.user").controller("UserEditPageController",["$scope","$state","homeService","userData","userService","Upload","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i,s,r){function c(e){s.open("https://www.facebook.com/"+e,"_system")}function l(){n.setUser().then(function(){m.user=n.getUser()}).catch(function(e){window.console.log(e)}).finally(function(){r.hide()})}function u(){m.params={page:1,limit:100,user:n.getUser()._id},i.getLatestPosts(m.params).then(function(e){m.postsList=e.data.docs})}function p(e){m.activeTab=e}function d(e){return e===m.activeTab}function f(){o.logout(),t.go("authenticate")}function h(){l(),g(),e.$broadcast("scroll.refreshComplete"),u()}function g(){a.getRequestedUsers({page:1,limit:25}).then(function(e){m.peopleList=e.data.docs,m.total=e.data.total})}var m=this;m.logout=f,m.activate=h,m.activeTab=1,m.activateTab=p,m.isTabActive=d,m.openFacebook=c,h()}e.module("petal.user").controller("UserMePageController",["$scope","$state","$auth","userData","peopleService","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,i,s,r,c){function l(e){r.open("https://www.facebook.com/"+e,"_system")}function u(){m.params={page:1,limit:100,user:a.user},s.getLatestPosts(m.params).then(function(e){m.postsList=e.data.docs})}function p(e){m.activeTab=e}function d(e){return e===m.activeTab}function f(){n.check(a.user).then(function(e){m.revealChoice=e.data.status})}function h(){r.history.back()}function g(){o.getUser(a.user).then(function(e){m.user=e.data}).catch(function(e){}).finally(function(){c.hide()})}var m=this;m.checkReveal=f,m.goBack=h,m.activateTab=p,m.isTabActive=d,m.openFacebook=l,function(){g(),m.revealChoice=i,m.activeTab=1,u()}()}e.module("petal.user").controller("UserPageController",["$state","$auth","userService","revealService","$stateParams","friends","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o){alert(o)}e.module("petal.user").controller("UserPagePostsController",["$state","$stateParams","friends",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.user").controller("UserParentController",[t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",replace:!0,templateUrl:"app/user/views/blockedList.html",link:function(t){t.afterCallback=function(e){t.peopleList.splice(e,1)},e.getBlocks().then(function(e){window.console.log(e),t.peopleList=e.data})}}}e.module("petal.user").directive("blockedList",["blockService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.post(t.baseURL+"block/create",{secondUser:o})}function n(o){return e.post(t.baseURL+"block/delete",{secondUser:o})}function a(o){return e.get(t.baseURL+"block/get/"+o)}function i(){return e.get(t.baseURL+"block/getBlocks/")}this.create=o,this.remove=n,this.getBlocks=i,this.check=a}e.module("petal.user").service("blockService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(e){return{secondUser:e}}function n(o){return e.post(t.baseURL+"reveal/initiate",{secondUser:o})}function a(o){return e.post(t.baseURL+"reveal/accept",{secondUser:o})}function i(o){return e.post(t.baseURL+"reveal/ignore",{secondUser:o})}function s(o){return e.post(t.baseURL+"reveal/cancel",{secondUser:o})}function r(n){var a=o(n);return e.get(t.baseURL+"reveal/received",{params:a})}function c(n){var a=o(n);return e.get(t.baseURL+"reveal/requested",{params:a})}function l(n){var a=o(n);return e.get(t.baseURL+"reveal/revealed",{params:a})}function u(o){return e.post(t.baseURL+"reveal/finish",{secondUser:o})}function p(n){var a=o(n);return e.get(t.baseURL+"reveal/check",{params:a})}this.initiate=n,this.accept=a,this.ignore=i,this.cancel=s,this.received=r,this.requested=c,this.revealed=l,this.finish=u,this.check=p}e.module("petal.user").service("revealService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function i(){var t=o.defer(),a={timeout:3e3,enableHighAccuracy:!1};return e.getCurrentPosition(a).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.resolve(o)}).catch(function(){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.resolve(o)}).catch(function(e){window.console.log("error from google"),window.console.log(e),t.reject("Not able to acces your location.Make sure location is enabled.")})}),t.promise}function s(){var o={timeout:3e3,enableHighAccuracy:!1};e.getCurrentPosition(o).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.updateUser(o)}).catch(function(e){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.updateUser(o)}).catch(function(){3==e.code?a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1}):2!=e.code&&1!=e.code||a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1})})})}this.getUserLocation=i,this.setUserLocation=s}e.module("petal.user").service("userLocationService",["$cordovaGeolocation","userService","$q","$http","toastr",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"user/get/"+o)}function n(o){return e.post(t.baseURL+"user/update/",{user:o})}this.updateUser=n,this.getUser=o}e.module("petal.user").service("userService",["$http","homeService",t])}(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjaGF0L2NoYXRNb2R1bGUuanMiLCJob21lL2hvbWVNb2R1bGUuanMiLCJwZW9wbGUvcGVvcGxlTW9kdWxlLmpzIiwicG9zdC9wb3N0TW9kdWxlLmpzIiwidXNlci91c2VyTW9kdWxlLmpzIiwiY2hhdC9jb250cm9sbGVyL2FsbENoYXRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRCb3hDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRQYXJlbnRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL3JldmVhbGVkQ2hhdENvbnRyb2xsZXIuanMiLCJjaGF0L3NlcnZpY2UvY2hhdFNlcnZpY2UuanMiLCJjaGF0L3NlcnZpY2Uvc29ja2V0LmpzIiwiY2hhdC9zZXJ2aWNlL3NvY2tldFVzZXJTZXJ2aWNlLmpzIiwiaG9tZS9jb250cm9sbGVyL2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlci5qcyIsImhvbWUvY29udHJvbGxlci9ob21lQ29udHJvbGxlci5qcyIsImhvbWUvZGlyZWN0aXZlL2Rpc3RhbmNlVmlld0RpcmVjdGl2ZS5qcyIsImhvbWUvZGlyZWN0aXZlL2tlZXBTY3JvbGxEaXJlY3RpdmUuanMiLCJob21lL3NlcnZpY2UvaG9tZVNlcnZpY2UuanMiLCJob21lL3NlcnZpY2Uvbm90aWZpY2F0aW9uU2VydmljZS5qcyIsImhvbWUvc2VydmljZS91c2VyZGF0YS5qcyIsInBlb3BsZS9jb250cm9sbGVyL2FsbFBlb3BsZUNvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9uZWFyYnlQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2NvbnRyb2xsZXIvcGVvcGxlUGFyZW50Q29udHJvbGxlci5qcyIsInBlb3BsZS9jb250cm9sbGVyL3JlY2VpdmVkUGVvcGxlQ29udHJvbGxlci5qcyIsInBlb3BsZS9jb250cm9sbGVyL3JlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9yZXZlYWxlZFBlb3BsZUNvbnRyb2xsZXIuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3Blb3BsZUxpc3REaXJlY3RpdmUuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3JldmVhbERpcmVjdGl2ZS5qcyIsInBlb3BsZS9zZXJ2aWNlL3Blb3BsZVNlcnZpY2UuanMiLCJwZW9wbGUvc2VydmljZS91cHZvdGVTZXJ2aWNlLmpzIiwicG9zdC9jb250cm9sbGVyL2FsbFBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL2NyZWF0ZVBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL2xhdGVzdFBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL25lYXJieVBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL3BvcHVsYXJQb3N0Q29udHJvbGxlci5qcyIsInBvc3QvY29udHJvbGxlci9wb3N0UGFyZW50Q29udHJvbGxlci5qcyIsInBvc3QvY29udHJvbGxlci9zaW5nbGVQb3N0Q29udHJvbGxlci5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RTZWFyY2hNb2RhbC5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RzTGlzdERpcmVjdGl2ZS5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RVcHZvdGVEaXJlY3RpdmUuanMiLCJwb3N0L3NlcnZpY2UvcG9zdFNlcnZpY2UuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlckVkaXRQYWdlQ29udHJvbGxlci5qcyIsInVzZXIvY29udHJvbGxlci91c2VyTWVQYWdlQ29udHJvbGxlci5qcyIsInVzZXIvY29udHJvbGxlci91c2VyUGFnZUNvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlclBhZ2VQb3N0c0NvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlclBhcmVudENvbnRyb2xsZXIuanMiLCJ1c2VyL2RpcmVjdGl2ZS9ibG9ja2VkTGlzdERpcmVjdGl2ZS5qcyIsInVzZXIvc2VydmljZS9ibG9ja1NlcnZpY2UuanMiLCJ1c2VyL3NlcnZpY2UvcmV2ZWFsU2VydmljZS5qcyIsInVzZXIvc2VydmljZS91c2VyTG9jYXRpb25TZXJ2aWNlLmpzIiwidXNlci9zZXJ2aWNlL3VzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJjb25maWdGdW5jdGlvbiIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJ0b2FzdHJDb25maWciLCJ0YWJzIiwicG9zaXRpb24iLCJzY3JvbGxpbmciLCJqc1Njcm9sbGluZyIsIm90aGVyd2lzZSIsImV4dGVuZCIsImF1dG9EaXNtaXNzIiwibWF4T3BlbmVkIiwiYXBwIiwibW9kdWxlIiwiY29uZmlnIiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIiRpb25pY1BsYXRmb3JtIiwiJGlvbmljTG9hZGluZyIsIlJlcXVlc3RzU2VydmljZSIsIiRjb3Jkb3ZhUHVzaFY1IiwiJGlvbmljSGlzdG9yeSIsImJhY2tCdXR0b25FeGl0IiwicmVnaXN0ZXJCYWNrQnV0dG9uQWN0aW9uIiwiZSIsImJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCIsImlvbmljIiwiUGxhdGZvcm0iLCJleGl0QXBwIiwiYmFja1ZpZXciLCJnb0JhY2siLCJ3aW5kb3ciLCJwbHVnaW5zIiwidG9hc3QiLCJzaG93U2hvcnRDZW50ZXIiLCJhIiwiYiIsInNldFRpbWVvdXQiLCJwcmV2ZW50RGVmYXVsdCIsIm5vdGlmaWNhdGlvbkZ1bmN0aW9uIiwicmVnaXN0ZXIiLCIkb24iLCJldmVudCIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwicmVhZHkiLCJjb3Jkb3ZhIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0Iiwib25lcnJvciIsImVycm9yTXNnIiwidXJsIiwibGluZU51bWJlciIsImdvIiwiaGlkZSIsInN0YXRlIiwiYWJzdHJhY3QiLCJ2aWV3cyIsImNoYXQtdGFiIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZSIsImJsb2NrZWQiLCIkc3RhdGVQYXJhbXMiLCJibG9ja1NlcnZpY2UiLCIkcSIsImRlZmVyIiwiY2hlY2siLCJ1c2VyIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJwcm9taXNlIiwiJGF1dGhQcm92aWRlciIsImF1dGhlbnRpY2F0ZVVybCIsInJlZGlyZWN0VXJsMiIsImZhY2Vib29rIiwiY2xpZW50SWQiLCJyZWRpcmVjdFVyaSIsImdvb2dsZSIsInJlZGlyZWN0SWZVc2VyTm90QXV0aGVudGljYXRlZCIsIiRhdXRoIiwiJHRpbWVvdXQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJwZW9wbGUtdGFiIiwicG9zdC10YWIiLCJhbGVydCIsImhpc3RvcnkiLCJiYWNrIiwiZnJpZW5kcyIsInJldmVhbFNlcnZpY2UiLCJzdGF0dXMiLCJ1c2VyLXRhYiIsImV4dHJhLXRhYiIsIkFsbENoYXRDb250cm9sbGVyIiwiJHNjb3BlIiwiY2hhdFNlcnZpY2UiLCJTb2NrZXQiLCJtZXNzYWdlUmVjZWl2ZWQiLCJtZXNzYWdlIiwibmV3Q2hhdFJvb20iLCJjcmVhdG9yMiIsIm5ld0NoYXQiLCJsYXN0TWVzc2FnZSIsIl9pZCIsInR5cGUiLCJjaCIsImFjYyIsImNoYXRSb29tc0xpc3QiLCJsZW5ndGgiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwicHVsbFJlZnJlc2hDaGF0cyIsImFjdGl2YXRlIiwibG9hZE1vcmVDaGF0cyIsInBhcmFtcyIsInBhZ2UiLCJnZXRBbGxDaGF0Um9vbXMiLCJmb3JFYWNoIiwiZG9jcyIsInZhbHVlIiwicHVzaCIsIm5vUG9zdHMiLCJ0b3RhbCIsImluaXRpYWxTZWFyY2hDb21wbGV0ZWQiLCJjYW5Mb2FkTW9yZVJlc3VsdHMiLCJmaW5hbGx5IiwiJGJyb2FkY2FzdCIsImxpbWl0IiwidGhpcyIsIm9uIiwiY2hhdFBhZ2UiLCJ1c2VySWQiLCJDaGF0Qm94Q29udHJvbGxlciIsInVzZXJEYXRhIiwiaG9tZVNlcnZpY2UiLCIkaW9uaWNTY3JvbGxEZWxlZ2F0ZSIsInVzZXJTZXJ2aWNlIiwiVXBsb2FkIiwiJHdpbmRvdyIsImNiYyIsImdldENoYXRNZXNzYWdlcyIsImdldFJlY2VpdmVyIiwiZ2V0VXNlciIsInJlY2VpdmVyVXNlcklEIiwicmVjZWl2ZXJVc2VyIiwiZXJyIiwic2Nyb2xsQm90dG9tIiwiY2hhdFJvb21JZCIsInJlcyIsImNoYXQiLCJjaGF0TGlzdCIsInNvY2tldEpvaW4iLCJlbWl0Iiwicm9vbUlkIiwibWVzc2FnZUxvYWRpbmciLCJpc0Jsb2NrZWQiLCJjdXJyZW50VXNlciIsIm1lc3NhZ2VUcnlDb3VudCIsInNob3ciLCJnZXRDaGF0Um9vbSIsImNoYXRSb29tIiwiY2xpY2tTdWJtaXQiLCJmb2N1c0lucHV0IiwiaXNWaXNpYmxlIiwiY2hhdE9iaiIsIm15TXNnIiwicmVjZWl2ZXIiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJzdWJtaXRVcGxvYWQiLCJmaWxlIiwidXBsb2FkIiwiYmFzZVVSTCIsInJlc3VsdCIsInVwbG9hZGVkSW1hZ2UiLCJjYW5jZWxVcGxvYWQiLCJzaG93VGVtcEltYWdlIiwidGVtcEltYWdlVXJsIiwidXBsb2FkU2luZ2xlSW1hZ2UiLCJlcnJGaWxlcyIsImVyckZpbGUiLCJsZWF2ZUNoYXRCb3giLCJ1cGRhdGVDaGF0Um9vbSIsIkNoYXRQYXJlbnRDb250cm9sbGVyIiwiUmV2ZWFsZWRDaGF0Q29udHJvbGxlciIsImdldFJldmVhbGVkQ2hhdFJvb21zIiwiUmV2aWV3U2VydmljZSIsIiRodHRwIiwiZGVsZXRlQ2hhdFJvb20iLCJpZCIsInBvc3QiLCJnZXQiLCJyZXZlYWxlZCIsInJzIiwic2VydmljZSIsIlNvY2tldEZhY3RvcnkiLCJzb2NrZXRGYWN0b3J5IiwicHJlZml4IiwiaW9Tb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJmYWN0b3J5Iiwic29ja2V0RmFjdG9yeUZ1bmN0aW9uIiwiQXV0aGVudGljYXRpb25Db250cm9sbGVyIiwidXNlckxvY2F0aW9uU2VydmljZSIsIiRpb25pY01vZGFsIiwic3VjY2Vzc2Z1bEF1dGhlbnRpY2F0aW9uIiwic2V0VXNlciIsInNldFVzZXJMb2NhdGlvbiIsImRldmljZV90b2tlbiIsInNvY2lhbEF1dGhlbnRpY2F0ZSIsInByb3ZpZGVyIiwiYXV0aGVudGljYXRlIiwibG9hZFBvc3RNb2RhbCIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwibW9kYWwiLCJhdXRoTG9nb3V0IiwibG9nb3V0IiwicmVtb3ZlVXNlciIsInBoYyIsImlzQXV0aCIsIndlYlNpZ25JbiIsImdvb2dsZVNpZ25JbiIsInRlbXBsYXRlIiwiZ29vZ2xlcGx1cyIsImxvZ2luIiwid2ViQ2xpZW50SWQiLCJ1c2VyX2RhdGEiLCJwcm9maWxlIiwiZGlzcGxheU5hbWUiLCJpbWFnZVVybCIsInNldFRva2VuIiwidG9rZW4iLCJtc2ciLCJIb21lQ29udHJvbGxlciIsInRvYXN0ciIsIiRpb25pY1RhYnNEZWxlZ2F0ZSIsIm1lc3NhZ2VTdHJpbmciLCJ1c2VyTmFtZSIsImFub25OYW1lIiwiZmFjZWJvb2tOYW1lIiwiZ29vZ2xlTmFtZSIsImN1cnJlbnQiLCJuYW1lIiwiaW5mbyIsImFsbG93SHRtbCIsIm9uVGFwIiwiaGMiLCJiYWRnZVZhbHVlIiwiY2hhdENsaWNrZWQiLCJzbGlkZUhlYWRlciIsInNsaWRlSGVhZGVyUHJldmlvdXMiLCJnb0ZvcndhcmQiLCJzZWxlY3RlZCIsInNlbGVjdGVkSW5kZXgiLCJzZWxlY3QiLCJkaXJlY3RpdmUiLCJwb3N0U2VydmljZSIsInJlc3RyaWN0IiwicG9zaXRpb25Db3JkcyIsInJlcGxhY2UiLCJsaW5rIiwiZ2V0RGlzdGFuY2UiLCJkaXN0YW5jZU9iaiIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiZGlzdGFuY2UiLCJ3YXRjaFNjcm9sbCIsImVsZW0iLCJiaW5kIiwic2Nyb2xsVG9wIiwic3JjRWxlbWVudCIsIiRhcHBseSIsImltYWdlTW9kYWwiLCJzaG93SW1hZ2VNb2RhbCIsImltYWdlIiwibG9hZE1vZGFsIiwiY3VycmVudEltYWdlIiwic3RvcFByb3BhZ2F0aW9uIiwiU2Nyb2xsUG9zaXRpb25zIiwiZ2V0U2Nyb2xsUG9zaXRpb24iLCJvZmZzZXQiLCJzY3JvbGxUbyIsImxlZnQiLCJ0b3AiLCJ0cmlnZ2VyIiwiZWxlbWVudCIsIiR3YXRjaCIsImZvY3VzIiwiaW1nTGFyZ2UiLCJpbWdTbWFsbCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwiY2hpbGRyZW4iLCJmaW5kIiwiY3NzIiwiSG9tZVNlcnZpY2UiLCJkZWxldGVVcGxvYWQiLCJ0aGF0IiwicHVibGljX2lkIiwiZ2V0SW1hZ2VzIiwiaW1hZ2VUZXh0IiwiZGVmZXJyZWQiLCJvcHRpb25zIiwiYW5kcm9pZCIsInNlbmRlcklEIiwidmlicmF0ZSIsImJyb3dzZXIiLCJpb3MiLCJiYWRnZSIsInNvdW5kIiwid2luZG93cyIsImluaXRpYWxpemUiLCJvbk5vdGlmaWNhdGlvbiIsImFyZ3VtZW50cyIsIm9uRXJyb3IiLCJyZWdpc3RyYXRpb25JZCIsImJhc2VfdXJsIiwicmVqZWN0Iiwic3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsImNhY2hlZFVzZXIiLCJvYmoxIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRQYXlsb2FkIiwic3ViIiwicGFyc2UiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsImlzVXNlckV4aXN0cyIsIkFsbFBlb3BsZUNvbnRyb2xsZXIiLCJwZW9wbGVTZXJ2aWNlIiwicHVsbFJlZnJlc2hQZW9wbGUiLCJzZWFyY2hDcm9zc1N1Ym1pdCIsImFwYyIsInBlb3BsZVNlYXJjaFRleHQiLCJzaG93U2VhcmNoQ3Jvc3MiLCJwZW9wbGVTZWFyY2hUZXh0U3VibWl0IiwiaW50ZXJlc3QiLCJsb2FkTW9yZVBlb3BsZSIsImdldEFsbFBlb3BsZSIsImdldEFsbFVzZXJzIiwicGVvcGxlTGlzdCIsIk5lYXJieVBlb3BsZUNvbnRyb2xsZXIiLCJnZXROZWFyYnlQZW9wbGUiLCJyZWxlYXNlUmFuZ2UiLCJnZXROZWFyYnlVc2VycyIsIm5vUGVvcGxlIiwiUGVvcGxlUGFyZW50Q29udHJvbGxlciIsIlJlY2VpdmVkUGVvcGxlQ29udHJvbGxlciIsImdldFJlY2VpdmVkUGVvcGxlIiwiZ2V0UmVjZWl2ZWRVc2VycyIsIlJlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXIiLCJnZXRSZXF1ZXN0ZWRQZW9wbGUiLCJnZXRSZXF1ZXN0ZWRVc2VycyIsIlJldmVhbGVkUGVvcGxlQ29udHJvbGxlciIsImdldFJldmVhbGVkUGVvcGxlIiwiZ2V0UmV2ZWFsZWRVc2VycyIsImxpc3RUeXBlIiwic2V0UGVvcGxlU2VhcmNoIiwiJGV2ZW50IiwicmVtb3ZlQWZ0ZXJEZWNpZGVkIiwiaW5kZXgiLCJkZWxldGVDaGF0IiwiJGlvbmljQWN0aW9uU2hlZXQiLCJhZnRlckNhbGxiYWNrIiwidGl0bGVUZXh0IiwiYnV0dG9ucyIsInRleHQiLCJjYW5jZWxUZXh0IiwiY2FuY2VsIiwiYnV0dG9uQ2xpY2tlZCIsInVzZXJTZXR0aW5ncyIsIiRpb25pY1BvcG92ZXIiLCJ1c2VyQmxvY2siLCJjaGF0RGVsZXRlIiwiYmxvY2tJZCIsInBvcG92ZXIiLCJyZW1vdmUiLCJ1c2VyUGFnZSIsImNhbmNlbFJldmVhbCIsImRlY2lkZVJldmVhbCIsImFjY2VwdCIsImlnbm9yZSIsImRlbGV0ZVJldmVhbCIsImZpbmlzaCIsInNlbmRSZXZlYWwiLCJpbml0aWF0ZSIsImNyZWF0ZUJsb2NrIiwiY3JlYXRlIiwiZGVsZXRlQmxvY2siLCJQZW9wbGVTZXJ2aWNlIiwiYWxsIiwicmVjZWl2ZWQiLCJyZXF1ZXN0ZWQiLCJnZXRGaWx0ZXJlZFVzZXJzIiwidXNlcnMiLCJuZWFyYnkiLCJnZXRVc2VyTG9jYXRpb24iLCJVcHZvdGVTZXJ2aWNlIiwiZ2V0VXB2b3RlIiwicG9zdElkIiwiY3JlYXRlVXB2b3RlIiwiZGVsZXRlVXB2b3RlIiwiQWxsUG9zdENvbnRyb2xsZXIiLCJwdWxsUmVmcmVzaFBvc3RzIiwicG9zdFNlYXJjaFRleHQiLCJwb3N0U2VhcmNoVGV4dFN1Ym1pdCIsImxvYWRNb3JlUG9zdHMiLCJnZXRBbGxQb3N0cyIsInBvc3RzTGlzdCIsIkNyZWF0ZVBvc3RDb250cm9sbGVyIiwic3VibWl0UG9zdCIsImNwYyIsImNvbnRlbnQiLCJuZXdWYWwiLCJvbGRWYWwiLCJzZWxlY3RSYW5kb21JbWFnZSIsImltZyIsImxvYWRSYW5kb21JbWFnZXMiLCJsb2FkaW5nUmFuZG9tSW1hZ2UiLCJyYW5kb21JbWFnZXMiLCJpbWFnZUlkIiwibG9hZGluZ0ltYWdlIiwiTGF0ZXN0UG9zdENvbnRyb2xsZXIiLCJnZXRMYXRlc3RQb3N0cyIsIk5lYXJieVBvc3RDb250cm9sbGVyIiwiZ2V0TmVhcmJ5UG9zdHMiLCJQb3B1bGFyUG9zdENvbnRyb2xsZXIiLCJnZXRQb3B1bGFyUG9zdHMiLCJQb3N0UGFyZW50Q29udHJvbGxlciIsIlNpbmdsZVBvc3RDb250cm9sbGVyIiwidXB2b3RlU2VydmljZSIsImdldFNpbmdsZVBvc3QiLCJnZXRQb3N0IiwibG9jIiwiZGlhdGFuY2UiLCJnZXRQb3N0RGlzdGFuY2UiLCJjaGVja1Bvc3RVcHZvdGUiLCJjdXJyZW50UG9zdCIsInBvc3RVcHZvdGVkIiwic3VibWl0UG9zdFVwdm90ZSIsImRlbGV0ZVBvc3RVcHZvdGUiLCJwb3N0U2VhcmNoTW9kYWwiLCJjbGlja1Bvc3RTZWFyY2giLCJwb3N0U2VhcmNoRGF0YSIsImdldFBvc3RzIiwibW9kYWxzTGlzdCIsInNob3dQb3N0TW9kYWwiLCJnZXRUaW1lIiwidGltZSIsIm1vbWVudCIsImZyb21Ob3ciLCJzZXRQb3N0U2VhcmNoIiwicG9zdE1vZGFsIiwicG9zdFVwdm90ZSIsInVwdm90ZXNMZW5ndGgiLCJsb2FkaW5nVXB2b3RlIiwiUG9zdFNlcnZpY2UiLCJnZXRGaWx0ZXJlZFBvc3RzIiwicG9zdHMiLCJlcnIyIiwic29ydCIsImRlbGV0ZVBvc3QiLCJkZWxldGUiLCJwb3NPYmoiLCJsYXQxIiwibG9uMSIsImxhdDIiLCJsb24yIiwiZExhdCIsImRlZzJyYWQiLCJkTG9uIiwiTWF0aCIsInNpbiIsImNvcyIsImMiLCJhdGFuMiIsInNxcnQiLCJkIiwiY2VpbCIsImRlZyIsIlBJIiwiVXNlckVkaXRQYWdlQ29udHJvbGxlciIsInVtcGMiLCJlZGl0Rm9ybSIsImludGVyZXN0cyIsImpvaW4iLCJzdWJtaXRVc2VyIiwidXBkYXRlVXNlciIsInVwbG9hZFVzZXJQaWN0dXJlIiwicGljdHVyZSIsIlVzZXJNZVBhZ2VDb250cm9sbGVyIiwib3BlbkZhY2Vib29rIiwib3BlbiIsImdldFVzZXJQb3N0cyIsImFjdGl2YXRlVGFiIiwidGFiSW5kZXgiLCJhY3RpdmVUYWIiLCJpc1RhYkFjdGl2ZSIsImdldFJlcXVlc3RlZExpc3QiLCJVc2VyUGFnZUNvbnRyb2xsZXIiLCJ1cGMiLCJjaGVja1JldmVhbCIsInJldmVhbENob2ljZSIsIlVzZXJQYWdlUG9zdHNDb250cm9sbGVyIiwiVXNlclBhcmVudENvbnRyb2xsZXIiLCJibG9ja2VkTGlzdCIsImdldEJsb2NrcyIsIkJsb2NrU2VydmljZSIsInNlY29uZFVzZXIiLCJSZXZlYWxTZXJ2aWNlIiwiZ2V0UGFyYW1zIiwiVXNlckxvY2F0aW9uU2VydmljZSIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCJ0aW1lb3V0IiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb25zIiwiY29vcmRzIiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJjb2RlIiwid2FybmluZyIsIlVzZXJTZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBLFlBUUEsU0FBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsS0FBQUMsU0FBQSxVQUNBSCxFQUFBSSxVQUFBQyxhQUFBLEdBRUFQLEVBQUFRLFVBQUEscUJBQ0FWLEVBQUFXLE9BQUFOLEdBQ0FPLGFBQUEsRUFDQUMsVUFBQSxJQVpBLEdBQUFDLEdBQUFkLEVBQUFlLE9BQUEsU0FBQSxRQUFBLFlBQUEsYUFBQSxlQUFBLG1CQUNBLFlBQUEsU0FBQSxhQUFB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LGNBQUErVSxLQXdCQXZmLE9BQUFsQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG5cdHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwnLCBbJ2lvbmljJywgJ25nQW5pbWF0ZScsJ3NhdGVsbGl6ZXInLCAnbmdGaWxlVXBsb2FkJywgJ2J0Zm9yZC5zb2NrZXQtaW8nLFxyXG5cdFx0J25nQ29yZG92YScsICd0b2FzdHInLCAncGV0YWwuaG9tZScsICdwZXRhbC5wb3N0JywgJ3BldGFsLmNoYXQnLCAncGV0YWwudXNlcicsICdwZXRhbC5wZW9wbGUnLFxyXG5cdF0pO1xyXG5cdGFwcC5jb25maWcoWyckdXJsUm91dGVyUHJvdmlkZXInLCAnJHN0YXRlUHJvdmlkZXInLCAnJGlvbmljQ29uZmlnUHJvdmlkZXInLCAndG9hc3RyQ29uZmlnJywgY29uZmlnRnVuY3Rpb25dKTtcclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnRnVuY3Rpb24oJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIHRvYXN0ckNvbmZpZykge1xyXG5cdFx0JGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbihcImJvdHRvbVwiKTtcclxuXHRcdCRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyhmYWxzZSk7XHJcblx0XHQvLyRpb25pY0NvbmZpZ1Byb3ZpZGVyLnZpZXdzLnRyYW5zaXRpb24oJ25vbmUnKTtcclxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9ob21lL3Bvc3QvbmVhcmJ5Jyk7XHJcblx0XHRhbmd1bGFyLmV4dGVuZCh0b2FzdHJDb25maWcsIHtcclxuXHRcdFx0YXV0b0Rpc21pc3M6IHRydWUsXHJcblx0XHRcdG1heE9wZW5lZDogMSxcclxuXHRcdH0pO1xyXG5cdFx0XHJcblxyXG5cdH1cclxuXHJcblx0YXBwLnJ1bihbJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRpb25pY1BsYXRmb3JtJywgJyRpb25pY0xvYWRpbmcnLCAnUmVxdWVzdHNTZXJ2aWNlJywgJyRjb3Jkb3ZhUHVzaFY1JywgJyRpb25pY0hpc3RvcnknLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc3RhdGUsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNMb2FkaW5nLCBSZXF1ZXN0c1NlcnZpY2UsICRjb3Jkb3ZhUHVzaFY1LCAkaW9uaWNIaXN0b3J5KSB7XHJcblxyXG5cdFx0JGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcclxuXHRcdFx0Ly8gZm9yIGZvcm0gaW5wdXRzKVxyXG5cdFx0XHRpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucyAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XHJcblx0XHRcdFx0Y29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcclxuXHRcdFx0XHRjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbCh0cnVlKTtcclxuXHRcdFx0XHQvL3dpbmRvdy5wdXNoTm90aWZpY2F0aW9uID0gd2luZG93LnBsdWdpbnMucHVzaE5vdGlmaWNhdGlvbjtcclxuXHRcdFx0XHQvL2FwcFN0YXR1cygpO1xyXG5cdFx0XHRcdG5vdGlmaWNhdGlvbkZ1bmN0aW9uKCk7XHJcblx0XHRcdFx0YmFja0J1dHRvbkV4aXQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcclxuXHRcdFx0XHQvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXHJcblx0XHRcdFx0U3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKGVycm9yTXNnLCB1cmwsIGxpbmVOdW1iZXIpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH07XHJcblx0XHRcdFxyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZUVycm9yXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS5wb3N0Lm5lYXJieScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGJhY2tCdXR0b25FeGl0KCkge1xyXG5cdFx0XHQkaW9uaWNQbGF0Zm9ybS5yZWdpc3RlckJhY2tCdXR0b25BY3Rpb24oZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdGlmICgkcm9vdFNjb3BlLmJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCkge1xyXG5cdFx0XHRcdFx0aW9uaWMuUGxhdGZvcm0uZXhpdEFwcCgpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoJGlvbmljSGlzdG9yeS5iYWNrVmlldygpKSB7XHJcblx0XHRcdFx0XHQkaW9uaWNIaXN0b3J5LmdvQmFjaygpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkcm9vdFNjb3BlLmJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCA9IHRydWU7XHJcblx0XHRcdFx0XHR3aW5kb3cucGx1Z2lucy50b2FzdC5zaG93U2hvcnRDZW50ZXIoXHJcblx0XHRcdFx0XHRcdFwiUHJlc3MgYmFjayBidXR0b24gYWdhaW4gdG8gZXhpdFwiLFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbihhKSB7fSxcclxuXHRcdFx0XHRcdFx0ZnVuY3Rpb24oYikge31cclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS5iYWNrQnV0dG9uUHJlc3NlZE9uY2VUb0V4aXQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH0sIDIwMDApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9LCAxMDEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG5vdGlmaWNhdGlvbkZ1bmN0aW9uKCkge1xyXG5cdFx0XHRSZXF1ZXN0c1NlcnZpY2UucmVnaXN0ZXIoKTtcclxuXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCckY29yZG92YVB1c2hWNTpub3RpZmljYXRpb25SZWNlaXZlZCcsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXZlbnQpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIHRyaWdnZXJlZCBldmVyeSB0aW1lIGVycm9yIG9jY3Vyc1xyXG5cdFx0XHQkcm9vdFNjb3BlLiRvbignJGNvcmRvdmFQdXNoVjU6ZXJyb3JPY3VycmVkJywgZnVuY3Rpb24oZXZlbnQsIGUpIHtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1dKTtcclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuLy8gcmVkLCBwaW5rLCBwdXJwbGUsIGRlZXAtcHVycGxlLCBpbmRpZ28sIGJsdWUsIGxpZ2h0LWJsdWUsIGN5YW4sIHRlYWwsIGdyZWVuLCxcclxuLy9saWdodC1ncmVlbiwgbGltZSwgeWVsbG93LCBhbWJlciwgb3JhbmdlLCBkZWVwLW9yYW5nZSwgYnJvd24sIGdyZXksIGJsdWUtZ3JleVxyXG4vLyAuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xyXG4vLyAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXHJcbi8vICAgICAucHJpbWFyeVBhbGV0dGUoJ3BpbmsnKVxyXG4vLyAgICAgLmFjY2VudFBhbGV0dGUoJ29yYW5nZScpO1xyXG4vLyB9KTsvL1wiYW5ndWxhci1tYXRlcmlhbFwiOiBcIm1hc3RlclwiLFwibmctZGlyZWN0aXZlLWxhenktaW1hZ2VcIjogXCJhZmtsLWxhenktaW1hZ2UjXjAuMy4xXCJcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnLCBbJ25nRmlsZVVwbG9hZCddKVxyXG5cdFx0LmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgY29uZmlnXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgnaG9tZS5jaGF0Jywge1xyXG5cdFx0XHRcdHVybDogJy9jaGF0JyxcclxuXHRcdFx0XHRhYnN0cmFjdDogdHJ1ZSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NoYXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9jaGF0L3ZpZXdzL2NoYXRQYXJlbnQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdDaGF0UGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5jaGF0LmFsbCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjaGF0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvY2hhdC92aWV3cy9hbGxDaGF0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsQ2hhdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdhY2MnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5jaGF0LnJldmVhbGVkJywge1xyXG5cdFx0XHRcdHVybDogJy9yZXZlYWxlZCcsXHJcblxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY2hhdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2NoYXQvdmlld3MvcmV2ZWFsZWRDaGF0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmV2ZWFsZWRDaGF0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3JwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnN0YXRlKCdjaGF0Qm94Jywge1xyXG5cdFx0XHRcdHVybDogJy9jaGF0Qm94Lzp1c2VyJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9jaGF0L3ZpZXdzL2NoYXRCb3guaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0NoYXRCb3hDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICdjYmMnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdGJsb2NrZWQ6IFsgJyRzdGF0ZVBhcmFtcycsICdibG9ja1NlcnZpY2UnLCckcScsIGJsb2NrZWRdXHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYmxvY2tlZCgkc3RhdGVQYXJhbXMsYmxvY2tTZXJ2aWNlLCRxKXtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRibG9ja1NlcnZpY2UuY2hlY2soJHN0YXRlUGFyYW1zLnVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEuYmxvY2tlZCk7XHRcdFx0XHRcdFxyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oKXtcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnLCBbXSlcclxuXHRcdC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckYXV0aFByb3ZpZGVyJywgY29uZmlnXSk7XHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJGF1dGhQcm92aWRlcikge1xyXG5cdFx0dmFyIGZiQ2xpZW50SWQgPSAnMTEzNDIwODgzMDA0MTYzMic7XHJcblx0XHR2YXIgcmVkaXJlY3RVcmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODEwMFwiO1xyXG5cdFx0dmFyIHJlZGlyZWN0VXJsMiA9IFwiaHR0cHM6Ly9iYW5hbmEtc3VycHJpc2UtMzEzMzIuaGVyb2t1YXBwLmNvbVwiO1xyXG5cdFx0dmFyIGF1dGhlbnRpY2F0ZVVybCA9IHJlZGlyZWN0VXJsMiArICcvYXV0aGVudGljYXRlJztcclxuXHRcdCRhdXRoUHJvdmlkZXIuZmFjZWJvb2soe1xyXG5cdFx0XHRjbGllbnRJZDogZmJDbGllbnRJZCxcclxuXHRcdFx0dXJsOiBhdXRoZW50aWNhdGVVcmwgKyAnL2F1dGgvZmFjZWJvb2snLFxyXG5cdFx0XHRyZWRpcmVjdFVyaTogXCJodHRwczovL2JhbmFuYS1zdXJwcmlzZS0zMTMzMi5oZXJva3VhcHAuY29tL1wiXHJcblx0XHR9KTtcclxuXHRcdCRhdXRoUHJvdmlkZXIuZ29vZ2xlKHtcclxuXHRcdFx0Y2xpZW50SWQ6ICc3NDI2NzY4MzcyNjUtMzNqbnRrZDYwcDg3Z2tyaDQ4bnFlNmNkZDhudHNmbDUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLFxyXG5cdFx0XHR1cmw6IGF1dGhlbnRpY2F0ZVVybCArICcvYXV0aC9nb29nbGUnLFxyXG5cdFx0XHRyZWRpcmVjdFVyaTogcmVkaXJlY3RVcmxcclxuXHRcdH0pO1xyXG5cdFx0JHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2F1dGhlbnRpY2F0ZScsIHtcclxuXHRcdFx0dXJsOiAnL2F1dGhlbnRpY2F0ZScsXHJcblx0XHRcdGNvbnRyb2xsZXI6ICdBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdhYycsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2hvbWUvdmlld3MvYXV0aGVudGljYXRpb25QYWdlLmh0bWwnLFxyXG5cdFx0XHRcclxuXHJcblx0XHR9KS5zdGF0ZSgnaG9tZScsIHtcclxuXHRcdFx0dXJsOiBcIi9ob21lXCIsXHJcblx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogXCJhcHAvaG9tZS92aWV3cy90YWJzLmh0bWxcIixcclxuXHRcdFx0Y29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJyxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAnaGMnLFxyXG5cdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0cmVkaXJlY3RJZlVzZXJOb3RBdXRoZW50aWNhdGVkOiBbJyRxJywgJyRhdXRoJywgJyRzdGF0ZScsICckdGltZW91dCcsIHJlZGlyZWN0SWZVc2VyTm90QXV0aGVudGljYXRlZF1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHJcblxyXG5cdGZ1bmN0aW9uIHJlZGlyZWN0SWZVc2VyTm90QXV0aGVudGljYXRlZCgkcSwgJGF1dGgsICRzdGF0ZSwgJHRpbWVvdXQpIHtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblxyXG5cdFx0aWYgKCRhdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XHJcblxyXG5cdFx0XHRkZWZlci5yZXNvbHZlKCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdhdXRoZW50aWNhdGUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vZGVmZXIucmVqZWN0KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHR9XHJcblx0ZnVuY3Rpb24gcmVkaXJlY3RJZlVzZXJBdXRoZW50aWNhdGVkKCRxLCAkYXV0aCkge1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRpZiAoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuXHRcdFx0ZGVmZXIucmVqZWN0KCk7XHJcblx0XHRcdC8qJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdhdXRoZW50aWNhdGUnKTtcclxuXHRcdFx0fSk7Ki9cclxuXHRcdFx0XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJub3QgYXVkc25mXCIpO1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKCk7XHJcblx0XHRcdC8vZGVmZXIucmVqZWN0KCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnLCBbXSlcclxuXHRcdC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGNvbmZpZ10pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ2hvbWUucGVvcGxlJyx7XHJcblx0XHRcdFx0dXJsOiAnL3Blb3BsZScsXHJcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvcGVvcGxlUGFyZW50Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUGVvcGxlUGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBlb3BsZS5hbGwnLHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Blb3BsZS10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9hbGxQZW9wbGUuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnYXBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmV2ZWFsZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmV2ZWFsZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JldmVhbGVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmVjZWl2ZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmVjZWl2ZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JlY2VpdmVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUubmVhcmJ5Jyx7XHJcblx0XHRcdFx0dXJsOiAnL25lYXJieScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvbmVhcmJ5UGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTmVhcmJ5UGVvcGxlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ25wYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JywgW10pXHJcblx0XHQuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgnaG9tZS5wb3N0Jywge1xyXG5cdFx0XHRcdHVybDogJy9wb3N0JyxcclxuXHRcdFx0XHRhYnN0cmFjdDogdHJ1ZSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3Bvc3RQYXJlbnQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdQb3N0UGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LmFsbCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9hbGxQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsUG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdhcGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LmxhdGVzdCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGF0ZXN0JyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9sYXRlc3RQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTGF0ZXN0UG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdscGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LnBvcHVsYXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL3BvcHVsYXInLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3BvcHVsYXJQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUG9wdWxhclBvc3RDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncHBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2hvbWUucG9zdC5uZWFyYnknLCB7XHJcblx0XHRcdFx0dXJsOiAnL25lYXJieScsXHJcblxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncG9zdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvbmVhcmJ5UG9zdC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ05lYXJieVBvc3RDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ3Bvc3RTdWJtaXQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3N1Ym1pdCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9jcmVhdGVQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdDcmVhdGVQb3N0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAnY3BjJ1xyXG5cdFx0XHRcdC8qdmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0U3VibWl0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSovXHJcblx0XHRcdH0pLnN0YXRlKCdzaW5nbGVQb3N0Jywge1xyXG5cdFx0XHRcdHVybDogJy9wb3N0LzppZCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9zaW5nbGVQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2luZ2xlUG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzcGMnXHJcblx0XHRcdFx0Lyp2aWV3czoge1xyXG5cdFx0XHRcdFx0J3NpbmdsZVBvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9Ki9cclxuXHJcblxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicsIFtdKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsXHJcblx0XHRmdW5jdGlvbigkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHQkc3RhdGVQcm92aWRlci5cclxuXHRcdFx0c3RhdGUoJ2hvbWUudXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlcicsXHJcblx0XHRcdFx0J2Fic3RyYWN0JzogdHJ1ZSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3VzZXItdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL3VzZXJQYXJlbnRQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlclBhcmVudENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1cGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSkuXHJcblx0XHRcdHN0YXRlKCdob21lLnVzZXIudXNlck1lUGFnZScsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlck1lUGFnZScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCd1c2VyLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy91c2VyTWVQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlck1lUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1bXBjJyxcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSkuXHJcblx0XHRcdHN0YXRlKCdob21lLnVzZXJQYWdlJywge1xyXG5cdFx0XHRcdHVybDogJy91c2VyUGFnZS86dXNlcicsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0YmxvY2tlZDogWyAnJHN0YXRlUGFyYW1zJywgJ2Jsb2NrU2VydmljZScsJyRxJywgYmxvY2tlZF0sXHJcblx0XHRcdFx0XHRmcmllbmRzOiBbICckc3RhdGVQYXJhbXMnLCAncmV2ZWFsU2VydmljZScsJyRxJywgZnJpZW5kc11cclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2V4dHJhLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy91c2VyUHJvZmlsZVBhZ2UuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVc2VyUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1cGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnaG9tZS51c2VyRWRpdFBhZ2UnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VzZXJFZGl0UGFnZScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdleHRyYS10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3VzZXIvdmlld3MvdXNlckVkaXRQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlckVkaXRQYWdlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3VlcGMnLFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRdKTtcclxuXHRmdW5jdGlvbiBibG9ja2VkKCRzdGF0ZVBhcmFtcyxibG9ja1NlcnZpY2UsJHEpe1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHRcdGJsb2NrU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFxyXG5cdFx0XHRpZihyZXNwb25zZS5kYXRhLmJsb2NrZWQ9PT10cnVlKXtcclxuXHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJCbG9ja2VkIHByb2ZpbGVcIik7XHJcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0ZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oKXtcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBmcmllbmRzKCRzdGF0ZVBhcmFtcyxyZXZlYWxTZXJ2aWNlLCRxKXtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblxyXG5cclxuXHRcdHJldmVhbFNlcnZpY2UuY2hlY2soJHN0YXRlUGFyYW1zLnVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZShyZXNwb25zZS5kYXRhLnN0YXR1cyk7XHJcblx0XHRcdC8vcmV0dXJuIDtcclxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdFxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5jb250cm9sbGVyKCdBbGxDaGF0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdjaGF0U2VydmljZScsICckaW9uaWNMb2FkaW5nJywgJ1NvY2tldCcsQWxsQ2hhdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQWxsQ2hhdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGNoYXRTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLFNvY2tldCkge1xyXG5cdFx0dmFyIGFjYyA9IHRoaXM7XHJcblx0XHRhY2MuZ2V0QWxsQ2hhdFJvb21zID0gZ2V0QWxsQ2hhdFJvb21zO1xyXG5cdFx0YWNjLmxvYWRNb3JlQ2hhdHMgPSBsb2FkTW9yZUNoYXRzO1xyXG5cdFx0YWNjLnB1bGxSZWZyZXNoQ2hhdHMgPSBwdWxsUmVmcmVzaENoYXRzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFNvY2tldC5vbignbmV3TWVzc2FnZVJlY2VpdmVkJywgbWVzc2FnZVJlY2VpdmVkKTtcclxuXHRcdFxyXG5cdFx0YWNjLmNoYXRQYWdlID0gZnVuY3Rpb24odXNlcklkKXtcclxuXHRcdFx0JHN0YXRlLmdvKCdjaGF0Qm94JywgeyB1c2VyOiB1c2VySWR9KTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBtZXNzYWdlUmVjZWl2ZWQobWVzc2FnZSl7XHJcblx0XHRcdHZhciBuZXdDaGF0Um9vbSA9IHt9O1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5jcmVhdG9yMiA9IG1lc3NhZ2UudXNlcjtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubmV3Q2hhdCA9IHRydWU7XHJcblx0XHRcdG5ld0NoYXRSb29tLmxhc3RNZXNzYWdlID0ge1xyXG5cdFx0XHRcdHVzZXI6bWVzc2FnZS51c2VyLl9pZCxcclxuXHRcdFx0XHRfaWQ6bWVzc2FnZS5faWQsXHJcblx0XHRcdFx0bWVzc2FnZTptZXNzYWdlLm1lc3NhZ2UsXHJcblx0XHRcdFx0dHlwZTogbWVzc2FnZS50eXBlXHJcblx0XHRcdH07XHJcblx0XHRcclxuXHJcblx0XHRcdGZvcih2YXIgY2g9MDtjaDxhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGg7Y2grKyl7XHJcblx0XHRcdFx0aWYobmV3Q2hhdFJvb20uY3JlYXRvcjIuX2lkPT1hY2MuY2hhdFJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKXtcclxuXHRcdFx0XHRcdGlmIChuZXdDaGF0Um9vbS5sYXN0TWVzc2FnZS5faWQgIT09IGFjYy5jaGF0Um9vbXNMaXN0W2NoXS5sYXN0TWVzc2FnZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0YWNjLmNoYXRSb29tc0xpc3Quc3BsaWNlKGNoLDEpO1xyXG5cdFx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC51bnNoaWZ0KG5ld0NoYXRSb29tKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaENoYXRzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlQ2hhdHMoKSB7XHJcblx0XHRcdGFjYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxDaGF0Um9vbXMoKSB7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldEFsbENoYXRSb29tcyhhY2MucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFjYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLmNoYXRSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0QWxsQ2hhdFJvb21zKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHJcblx0LmNvbnRyb2xsZXIoJ0NoYXRCb3hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU29ja2V0JywgJyRzdGF0ZVBhcmFtcycsICd1c2VyRGF0YScsICdob21lU2VydmljZScsICdjaGF0U2VydmljZScsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsICd1c2VyU2VydmljZScsICdVcGxvYWQnLCAnJGlvbmljTG9hZGluZycsICckd2luZG93JywgJ2Jsb2NrZWQnLCBDaGF0Qm94Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBDaGF0Qm94Q29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCBTb2NrZXQsICRzdGF0ZVBhcmFtcywgdXNlckRhdGEsIGhvbWVTZXJ2aWNlLCBjaGF0U2VydmljZSwgJGlvbmljU2Nyb2xsRGVsZWdhdGUsIHVzZXJTZXJ2aWNlLCBVcGxvYWQsICRpb25pY0xvYWRpbmcsICR3aW5kb3csIGJsb2NrZWQpIHtcclxuXHRcdHZhciBjYmMgPSB0aGlzO1xyXG5cdFx0Y2JjLmlzQmxvY2tlZCA9IGJsb2NrZWQ7XHJcblx0XHRpZiAoY2JjLmlzQmxvY2tlZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHR3aW5kb3cuYWxlcnQoXCJibG9ja2VkIHByb2ZpbGVcIik7XHJcblx0XHR9XHJcblx0XHRjYmMuY3VycmVudFVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkO1xyXG5cdFx0Y2JjLnJlY2VpdmVyVXNlcklEID0gJHN0YXRlUGFyYW1zLnVzZXI7XHJcblx0XHRjYmMuY2hhdExpc3QgPSBbXTtcclxuXHRcdGNiYy5jaGF0Um9vbUlkID0gJyc7XHJcblx0XHRjYmMubG9hZE1vcmVDaGF0cyA9IGxvYWRNb3JlQ2hhdHM7XHJcblx0XHRjYmMuc2Nyb2xsQm90dG9tID0gc2Nyb2xsQm90dG9tO1xyXG5cdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRjYmMubWVzc2FnZVRyeUNvdW50ID0gMDtcclxuXHRcdGNiYy5wYXJhbXMgPSB7XHJcblx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdGxpbWl0OiA1XHJcblx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZUNoYXRzKCkge1xyXG5cdFx0XHRjYmMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0Q2hhdE1lc3NhZ2VzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZXIoKSB7XHJcblx0XHRcdHVzZXJTZXJ2aWNlLmdldFVzZXIoY2JjLnJlY2VpdmVyVXNlcklEKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y2JjLnJlY2VpdmVyVXNlciA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7XHJcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbEJvdHRvbSh0cnVlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcygpIHtcclxuXHRcdFx0Y2hhdFNlcnZpY2UuZ2V0Q2hhdE1lc3NhZ2VzKGNiYy5jaGF0Um9vbUlkLCBjYmMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzLmRhdGEuZG9jcywgZnVuY3Rpb24oY2hhdCkge1xyXG5cdFx0XHRcdFx0Y2JjLmNoYXRMaXN0LnVuc2hpZnQoY2hhdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldENoYXRSb29tKGNiYy5yZWNlaXZlclVzZXJJRCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb20gPSByZXMuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb21JZCA9IHJlcy5kYXRhLl9pZDtcclxuXHJcblx0XHRcdFx0c29ja2V0Sm9pbigpO1xyXG5cdFx0XHRcdGdldENoYXRNZXNzYWdlcygpO1xyXG5cclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGdldFJlY2VpdmVyKCk7XHJcblxyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIHNvY2tldEpvaW4oKSB7XHJcblx0XHRcdFNvY2tldC5lbWl0KCdhZGRUb0NoYXRSb29tJywgeyAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfSk7XHJcblx0XHRcdFNvY2tldC5vbignbWVzc2FnZVJlY2VpdmVkJywgZnVuY3Rpb24obWVzc2FnZSkge1xyXG5cclxuXHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChtZXNzYWdlKTtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNiYy5jbGlja1N1Ym1pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0Y2JjLmZvY3VzSW5wdXQgPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5jb3Jkb3ZhICYmICghd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5pc1Zpc2libGUpKSB7XHJcblx0XHRcdFx0d2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5zaG93KCk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdHZhciBjaGF0T2JqID0geyAnbWVzc2FnZSc6IGNiYy5teU1zZywgcmVjZWl2ZXI6ICRzdGF0ZVBhcmFtcy51c2VyLCAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfTtcclxuXHRcdFx0Y2hhdFNlcnZpY2Uuc2VuZENoYXRNZXNzYWdlKGNoYXRPYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0Y2JjLm15TXNnID0gJyc7XHJcblx0XHRcdFx0Y2JjLmNoYXRMaXN0LnB1c2gocmVzLmRhdGEubWVzc2FnZSk7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VUcnlDb3VudCA9IDA7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VUcnlDb3VudCArPSAxO1xyXG5cclxuXHRcdFx0XHRpZiAoY2JjLm1lc3NhZ2VUcnlDb3VudCA8PSAzKSB7XHJcblx0XHRcdFx0XHRjYmMuY2xpY2tTdWJtaXQoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Y2JjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRjYmMuZmlsZS51cGxvYWQgPSBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0ZGF0YTogeyBmaWxlOiBjYmMuZmlsZSB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y2JjLmZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYmMuZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNiYy51cGxvYWRlZEltYWdlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2FuY2VsVXBsb2FkKCk7XHJcblx0XHRcdFx0dmFyIGNoYXRPYmogPSB7ICdtZXNzYWdlJzogY2JjLnVwbG9hZGVkSW1hZ2UsIHJlY2VpdmVyOiAkc3RhdGVQYXJhbXMudXNlciwgJ3Jvb21JZCc6IGNiYy5jaGF0Um9vbUlkLCB0eXBlOiAnaW1nJyB9O1xyXG5cdFx0XHRcdGNoYXRTZXJ2aWNlLnNlbmRDaGF0TWVzc2FnZShjaGF0T2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChyZXMuZGF0YS5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjYmMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNiYy5zaG93VGVtcEltYWdlID0gZmFsc2U7XHJcblx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSAnJztcclxuXHRcdH07XHJcblx0XHRjYmMudXBsb2FkU2luZ2xlSW1hZ2UgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHRjYmMuZmlsZSA9IGZpbGU7XHJcblx0XHRcdGNiYy5lcnJGaWxlID0gZXJyRmlsZXMgJiYgZXJyRmlsZXNbMF07XHJcblx0XHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdFx0Y2JjLnNob3dUZW1wSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSBmaWxlO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y2JjLmxlYXZlQ2hhdEJveCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgncmVtb3ZlRnJvbVJvb20nLCB7ICdyb29tSWQnOiBjYmMuY2hhdFJvb21JZCB9KTtcclxuXHJcblx0XHRcdGNoYXRTZXJ2aWNlLnVwZGF0ZUNoYXRSb29tKGNiYy5jaGF0Um9vbUlkKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblxyXG5cclxuXHRcdH07XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG5cclxuLyp1c2VyU2VydmljZS5nZXRVc2VyRGV0YWlscyhjYmMucmVjZWl2ZXJVc2VySURJZCwgeyAnZmllbGRzJzogJ2Rpc3BsYXlOYW1lIGZpcnN0TmFtZScgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ0aGUgcmVjZWl2ZXJcIik7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHRcdGNiYy5yZWNlaXZlclVzZXJJRCA9IHJlc3BvbnNlLmRhdGEuZGlzcGxheU5hbWUgfHwgKHJlc3BvbnNlLmRhdGEuZmlyc3ROYW1lKTtcclxuXHRcdFx0XHR9KTsqL1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5jb250cm9sbGVyKCdDaGF0UGFyZW50Q29udHJvbGxlcicsW0NoYXRQYXJlbnRDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIENoYXRQYXJlbnRDb250cm9sbGVyKCl7XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5jb250cm9sbGVyKCdSZXZlYWxlZENoYXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2NoYXRTZXJ2aWNlJywgJyRpb25pY0xvYWRpbmcnLCAnU29ja2V0JywgUmV2ZWFsZWRDaGF0Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZXZlYWxlZENoYXRDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBjaGF0U2VydmljZSwgJGlvbmljTG9hZGluZywgU29ja2V0KSB7XHJcblx0XHR2YXIgYWNjID0gdGhpcztcclxuXHRcdGFjYy5nZXRSZXZlYWxlZENoYXRSb29tcyA9IGdldFJldmVhbGVkQ2hhdFJvb21zO1xyXG5cdFx0YWNjLmxvYWRNb3JlQ2hhdHMgPSBsb2FkTW9yZUNoYXRzO1xyXG5cdFx0YWNjLnB1bGxSZWZyZXNoQ2hhdHMgPSBwdWxsUmVmcmVzaENoYXRzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaENoYXRzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0U29ja2V0Lm9uKCduZXdNZXNzYWdlUmVjZWl2ZWQnLCBtZXNzYWdlUmVjZWl2ZWQpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIG1lc3NhZ2VSZWNlaXZlZChtZXNzYWdlKSB7XHJcblx0XHRcdHZhciBuZXdDaGF0Um9vbSA9IHt9O1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5jcmVhdG9yMiA9IG1lc3NhZ2UudXNlcjtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubmV3Q2hhdCA9IHRydWU7XHJcblx0XHRcdG5ld0NoYXRSb29tLmxhc3RNZXNzYWdlID0ge1xyXG5cdFx0XHRcdHVzZXI6IG1lc3NhZ2UudXNlci5faWQsXHJcblx0XHRcdFx0X2lkOiBtZXNzYWdlLl9pZCxcclxuXHRcdFx0XHRtZXNzYWdlOiBtZXNzYWdlLm1lc3NhZ2UsXHJcblx0XHRcdFx0dHlwZTogbWVzc2FnZS50eXBlXHJcblx0XHRcdH07XHJcblxyXG5cclxuXHRcdFx0Zm9yICh2YXIgY2ggPSAwOyBjaCA8IGFjYy5jaGF0Um9vbXNMaXN0Lmxlbmd0aDsgY2grKykge1xyXG5cdFx0XHRcdGlmIChuZXdDaGF0Um9vbS5jcmVhdG9yMi5faWQgPT0gYWNjLmNoYXRSb29tc0xpc3RbY2hdLmNyZWF0b3IyLl9pZCkge1xyXG5cdFx0XHRcdFx0aWYgKG5ld0NoYXRSb29tLmxhc3RNZXNzYWdlLl9pZCAhPT0gYWNjLmNoYXRSb29tc0xpc3RbY2hdLmxhc3RNZXNzYWdlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC5zcGxpY2UoY2gsIDEpO1xyXG5cdFx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC51bnNoaWZ0KG5ld0NoYXRSb29tKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVDaGF0cygpIHtcclxuXHRcdFx0YWNjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldFJldmVhbGVkQ2hhdFJvb21zKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmV2ZWFsZWRDaGF0Um9vbXMoKSB7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldFJldmVhbGVkQ2hhdFJvb21zKGFjYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YWNjLmNoYXRSb29tc0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YWNjLm5vUG9zdHMgPSAhcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhY2MucGFyYW1zID0ge1xyXG5cdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0bGltaXQ6IDI1XHJcblx0XHRcdH07XHJcblx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0ID0gW107XHJcblx0XHRcdGdldFJldmVhbGVkQ2hhdFJvb21zKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5zZXJ2aWNlKCdjaGF0U2VydmljZScsIFsnJGh0dHAnLCAnJHN0YXRlUGFyYW1zJywgJ2hvbWVTZXJ2aWNlJywgUmV2aWV3U2VydmljZV0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZXZpZXdTZXJ2aWNlKCRodHRwLCAkc3RhdGVQYXJhbXMsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgcnMgPSB0aGlzO1xyXG5cdFx0cnMuc2VuZENoYXRNZXNzYWdlID0gc2VuZENoYXRNZXNzYWdlO1xyXG5cdFx0cnMuZ2V0Q2hhdE1lc3NhZ2VzID0gZ2V0Q2hhdE1lc3NhZ2VzO1xyXG5cdFx0cnMuZ2V0Q2hhdFJvb20gPSBnZXRDaGF0Um9vbTtcclxuXHRcdHJzLmdldEFsbENoYXRSb29tcyA9IGdldEFsbENoYXRSb29tcztcclxuXHRcdHJzLmdldFJldmVhbGVkQ2hhdFJvb21zID0gZ2V0UmV2ZWFsZWRDaGF0Um9vbXM7XHJcblx0XHRycy51cGRhdGVDaGF0Um9vbSA9IHVwZGF0ZUNoYXRSb29tO1xyXG5cdFx0cnMuZGVsZXRlQ2hhdFJvb20gPSBkZWxldGVDaGF0Um9vbTtcclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDaGF0Um9vbShpZCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdFJvb20vZGVsZXRlLycgKyBpZCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzZW5kQ2hhdE1lc3NhZ2UoY2hhdCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0L2NyZWF0ZS8nICsgY2hhdC5yb29tSWQsIGNoYXQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcyhjaGF0Um9vbUlkLHBhcmFtcykge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ2NoYXQvZ2V0Q2hhdHMvJyArIGNoYXRSb29tSWQse3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRDaGF0Um9vbSh1c2VyKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdFJvb20vZ2V0LycgKyB1c2VyKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRBbGxDaGF0Um9vbXMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5yZXZlYWxlZCA9IGZhbHNlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdFJvb20vYWxsLycse3BhcmFtczpwYXJhbXN9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZENoYXRSb29tcyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnJldmVhbGVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ2NoYXRSb29tL2FsbC8nLHtwYXJhbXM6cGFyYW1zfSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gdXBkYXRlQ2hhdFJvb20oaWQpe1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMKydjaGF0Um9vbS91cGRhdGUvJytpZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0XHJcblxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKS5mYWN0b3J5KCdTb2NrZXQnLCBbJ3NvY2tldEZhY3RvcnknLCdob21lU2VydmljZScsU29ja2V0RmFjdG9yeV0pO1xuICAgIFxuICAgIGZ1bmN0aW9uIFNvY2tldEZhY3Rvcnkoc29ja2V0RmFjdG9yeSxob21lU2VydmljZSkge1xuICAgICAgICByZXR1cm4gc29ja2V0RmFjdG9yeSh7XG4gICAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgICAgaW9Tb2NrZXQ6IGlvLmNvbm5lY3QoaG9tZVNlcnZpY2UuYmFzZVVSTClcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuJ3VzZSBzdHJpY3QnO1xuXG5cblxuYW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxuXHQuZmFjdG9yeSgnU29ja2V0VXNlclNlcnZpY2UnLCBbJ3NvY2tldEZhY3RvcnknLCd1c2VyRGF0YScsJ2hvbWVTZXJ2aWNlJyxzb2NrZXRGYWN0b3J5RnVuY3Rpb25dKTtcbiAgICBmdW5jdGlvbiBzb2NrZXRGYWN0b3J5RnVuY3Rpb24oc29ja2V0RmFjdG9yeSx1c2VyRGF0YSxob21lU2VydmljZSkge1xuICAgICAgICByZXR1cm4gc29ja2V0RmFjdG9yeSh7XG4gICAgICAgICAgICBwcmVmaXg6ICcnLFxuICAgICAgICAgICAgaW9Tb2NrZXQ6IGlvLmNvbm5lY3QoaG9tZVNlcnZpY2UuYmFzZVVSTCt1c2VyRGF0YS5nZXRVc2VyKCkuX2lkKVxuICAgICAgICB9KTtcbiAgICB9XG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdC5jb250cm9sbGVyKFwiQXV0aGVudGljYXRpb25Db250cm9sbGVyXCIsIFtcIiRzY29wZVwiLCBcIiRhdXRoXCIsIFwiJHN0YXRlXCIsIFwidXNlckRhdGFcIiwgJ3VzZXJMb2NhdGlvblNlcnZpY2UnLCAnJGlvbmljTG9hZGluZycsICdSZXF1ZXN0c1NlcnZpY2UnLCAnJGlvbmljTW9kYWwnLCBBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQXV0aGVudGljYXRpb25Db250cm9sbGVyKCRzY29wZSwgJGF1dGgsICRzdGF0ZSwgdXNlckRhdGEsIHVzZXJMb2NhdGlvblNlcnZpY2UsICRpb25pY0xvYWRpbmcsIFJlcXVlc3RzU2VydmljZSwgJGlvbmljTW9kYWwpIHtcclxuXHRcdHZhciBwaGMgPSB0aGlzO1xyXG5cclxuXHRcdHBoYy5pc0F1dGggPSAkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKTtcclxuXHRcdGlmIChwaGMuaXNBdXRoKSB7XHJcblx0XHRcdCRzdGF0ZS5nbygnaG9tZS5wb3N0LmFsbCcpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHdpbmRvdy5jb3Jkb3ZhKSB7XHJcblx0XHRcdHBoYy53ZWJTaWduSW4gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0cGhjLmF1dGhMb2dvdXQgPSBhdXRoTG9nb3V0O1xyXG5cdFx0cGhjLmxvYWRQb3N0TW9kYWwgPSBsb2FkUG9zdE1vZGFsO1xyXG5cclxuXHJcblx0XHRwaGMuc29jaWFsQXV0aGVudGljYXRlID0gc29jaWFsQXV0aGVudGljYXRlO1xyXG5cdFx0JHNjb3BlLmdvb2dsZVNpZ25JbiA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcblxyXG5cdFx0XHQkaW9uaWNMb2FkaW5nLnNob3coe1xyXG5cdFx0XHRcdHRlbXBsYXRlOiAnTG9nZ2luZyBpbi4uLidcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR3aW5kb3cucGx1Z2lucy5nb29nbGVwbHVzLmxvZ2luKHtcclxuXHRcdFx0XHRcdHdlYkNsaWVudElkOiAnNzkyMDY4NTY1MDA3LXJkbTducmxmbWMyOWp2bHFvNWwwdGtndTZjaTB2Ym9hLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJ1xyXG5cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGZ1bmN0aW9uKHVzZXJfZGF0YSkge1xyXG5cdFx0XHRcdFx0dmFyIHByb2ZpbGUgPSB7fTtcclxuXHRcdFx0XHRcdHByb2ZpbGUuaWQgPSB1c2VyX2RhdGEudXNlcklkO1xyXG5cdFx0XHRcdFx0cHJvZmlsZS5kaXNwbGF5TmFtZSA9IHVzZXJfZGF0YS5kaXNwbGF5TmFtZTtcclxuXHRcdFx0XHRcdHByb2ZpbGUuaW1hZ2VVcmwgPSB1c2VyX2RhdGEuaW1hZ2VVcmw7XHJcblx0XHRcdFx0XHRSZXF1ZXN0c1NlcnZpY2UuZ29vZ2xlU2lnbkluKHByb2ZpbGUpXHJcblx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdFx0JGF1dGguc2V0VG9rZW4ocmVzcG9uc2UuZGF0YS50b2tlbik7XHJcblx0XHRcdFx0XHRcdFx0c3VjY2Vzc2Z1bEF1dGhlbnRpY2F0aW9uKHJlc3BvbnNlLmRhdGEudXNlcik7XHJcblx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZnVuY3Rpb24obXNnKSB7XHJcblx0XHRcdFx0XHRhbGVydChcIm1pc3NlZFwiKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKG1zZyk7XHJcblx0XHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9O1xyXG5cdFx0ZnVuY3Rpb24gc3VjY2Vzc2Z1bEF1dGhlbnRpY2F0aW9uKHVzZXIpIHtcclxuXHRcdFx0dXNlckRhdGEuc2V0VXNlcih1c2VyKTtcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5zZXRVc2VyTG9jYXRpb24oKTtcclxuXHRcdFx0UmVxdWVzdHNTZXJ2aWNlLnJlZ2lzdGVyKCk7XHJcblxyXG5cdFx0XHRpZiAodXNlci5kZXZpY2VfdG9rZW4pIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUucG9zdC5wb3B1bGFyJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnVzZXJFZGl0UGFnZScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc29jaWFsQXV0aGVudGljYXRlKHByb3ZpZGVyKSB7XHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHQkYXV0aC5hdXRoZW50aWNhdGUocHJvdmlkZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRzdWNjZXNzZnVsQXV0aGVudGljYXRpb24ocmVzcG9uc2UuZGF0YS51c2VyKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdC8vJGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkUG9zdE1vZGFsKCkge1xyXG5cdFx0XHQkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2FwcC9ob21lL3ZpZXdzL3BvbGljeS5odG1sJywge1xyXG5cdFx0XHRcdHNjb3BlOiAkc2NvcGVcclxuXHRcdFx0fSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xyXG5cdFx0XHRcdCRzY29wZS5tb2RhbCA9IG1vZGFsO1xyXG5cdFx0XHRcdCRzY29wZS5tb2RhbC5zaG93KCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBhdXRoTG9nb3V0KCkge1xyXG5cdFx0XHQkYXV0aC5sb2dvdXQoKTtcclxuXHRcdFx0dXNlckRhdGEucmVtb3ZlVXNlcigpO1xyXG5cdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICd1c2VyRGF0YScsICdTb2NrZXQnLCAndG9hc3RyJywgJyRpb25pY1RhYnNEZWxlZ2F0ZScsJyRyb290U2NvcGUnLEhvbWVDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIEhvbWVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCB1c2VyRGF0YSwgU29ja2V0LCB0b2FzdHIsJGlvbmljVGFic0RlbGVnYXRlLCRyb290U2NvcGUpIHtcclxuXHRcdHZhciBoYyA9IHRoaXM7XHJcblx0XHRoYy5iYWRnZVZhbHVlID0gJyc7XHJcblx0XHRoYy5jaGF0Q2xpY2tlZCA9IGNoYXRDbGlja2VkO1xyXG5cdFx0LypcclxuXHRcdFx0Q29kZSBmb3IgaGlkaW5nIHRoZSBoZWFkZXIgb24gc2Nyb2xsIHVwIGFuZCBkb3duXHJcblx0XHQqL1xyXG5cdFx0JHJvb3RTY29wZS5zbGlkZUhlYWRlciA9IGZhbHNlO1xyXG4gIFx0XHQkcm9vdFNjb3BlLnNsaWRlSGVhZGVyUHJldmlvdXMgPSAwO1xyXG5cdFx0U29ja2V0Lm9uKFwiY29ubmVjdFwiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0U29ja2V0LmVtaXQoJ2FkZFRvU2luZ2xlUm9vbScsIHsgJ3Jvb21JZCc6IHVzZXJEYXRhLmdldFVzZXIoKS5faWQgfSk7XHJcblx0XHRcdFNvY2tldC5vbignbmV3TWVzc2FnZVJlY2VpdmVkJywgbWVzc2FnZVJlY2VpdmVkKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIG1lc3NhZ2VSZWNlaXZlZChtZXNzYWdlKSB7XHJcblx0XHRcdHZhciBtZXNzYWdlU3RyaW5nID0gbWVzc2FnZS5tZXNzYWdlO1xyXG5cdFx0XHRpZihtZXNzYWdlLnR5cGUgJiYgbWVzc2FnZS50eXBlPT0naW1nJyl7XHJcblx0XHRcdFx0bWVzc2FnZVN0cmluZyA9ICdOZXcgaW1hZ2UnO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciB1c2VyTmFtZSA9IG1lc3NhZ2UudXNlci5hbm9uTmFtZXx8bWVzc2FnZS51c2VyLmZhY2Vib29rTmFtZSB8fG1lc3NhZ2UudXNlci5nb29nbGVOYW1lIDtcclxuXHRcdFx0aWYgKG1lc3NhZ2UudXNlci5faWQgPT0gdXNlckRhdGEuZ2V0VXNlcigpLl9pZCkge1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoJHN0YXRlLmN1cnJlbnQubmFtZSA9PSAnY2hhdEJveCcpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoJHN0YXRlLnBhcmFtcy51c2VyICE9IG1lc3NhZ2UudXNlci5faWQpIHtcclxuXHRcdFx0XHRcdFx0dG9hc3RyLmluZm8oJzxwPicgKyB1c2VyTmFtZSsgJzwvcD48cD4nICsgbWVzc2FnZVN0cmluZyArICc8L3A+Jywge1xyXG5cdFx0XHRcdFx0XHRcdGFsbG93SHRtbDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0XHRvblRhcDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2NoYXRCb3gnLCB7IHVzZXI6IG1lc3NhZ2UudXNlci5faWQgfSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR0b2FzdHIuaW5mbygnPHA+JyArIHVzZXJOYW1lICsgJzwvcD48cD4nICsgbWVzc2FnZVN0cmluZyArICc8L3A+Jywge1xyXG5cdFx0XHRcdFx0XHRhbGxvd0h0bWw6IHRydWUsXHJcblx0XHRcdFx0XHRcdG9uVGFwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2NoYXRCb3gnLCB7IHVzZXI6IG1lc3NhZ2UudXNlci5faWQgfSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0aGMuYmFkZ2VWYWx1ZSA9IDE7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRoYy5nb0ZvcndhcmQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBzZWxlY3RlZCA9ICRpb25pY1RhYnNEZWxlZ2F0ZS5zZWxlY3RlZEluZGV4KCk7XHJcblx0XHRcdGlmIChzZWxlY3RlZCAhPSAtMSkge1xyXG5cdFx0XHRcdGlmKHNlbGVjdGVkPT09MSl7XHJcblx0XHRcdFx0XHQkaW9uaWNUYWJzRGVsZWdhdGUuc2VsZWN0KHNlbGVjdGVkICsgMik7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdCRpb25pY1RhYnNEZWxlZ2F0ZS5zZWxlY3Qoc2VsZWN0ZWQgKyAxKTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRoYy5nb0JhY2sgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdHZhciBzZWxlY3RlZCA9ICRpb25pY1RhYnNEZWxlZ2F0ZS5zZWxlY3RlZEluZGV4KCk7XHJcblx0XHRcdGlmIChzZWxlY3RlZCAhPT0gLTEgJiYgc2VsZWN0ZWQgIT09IDApIHtcclxuXHRcdFx0XHRpZihzZWxlY3RlZD09PTMpe1xyXG5cdFx0XHRcdFx0JGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdChzZWxlY3RlZCAtIDIpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdChzZWxlY3RlZCAtIDEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRmdW5jdGlvbiBjaGF0Q2xpY2tlZCgpIHtcclxuXHRcdFx0aGMuYmFkZ2VWYWx1ZSA9ICcnO1xyXG5cdFx0XHQvLyRzdGF0ZS5nbygnaG9tZS5jaGF0LmFsbCcpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScpXHJcblx0XHQuZGlyZWN0aXZlKCdkaXN0YW5jZVZpZXcnLCBbJ3Bvc3RTZXJ2aWNlJywgJyR0aW1lb3V0JywgZnVuY3Rpb24ocG9zdFNlcnZpY2UsICR0aW1lb3V0KSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9ob21lL3ZpZXdzL2Rpc3RhbmNlVmlld1RlbXBsYXRlLmh0bWwnLFxyXG5cdFx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0XHRwb3NpdGlvbkNvcmRzOiAnPSdcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUpIHtcclxuXHRcdFx0XHRcdCR0aW1lb3V0KGdldERpc3RhbmNlLCAxMDAwKTtcclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBnZXREaXN0YW5jZSgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKHNjb3BlLnBvc2l0aW9uQ29yZHMpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iaiA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGxhdGl0dWRlOiBzY29wZS5wb3NpdGlvbkNvcmRzWzFdLFxyXG5cdFx0XHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiBzY29wZS5wb3NpdGlvbkNvcmRzWzBdLFxyXG5cclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdHBvc3RTZXJ2aWNlLmdldERpc3RhbmNlKHNjb3BlLmRpc3RhbmNlT2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuZGlzdGFuY2VPYmouZGlzdGFuY2UgPSByZXMgKyAnIG1pJztcclxuXHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNjb3BlLmRpc3RhbmNlT2JqLmRpc3RhbmNlID0gJyc7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0c2NvcGUuZGlzdGFuY2VPYmogPSB7fTtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iai5kaXN0YW5jZSA9ICcnO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9XSk7XHJcblx0XHQvKi5kaXJlY3RpdmUoJ2V4cGFuZGluZ1RleHRhcmVhJywgW2Z1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdGltZW91dCkge1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdtaW4taGVpZ2h0JywgJzAnKTtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNzcygncmVzaXplJywgJ25vbmUnKTtcclxuXHRcdFx0XHRcdCRlbGVtZW50LmNzcygnb3ZlcmZsb3cteScsICdoaWRkZW4nKTtcclxuXHRcdFx0XHRcdHNldEhlaWdodCgwKTtcclxuXHRcdFx0XHRcdCR0aW1lb3V0KHNldEhlaWdodFRvU2Nyb2xsSGVpZ2h0KTtcclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBzZXRIZWlnaHQoaGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdCRlbGVtZW50LmNzcygnaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHRcdCRlbGVtZW50LmNzcygnbWF4LWhlaWdodCcsIGhlaWdodCArICdweCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHNldEhlaWdodFRvU2Nyb2xsSGVpZ2h0KCkge1xyXG5cdFx0XHRcdFx0XHRzZXRIZWlnaHQoMCk7XHJcblx0XHRcdFx0XHRcdHZhciBzY3JvbGxIZWlnaHQgPSBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpWzBdXHJcblx0XHRcdFx0XHRcdFx0LnNjcm9sbEhlaWdodDtcclxuXHRcdFx0XHRcdFx0aWYgKHNjcm9sbEhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0SGVpZ2h0KHNjcm9sbEhlaWdodCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYW5ndWxhci5lbGVtZW50KCRlbGVtZW50KVswXS52YWx1ZTtcclxuXHRcdFx0XHRcdH0sIHNldEhlaWdodFRvU2Nyb2xsSGVpZ2h0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9XSkqL1xyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdHZhciBpbWFnZU1vZGFsID0gZnVuY3Rpb24oJGlvbmljTW9kYWwpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblxyXG5cdFx0XHRcdGltYWdlTW9kYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW0pIHtcclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gc2hvd0ltYWdlTW9kYWwoaW1hZ2UpIHtcclxuXHRcdFx0XHRcdGxvYWRNb2RhbCgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50SW1hZ2UgPSBpbWFnZTtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm1vZGFsLnNob3coKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRNb2RhbCgpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2FwcC9jaGF0L3ZpZXdzL2NoYXRJbWFnZU1vZGFsLmh0bWwnLCB7XHJcblx0XHRcdFx0XHRcdHNjb3BlOiAkc2NvcGVcclxuXHRcdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHRzaG93SW1hZ2VNb2RhbCgkc2NvcGUuaW1hZ2VNb2RhbCk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fTtcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScpLmRpcmVjdGl2ZSgna2VlcFNjcm9sbCcsIFtcclxuXHRcdCckc3RhdGUnLCAnJHRpbWVvdXQnLCAnU2Nyb2xsUG9zaXRpb25zJywgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcclxuXHRcdGZ1bmN0aW9uKCRzdGF0ZSwgJHRpbWVvdXQsIFNjcm9sbFBvc2l0aW9ucywgJGlvbmljU2Nyb2xsRGVsZWdhdGUpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlKSB7XHJcblx0XHRcdFx0XHRzY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFNjcm9sbFBvc2l0aW9uc1skc3RhdGUuY3VycmVudC5uYW1lXSA9ICRpb25pY1Njcm9sbERlbGVnYXRlLmdldFNjcm9sbFBvc2l0aW9uKCk7XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG9mZnNldDtcclxuXHRcdFx0XHRcdFx0b2Zmc2V0ID0gU2Nyb2xsUG9zaXRpb25zWyRzdGF0ZS5jdXJyZW50Lm5hbWVdO1xyXG5cdFx0XHRcdFx0XHRpZiAob2Zmc2V0KSB7XHJcblx0XHRcdFx0XHRcdFx0JGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsVG8ob2Zmc2V0LmxlZnQsIG9mZnNldC50b3ApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0XSkuZmFjdG9yeSgnU2Nyb2xsUG9zaXRpb25zJywgW1xyXG5cdFx0ZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB7fTtcclxuXHRcdH1cclxuXHRdKS5kaXJlY3RpdmUoJ2lzRm9jdXNlZCcsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHsgdHJpZ2dlcjogJ0Bpc0ZvY3VzZWQnIH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50KSB7XHJcblxyXG5cdFx0XHRcdHNjb3BlLiR3YXRjaCgndHJpZ2dlcicsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSAndHJ1ZScpIHtcclxuXHRcdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0ZWxlbWVudFswXS5mb2N1cygpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50Lm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvL2FsZXJ0KFwiaGVsbG9cIik7XHJcblx0XHRcdFx0XHRcdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XSkuZGlyZWN0aXZlKCdsYXp5SW1nJywgZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQvKiAgICAgPGxhenktaW1nIHNyYy1sYXJnZT1cImh0dHA6Ly95b3ViYWt1LmNvbS91cGxvYWRzL3BsYWNlc19pbWFnZXMvbGFyZ2Uve3tpbWd9fVwiIHNyYy1zbWFsbD1cImh0dHA6Ly95b3ViYWt1LmNvbS9hdGh1bWIucGhwP2ZpbGU9e3tpbWd9fSZzbWFsbFwiIC8+XHJcblx0XHRcdCAqL1xyXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0XHR0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJsYXp5LWltZ1wiPjxkaXYgY2xhc3M9XCJzbVwiPjxpbWcgc3JjPVwie3tpbWdTbWFsbH19XCIgY2xhc3M9XCJzbWFsbFwiLz48L2Rpdj48ZGl2IHN0eWxlPVwicGFkZGluZy1ib3R0b206IDc1JTtcIj48L2Rpdj48aW1nIHNyYz1cInt7aW1nTGFyZ2V9fVwiIGNsYXNzPVwibGFyZ2VcIi8+PC9kaXY+JyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRpbWdMYXJnZTogJ0BzcmNMYXJnZScsXHJcblx0XHRcdFx0aW1nU21hbGw6ICdAc3JjU21hbGwnXHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdHZhciBpbWdTbWFsbCA9IG5ldyBJbWFnZSgpO1xyXG5cdFx0XHRcdHZhciBpbWdMYXJnZSA9IG5ldyBJbWFnZSgpO1xyXG5cdFx0XHRcdGltZ1NtYWxsLnNyYyA9IHNjb3BlLmltZ1NtYWxsO1xyXG5cdFx0XHRcdGltZ1NtYWxsLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0ZWxlbS5jaGlsZHJlbignLnNtJykuZmluZCgnaW1nJykuY3NzKCdvcGFjaXR5JywgJzEnKTtcclxuXHRcdFx0XHRcdGltZ0xhcmdlLnNyYyA9IHNjb3BlLmltZ0xhcmdlO1xyXG5cdFx0XHRcdFx0aW1nTGFyZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdGVsZW0uZmluZCgnaW1nJykuY3NzKCdvcGFjaXR5JywgJzEnKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9KS5kaXJlY3RpdmUoJ2ltYWdlTW9kYWwnLCBbJyRpb25pY01vZGFsJywgaW1hZ2VNb2RhbF0pXHJcblx0LmRpcmVjdGl2ZSgnd2F0Y2hTY3JvbGwnLFsnJHJvb3RTY29wZScsd2F0Y2hTY3JvbGxdKTtcclxuXHJcblx0ZnVuY3Rpb24gd2F0Y2hTY3JvbGwoJHJvb3RTY29wZSl7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSxlbGVtKXtcclxuXHJcblx0XHRcdFx0dmFyIHN0YXJ0ID0gMDtcclxuXHRcdFx0XHR2YXIgdGhyZXNob2xkID0gMTUwO1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnc2Nyb2xsJyxmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIHNjcm9sbFRvcCA9IGUuc3JjRWxlbWVudC5zY3JvbGxUb3A7XHJcblx0XHRcdFx0XHRpZihzY3JvbGxUb3Atc3RhcnQgPiB0aHJlc2hvbGQpe1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnNsaWRlSGVhZGVyID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLnNsaWRlSGVhZGVyID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZigkcm9vdFNjb3BlLnNsaWRlSGVhZGVyUHJldmlvdXMgPiBzY3JvbGxUb3AgLSBzdGFydCl7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXJQcmV2aW91cyA9IHNjcm9sbFRvcCAtIHN0YXJ0O1xyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdC5zZXJ2aWNlKCdob21lU2VydmljZScsWyckaHR0cCcsJ1VwbG9hZCcsSG9tZVNlcnZpY2VdKTtcclxuXHJcblx0XHRmdW5jdGlvbiBIb21lU2VydmljZSgkaHR0cCxVcGxvYWQpe1xyXG5cdFx0XHQvL3RoaXMuYmFzZVVSTCA9ICdodHRwczovL3BldGFsY2hhdC1pbWFuaml0aHJlZGR5LmM5dXNlcnMuaW8vJztcclxuXHRcdFx0dGhpcy5iYXNlVVJMID0gJ2h0dHBzOi8vYmFuYW5hLXN1cnByaXNlLTMxMzMyLmhlcm9rdWFwcC5jb20vJztcclxuXHRcdFx0dGhpcy5kZWxldGVVcGxvYWQgPSBkZWxldGVVcGxvYWQ7XHJcblx0XHRcdHRoaXMuc3VibWl0VXBsb2FkID0gc3VibWl0VXBsb2FkO1xyXG5cdFx0XHR0aGlzLmdldEltYWdlcyA9IGdldEltYWdlcztcclxuXHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRmdW5jdGlvbiBkZWxldGVVcGxvYWQoaWQpe1xyXG5cdFx0XHRcdHJldHVybiAkaHR0cC5wb3N0KHRoYXQuYmFzZVVSTCsndXBsb2FkL2RlbGV0ZVVwbG9hZCcsIHsnZGF0YScgOiB7J3B1YmxpY19pZCc6aWR9fSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZ1bmN0aW9uIGdldEltYWdlcyhpbWFnZVRleHQpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGltYWdlVGV4dCk7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGF0LmJhc2VVUkwrJ3VwbG9hZC9nZXRJbWFnZXMnLHtwYXJhbXM6e2ltYWdlVGV4dDppbWFnZVRleHR9fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZnVuY3Rpb24gc3VibWl0VXBsb2FkKGZpbGUpe1xyXG5cdFx0XHRcdHJldHVybiBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHRcdHVybDogdGhhdC5iYXNlVVJMICsgJ3VwbG9hZC9zaW5nbGVVcGxvYWRJZCcsXHJcblx0XHRcdFx0XHRkYXRhOiB7IGZpbGU6IGZpbGUgfVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRcdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdFx0LnNlcnZpY2UoJ1JlcXVlc3RzU2VydmljZScsIFsnaG9tZVNlcnZpY2UnLCAnJGh0dHAnLCAnJHEnLCAnJGlvbmljTG9hZGluZycsICckY29yZG92YVB1c2hWNScsICckYXV0aCcsIFJlcXVlc3RzU2VydmljZV0pO1xyXG5cdFxyXG5cclxuXHRmdW5jdGlvbiBSZXF1ZXN0c1NlcnZpY2UoaG9tZVNlcnZpY2UsICRodHRwLCAkcSwgJGlvbmljTG9hZGluZywgJGNvcmRvdmFQdXNoVjUsICRhdXRoKSB7XHJcblxyXG5cdFx0dmFyIGJhc2VfdXJsID0gaG9tZVNlcnZpY2UuYmFzZVVSTDtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuXHJcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgb3B0aW9ucyA9IHtcclxuXHRcdFx0XHRhbmRyb2lkOiB7XHJcblx0XHRcdFx0XHRzZW5kZXJJRDogXCI2Nzk0NjE4NDAxMTVcIixcclxuXHRcdFx0XHRcdHZpYnJhdGU6IFwidHJ1ZVwiXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRicm93c2VyOntcclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpb3M6IHtcclxuXHRcdFx0XHRcdGFsZXJ0OiBcInRydWVcIixcclxuXHRcdFx0XHRcdGJhZGdlOiBcInRydWVcIixcclxuXHRcdFx0XHRcdHNvdW5kOiBcInRydWVcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0d2luZG93czoge31cclxuXHRcdFx0fTtcclxuXHRcdFx0LyppZih2aWJyYXRlKXtcclxuXHRcdFx0XHQvL29wdGlvbnMuYW5kcm9pZC52aWJyYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHQvL29wdGlvbnMuYW5kcm9pZC5mb3JjZVNob3cgPXRydWU7XHJcblx0XHRcdH0qL1xyXG5cdFx0XHRcclxuXHRcdFx0JGNvcmRvdmFQdXNoVjUuaW5pdGlhbGl6ZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdC8vIHN0YXJ0IGxpc3RlbmluZyBmb3IgbmV3IG5vdGlmaWNhdGlvbnNcclxuXHRcdFx0XHQkY29yZG92YVB1c2hWNS5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJpbnNpZGVlZWUgbm90aWZpY2F0aW9uXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBzdGFydCBsaXN0ZW5pbmcgZm9yIGVycm9yc1xyXG5cdFx0XHRcdCRjb3Jkb3ZhUHVzaFY1Lm9uRXJyb3IoKTtcclxuXHJcblx0XHRcdFx0Ly8gcmVnaXN0ZXIgdG8gZ2V0IHJlZ2lzdHJhdGlvbklkXHJcblx0XHRcdFx0aWYgKCRhdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XHJcblx0XHRcdFx0XHQkY29yZG92YVB1c2hWNS5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uSWQpIHtcclxuXHRcdFx0XHRcdFx0JGh0dHAucG9zdChiYXNlX3VybCArICdub3RpZmljYXRpb24vcmVnaXN0ZXInLCB7ICdkZXZpY2VfdG9rZW4nOiByZWdpc3RyYXRpb25JZCB9KVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdC5jYXRjaChmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ29vZ2xlU2lnbkluKHByb2ZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChiYXNlX3VybCsnYXV0aGVudGljYXRlL2F1dGgvbmF0aXZlR29vZ2xlJywgeyBwcm9maWxlOiBwcm9maWxlIH0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z29vZ2xlU2lnbkluOiBnb29nbGVTaWduSW4sXHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYXV0aE1vZEFwcC51c2VyRGF0YVxuICogQGRlc2NyaXB0aW9uXG4gKiAjIHVzZXJEYXRhXG4gKiBGYWN0b3J5IGluIHRoZSBhdXRoTW9kQXBwLlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScpXG4gIC5mYWN0b3J5KCd1c2VyRGF0YScsWyckd2luZG93JywnJHN0YXRlJywnJGF1dGgnLCckaHR0cCcsJ2hvbWVTZXJ2aWNlJyx1c2VyRGF0YV0pO1xuXG4gIGZ1bmN0aW9uIHVzZXJEYXRhKCR3aW5kb3csJHN0YXRlLCRhdXRoLCRodHRwLGhvbWVTZXJ2aWNlKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSAkd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICB2YXIgY2FjaGVkVXNlcj17fTtcbiAgICB2YXIgb2JqMSA9ICB7XG4gICAgICBzZXRVc2VyOiBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICBcbiAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCd1c2VyJyxKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcblxuICAgICAgICAgIHZhciB1c2VySWQgPSAkYXV0aC5nZXRQYXlsb2FkKCkuc3ViO1xuICAgICAgICAgIGlmKHVzZXJJZCl7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwrJ3VzZXIvZ2V0LycrdXNlcklkKS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvKmlmKG9iajEuaXNVc2VyRXhpc3RzKCkpe1xuICAgICAgICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XG4gICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgfSxcbiAgICAgIGdldFVzZXI6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNhY2hlZFVzZXIgPSBudWxsO1xuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgICAgIH0sXG4gICAgICBpc1VzZXJFeGlzdHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKG9iajEuZ2V0VXNlcigpKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gb2JqMTtcbiAgfVxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuY29udHJvbGxlcignQWxsUGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIEFsbFBlb3BsZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQWxsUGVvcGxlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgcGVvcGxlU2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRBbGxQZW9wbGUgPSBnZXRBbGxQZW9wbGU7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQZW9wbGUgPSBwdWxsUmVmcmVzaFBlb3BsZTtcclxuXHRcdGFwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cdFx0YXBjLnNlYXJjaENyb3NzU3VibWl0ID0gc2VhcmNoQ3Jvc3NTdWJtaXQ7XHJcblx0XHRhcGMucGVvcGxlU2VhcmNoVGV4dFN1Ym1pdCA9IHBlb3BsZVNlYXJjaFRleHRTdWJtaXQ7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBlb3BsZSgpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzZWFyY2hDcm9zc1N1Ym1pdCgpe1xyXG5cdFx0XHRhcGMucGVvcGxlU2VhcmNoVGV4dCA9ICcnO1xyXG5cdFx0XHRhcGMuc2hvd1NlYXJjaENyb3NzID0gZmFsc2U7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwZW9wbGVTZWFyY2hUZXh0U3VibWl0KGludGVyZXN0KXtcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IHRydWU7XHJcblx0XHRcdGlmKGludGVyZXN0KXtcclxuXHRcdFx0XHRhcGMucGVvcGxlU2VhcmNoVGV4dCA9IGludGVyZXN0O1x0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldEFsbFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbFBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRBbGxVc2VycyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wZW9wbGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucGVvcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAyNSxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGlmKGFwYy5wZW9wbGVTZWFyY2hUZXh0KXtcclxuXHRcdFx0XHRhcGMucGFyYW1zLmludGVyZXN0ID0gXHRhcGMucGVvcGxlU2VhcmNoVGV4dDtcclxuXHRcdFx0fVxyXG5cdFx0XHRnZXRBbGxQZW9wbGUoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuY29udHJvbGxlcignTmVhcmJ5UGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIE5lYXJieVBlb3BsZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTmVhcmJ5UGVvcGxlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgcGVvcGxlU2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXROZWFyYnlQZW9wbGUgPSBnZXROZWFyYnlQZW9wbGU7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQZW9wbGUgPSBwdWxsUmVmcmVzaFBlb3BsZTtcclxuXHRcdGFwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cdFx0YXBjLnJlbGVhc2VSYW5nZSA9IHJlbGVhc2VSYW5nZTtcclxuXHRcdGFwYy5kaXN0YW5jZSA9IDEwO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBlb3BsZSgpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQZW9wbGUoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXROZWFyYnlQZW9wbGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHJlbGVhc2VSYW5nZSgpe1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0TmVhcmJ5UGVvcGxlKCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldE5lYXJieVVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUGVvcGxlID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMjUsXHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRkaXN0YW5jZTogYXBjLmRpc3RhbmNlXHJcblx0XHRcdH07XHJcblx0XHRcdGdldE5lYXJieVBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Blb3BsZVBhcmVudENvbnRyb2xsZXInLFtQZW9wbGVQYXJlbnRDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFBlb3BsZVBhcmVudENvbnRyb2xsZXIoKXtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuY29udHJvbGxlcignUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Blb3BsZVNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJywgUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJlY2VpdmVkUGVvcGxlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgcGVvcGxlU2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRSZWNlaXZlZFBlb3BsZSA9IGdldFJlY2VpdmVkUGVvcGxlO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUGVvcGxlID0gcHVsbFJlZnJlc2hQZW9wbGU7XHJcblx0XHRhcGMubG9hZE1vcmVQZW9wbGUgPSBsb2FkTW9yZVBlb3BsZTtcclxuXHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBlb3BsZSgpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQZW9wbGUoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRSZWNlaXZlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlY2VpdmVkUGVvcGxlKCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlY2VpdmVkVXNlcnMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucGVvcGxlTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhcGMubm9QZW9wbGUgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wZW9wbGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucGVvcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAxMCxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGdldFJlY2VpdmVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncGVvcGxlU2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBSZXF1ZXN0ZWRQZW9wbGVDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0UmVxdWVzdGVkUGVvcGxlID0gZ2V0UmVxdWVzdGVkUGVvcGxlO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUGVvcGxlID0gcHVsbFJlZnJlc2hQZW9wbGU7XHJcblx0XHRhcGMubG9hZE1vcmVQZW9wbGUgPSBsb2FkTW9yZVBlb3BsZTtcclxuXHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBlb3BsZSgpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQZW9wbGUoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRSZXF1ZXN0ZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXF1ZXN0ZWRQZW9wbGUoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVxdWVzdGVkVXNlcnMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDI1LFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UmVxdWVzdGVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JldmVhbGVkUGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIFJldmVhbGVkUGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZXZlYWxlZFBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0UmV2ZWFsZWRQZW9wbGUgPSBnZXRSZXZlYWxlZFBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblxyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZFBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZXZlYWxlZFVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUGVvcGxlID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMjUsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnZXRSZXZlYWxlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5kaXJlY3RpdmUoJ3Blb3BsZUxpc3QnLCBbICd1c2VyRGF0YScscGVvcGxlTGlzdF0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gcGVvcGxlTGlzdCggdXNlckRhdGEpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9wZW9wbGVMaXN0VGVtcGxhdGUuaHRtbCcsXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0bGlzdFR5cGU6ICdAbGlzdFR5cGUnLFxyXG5cdFx0XHRcdHBlb3BsZUxpc3Q6ICc9cGVvcGxlTGlzdCcsXHJcblx0XHRcdFx0cGVvcGxlU2VhcmNoVGV4dFN1Ym1pdDogJyZwZW9wbGVTZWFyY2hUZXh0U3VibWl0J1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG5cdFx0XHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJEYXRhLmdldFVzZXIoKTtcclxuXHRcdFx0XHQkc2NvcGUuc2V0UGVvcGxlU2VhcmNoID0gZnVuY3Rpb24oaW50ZXJlc3QsJGV2ZW50KXtcclxuXHRcdFx0XHRcdGlmKCRzY29wZS5wZW9wbGVTZWFyY2hUZXh0U3VibWl0KXtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCRzY29wZS5wZW9wbGVTZWFyY2hUZXh0U3VibWl0KHtpbnRlcmVzdDppbnRlcmVzdH0pO1x0XHJcblx0XHRcdFx0XHRcdCRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0JHNjb3BlLnJlbW92ZUFmdGVyRGVjaWRlZCA9IGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdCRzY29wZS5wZW9wbGVMaXN0LnNwbGljZShpbmRleCwxKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuZGlyZWN0aXZlKCdjYW5jZWxSZXZlYWwnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ3JldmVhbFNlcnZpY2UnLCBjYW5jZWxSZXZlYWxdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVjaWRlUmV2ZWFsJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdyZXZlYWxTZXJ2aWNlJywgZGVjaWRlUmV2ZWFsXSlcclxuXHRcdC5kaXJlY3RpdmUoJ2RlbGV0ZVJldmVhbCcsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAncmV2ZWFsU2VydmljZScsIGRlbGV0ZVJldmVhbF0pXHJcblx0XHQuZGlyZWN0aXZlKCdzZW5kUmV2ZWFsJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdyZXZlYWxTZXJ2aWNlJywgc2VuZFJldmVhbF0pXHJcblx0XHQuZGlyZWN0aXZlKCdjcmVhdGVCbG9jaycsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAnYmxvY2tTZXJ2aWNlJywgY3JlYXRlQmxvY2tdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVsZXRlQmxvY2snLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ2Jsb2NrU2VydmljZScsIGRlbGV0ZUJsb2NrXSlcclxuXHRcdC5kaXJlY3RpdmUoJ2RlbGV0ZUNoYXQnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ2NoYXRTZXJ2aWNlJywnJHN0YXRlJywgZGVsZXRlQ2hhdF0pXHJcblx0XHQuZGlyZWN0aXZlKCdjaGF0UGFnZScsIFsnJHN0YXRlJywgY2hhdFBhZ2VdKVxyXG5cdFx0LmRpcmVjdGl2ZSgndXNlclNldHRpbmdzJywgWyckaW9uaWNQb3BvdmVyJywgdXNlclNldHRpbmdzXSlcclxuXHRcdC5kaXJlY3RpdmUoJ3VzZXJQYWdlJywgWyckc3RhdGUnLCB1c2VyUGFnZV0pO1xyXG5cclxuXHRcclxuXHRmdW5jdGlvbiBkZWxldGVDaGF0KCRpb25pY0FjdGlvblNoZWV0LCBjaGF0U2VydmljZSwkc3RhdGUpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0ZGVsZXRlQ2hhdDogJ0AnLFxyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0RlbGV0ZSAnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBEZWxldGUgQ2hhdCAnXHJcblx0XHRcdFx0XHRcdH0sIF0sXHJcblxyXG5cdFx0XHRcdFx0XHRjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnQ0FOQ0VMTEVEJyk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjaGF0U2VydmljZS5kZWxldGVDaGF0Um9vbShzY29wZS5kZWxldGVDaGF0KS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQocmVzLmRhdGEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUuY2hhdC5hbGwnKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB1c2VyU2V0dGluZ3MoJGlvbmljUG9wb3Zlcikge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR1c2VyQmxvY2s6ICdAJyxcclxuXHRcdFx0XHRjaGF0RGVsZXRlOiAnQCcsXHJcblx0XHRcdFx0YmxvY2tJZDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0c2NvcGUudXNlckJsb2NrID0gKHNjb3BlLnVzZXJCbG9jaz09PVwidHJ1ZVwiKTtcclxuXHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY1BvcG92ZXIuZnJvbVRlbXBsYXRlVXJsKCdhcHAvdXNlci92aWV3cy9zZXR0aW5nc1RlbXBsYXRlLmh0bWwnLCB7XHJcblx0XHRcdFx0XHRcdHNjb3BlOiBzY29wZVxyXG5cdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihwb3BvdmVyKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIgPSBwb3BvdmVyO1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3BvdmVyLnNob3coZXZlbnQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGNoYXRQYWdlKCRzdGF0ZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRjaGF0UGFnZTogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2NoYXRCb3gnLCB7IHVzZXI6IHNjb3BlLmNoYXRQYWdlIH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB1c2VyUGFnZSgkc3RhdGUpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0dXNlclBhZ2U6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnVzZXJQYWdlJywgeyB1c2VyOiBzY29wZS51c2VyUGFnZSB9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2FuY2VsUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRjYW5jZWxSZXZlYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ1JldmVhbCcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IENhbmNlbCBSZXZlYWwgUmVxdWVzdCdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuY2FuY2VsKHNjb3BlLmNhbmNlbFJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRlY2lkZVJldmVhbCgkaW9uaWNBY3Rpb25TaGVldCwgcmV2ZWFsU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVjaWRlUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBBY2NlcHQgUmV2ZWFsIFJlcXVlc3QnXHJcblx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1zaGFyZVwiPjwvaT4gRGVueSBSZXZlYWwgUmVxdWVzdCdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXZlYWxTZXJ2aWNlLmFjY2VwdChzY29wZS5kZWNpZGVSZXZlYWwpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuaWdub3JlKHNjb3BlLmRlY2lkZVJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRlbGV0ZVJldmVhbCgkaW9uaWNBY3Rpb25TaGVldCwgcmV2ZWFsU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVsZXRlUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBEZWxldGUgUmV2ZWFsICdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuZmluaXNoKHNjb3BlLmRlbGV0ZVJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZW5kUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRzZW5kUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBTZW5kIFJldmVhbCBSZXF1ZXN0J1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXZlYWxTZXJ2aWNlLmluaXRpYXRlKHNjb3BlLnNlbmRSZXZlYWwpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY3JlYXRlQmxvY2soJGlvbmljQWN0aW9uU2hlZXQsIGJsb2NrU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRjcmVhdGVCbG9jazogJ0AnLFxyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0Jsb2NrIFVzZXInLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBCbG9jaydcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0YmxvY2tTZXJ2aWNlLmNyZWF0ZShzY29wZS5jcmVhdGVCbG9jaykudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJ1c2VyIGJsb2NrZWRcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRpZihzY29wZS5hZnRlckNhbGxiYWNrKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZGVsZXRlQmxvY2soJGlvbmljQWN0aW9uU2hlZXQsIGJsb2NrU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVsZXRlQmxvY2s6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0Jsb2NrJyxcclxuXHRcdFx0XHRcdFx0YnV0dG9uczogW3tcclxuXHRcdFx0XHRcdFx0XHR0ZXh0OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1zaGFyZVwiPjwvaT4gVW5ibG9jayBVc2VyICdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGJsb2NrU2VydmljZS5yZW1vdmUoc2NvcGUuZGVsZXRlQmxvY2spLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvKlxyXG5cdCAqU2VydmljZSBmb3IgZ2V0dGluZyBhIHNpbmdsZSBzdG9yZSB3aXRoIGl0cyBpZFxyXG5cdCAqL1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LnNlcnZpY2UoJ3Blb3BsZVNlcnZpY2UnLCBbXCIkaHR0cFwiLCBcImhvbWVTZXJ2aWNlXCIsICd1c2VyTG9jYXRpb25TZXJ2aWNlJywgJyRxJywgUGVvcGxlU2VydmljZV0pO1xyXG5cclxuXHQvKlxyXG5cdCAqIFRoaXMgc2VydmljIGhhcyBhIGZ1bmN0aW9uIG5hbWVzIGdldFN0b3JlIHdoaWNoIHRha2VzIGlkIGFzIHBhcmFtZXRlciBhbmQgcmV0dXJucyBhIHByb21pc2VcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBQZW9wbGVTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSwgdXNlckxvY2F0aW9uU2VydmljZSwgJHEpIHtcclxuXHJcblx0XHR0aGlzLmdldEFsbFVzZXJzID0gZ2V0QWxsVXNlcnM7XHJcblx0XHR0aGlzLmdldFJldmVhbGVkVXNlcnMgPSBnZXRSZXZlYWxlZFVzZXJzO1xyXG5cdFx0dGhpcy5nZXROZWFyYnlVc2VycyA9IGdldE5lYXJieVVzZXJzO1xyXG5cdFx0dGhpcy5nZXRSZXF1ZXN0ZWRVc2VycyA9IGdldFJlcXVlc3RlZFVzZXJzO1xyXG5cdFx0dGhpcy5nZXRSZWNlaXZlZFVzZXJzID0gZ2V0UmVjZWl2ZWRVc2VycztcclxuXHRcdHRoaXMuZ2V0TmVhcmJ5VXNlcnMgPSBnZXROZWFyYnlVc2VycztcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLmFsbCA9IHRydWU7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmV2ZWFsZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInVzZXIvZ2V0VXNlcnNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZWRVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnJlY2VpdmVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlcXVlc3RlZFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmVxdWVzdGVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0RmlsdGVyZWRVc2VycyhkZWZlcixwYXJhbXMpe1xyXG5cdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24odXNlcnMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUodXNlcnMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0aWYgKHBhcmFtcy5wYWdlID09IDEpIHtcclxuXHRcdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLnNldFVzZXJMb2NhdGlvbigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHBhcmFtcy5uZWFyYnkgPSB0cnVlO1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cGFyYW1zLmxhdGl0dWRlID0gcG9zaXRpb24ubGF0aXR1ZGU7XHJcblx0XHRcdFx0cGFyYW1zLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHRcdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24odXNlcnMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUodXNlcnMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdGdldEZpbHRlcmVkVXNlcnMoZGVmZXIscGFyYW1zKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpLlxyXG5cdHNlcnZpY2UoJ3Vwdm90ZVNlcnZpY2UnLCBbJyRodHRwJywgJ2hvbWVTZXJ2aWNlJywgIFVwdm90ZVNlcnZpY2VdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIFVwdm90ZVNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHRcclxuXHRcdHRoaXMuY3JlYXRlVXB2b3RlID0gY3JlYXRlVXB2b3RlO1xyXG5cdFx0dGhpcy5kZWxldGVVcHZvdGUgPSBkZWxldGVVcHZvdGU7XHJcblx0XHR0aGlzLmdldFVwdm90ZSA9IGdldFVwdm90ZTtcclxuXHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXB2b3RlKHBvc3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXB2b3RlL2dldC8nK3Bvc3RJZCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVVwdm90ZShwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1cHZvdGUvY3JlYXRlLycrcG9zdElkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVVcHZvdGUocG9zdElkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXB2b3RlL2RlbGV0ZS8nICsgcG9zdElkKTtcclxuXHRcdH1cclxuXHJcblx0XHRcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdBbGxQb3N0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwb3N0U2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBBbGxQb3N0Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBBbGxQb3N0Q29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgcG9zdFNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0QWxsUG9zdHMgPSBnZXRBbGxQb3N0cztcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBvc3RzID0gcHVsbFJlZnJlc2hQb3N0cztcclxuXHRcdGFwYy5sb2FkTW9yZVBvc3RzID0gbG9hZE1vcmVQb3N0cztcclxuXHRcdGFwYy5wb3N0U2VhcmNoVGV4dFN1Ym1pdCA9IHBvc3RTZWFyY2hUZXh0U3VibWl0O1xyXG5cdFx0YXBjLnNlYXJjaENyb3NzU3VibWl0ID0gc2VhcmNoQ3Jvc3NTdWJtaXQ7XHJcblx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAzLFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gc2VhcmNoQ3Jvc3NTdWJtaXQoKXtcclxuXHRcdFx0YXBjLnBvc3RTZWFyY2hUZXh0ID0gJyc7XHJcblx0XHRcdGFwYy5zaG93U2VhcmNoQ3Jvc3MgPSBmYWxzZTtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHBvc3RTZWFyY2hUZXh0U3VibWl0KGludGVyZXN0KXtcclxuXHRcdFx0XHJcblx0XHRcdGFwYy5zaG93U2VhcmNoQ3Jvc3MgPSB0cnVlO1xyXG5cdFx0XHRpZihpbnRlcmVzdCl7XHJcblx0XHRcdFx0YXBjLnBvc3RTZWFyY2hUZXh0ID0gaW50ZXJlc3Q7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihhcGMucG9zdFNlYXJjaFRleHQpe1xyXG5cdFx0XHRcdGFjdGl2YXRlKCk7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbFBvc3RzKCkge1xyXG5cdFx0XHRhcGMubm9Qb3N0cyA9IGZhbHNlO1x0XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBvc3RzTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhcGMubm9Qb3N0cyA9IXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBvc3RzTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucG9zdHNMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDUsXHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHJcblx0XHRcdH07XHJcblx0XHRcdGlmKGFwYy5wb3N0U2VhcmNoVGV4dCl7XHJcblx0XHRcdFx0YXBjLnBhcmFtcy5pbnRlcmVzdCA9IFx0YXBjLnBvc3RTZWFyY2hUZXh0O1xyXG5cdFx0XHR9XHJcblx0XHRcdGdldEFsbFBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdDcmVhdGVQb3N0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwb3N0U2VydmljZScsJyRpb25pY0xvYWRpbmcnLCAnaG9tZVNlcnZpY2UnLENyZWF0ZVBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIENyZWF0ZVBvc3RDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nLGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgY3BjID0gdGhpcztcclxuXHRcdGNwYy5zdWJtaXRQb3N0ID0gc3VibWl0UG9zdDtcclxuXHRcdGNwYy5wb3N0ID0ge307XHJcblx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdGNwYy5nb0JhY2sgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHR9O1xyXG5cdFx0JHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gY3BjLnBvc3QuY29udGVudDtcclxuXHRcdH0sIGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcblx0XHRcdGlmIChuZXdWYWwgJiYgbmV3VmFsLmxlbmd0aCA+IDMwMCkge1xyXG5cdFx0XHRcdGNwYy5wb3N0LmNvbnRlbnQgPSBvbGRWYWw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHN1Ym1pdFBvc3QoKSB7XHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRwb3N0U2VydmljZS5zdWJtaXRQb3N0KGNwYy5wb3N0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnBvc3QubGF0ZXN0Jyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwicG9zdCBjb250cm9sbGVyIGVycm9yXCIpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRjcGMuc2VsZWN0UmFuZG9tSW1hZ2UgPSBmdW5jdGlvbihpbWcpe1xyXG5cdFx0XHRjcGMucG9zdC5pbWFnZSA9IGltZztcclxuXHRcdH07XHJcblx0XHRjcGMubG9hZFJhbmRvbUltYWdlcyA9IGZ1bmN0aW9uKGltYWdlVGV4dCl7XHJcblx0XHRcdGNwYy5sb2FkaW5nUmFuZG9tSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHRjcGMucmFuZG9tSW1hZ2VzID0gW107XHJcblx0XHRcdGhvbWVTZXJ2aWNlLmdldEltYWdlcyhpbWFnZVRleHQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRcdGNwYy5yYW5kb21JbWFnZXMgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNwYy5sb2FkaW5nUmFuZG9tSW1hZ2UgPSBmYWxzZTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImltYWdlcyBlcnJcIik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdFx0Y3BjLmNhbmNlbFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZihjcGMucG9zdC5pbWFnZUlkKXtcclxuXHRcdFx0XHRob21lU2VydmljZS5kZWxldGVVcGxvYWQoY3BjLnBvc3QuaW1hZ2VJZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0XHRjcGMucG9zdC5pbWFnZSA9ICcnO1xyXG5cdFx0XHRcdFx0Y3BjLnBvc3QuaW1hZ2VJZCA9ICcnO1x0XHRcdFx0XHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0XHJcblx0XHR9O1xyXG5cclxuXHRcdGNwYy5zdWJtaXRVcGxvYWQgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHRpZihjcGMucG9zdC5pbWFnZUlkKXtcclxuXHRcdFx0XHRjcGMuY2FuY2VsVXBsb2FkKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y3BjLmxvYWRpbmdJbWFnZSA9IHRydWU7XHJcblx0XHRcdGNwYy5maWxlID0gZmlsZTtcclxuXHRcdFx0Y3BjLmVyckZpbGUgPSBlcnJGaWxlcyAmJiBlcnJGaWxlc1swXTtcclxuXHRcdFx0aWYgKGNwYy5maWxlKSB7XHJcblx0XHRcdFx0aG9tZVNlcnZpY2Uuc3VibWl0VXBsb2FkKGNwYy5maWxlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRjcGMucG9zdC5pbWFnZSA9IHJlc3BvbnNlLmRhdGEuaW1hZ2U7XHJcblx0XHRcdFx0XHRjcGMucG9zdC5pbWFnZUlkID0gcmVzcG9uc2UuZGF0YS5pbWFnZUlkO1xyXG5cdFx0XHRcdFx0Y3BjLmxvYWRpbmdJbWFnZSA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdMYXRlc3RQb3N0Q29udHJvbGxlcicsWyckc2NvcGUnLCckc3RhdGUnLCdwb3N0U2VydmljZScsJyRpb25pY0xvYWRpbmcnLExhdGVzdFBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIExhdGVzdFBvc3RDb250cm9sbGVyKCRzY29wZSwkc3RhdGUscG9zdFNlcnZpY2UsJGlvbmljTG9hZGluZyl7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRMYXRlc3RQb3N0cyA9IGdldExhdGVzdFBvc3RzO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUG9zdHMgPSBwdWxsUmVmcmVzaFBvc3RzO1xyXG5cdFx0YXBjLmxvYWRNb3JlUG9zdHMgPSBsb2FkTW9yZVBvc3RzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBvc3RzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBvc3RzKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0TGF0ZXN0UG9zdHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRMYXRlc3RQb3N0cygpIHtcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0TGF0ZXN0UG9zdHMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucG9zdHNMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDMsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnZXRMYXRlc3RQb3N0cygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ05lYXJieVBvc3RDb250cm9sbGVyJyxbJyRzY29wZScsJyRzdGF0ZScsJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsTmVhcmJ5UG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTmVhcmJ5UG9zdENvbnRyb2xsZXIoJHNjb3BlLCRzdGF0ZSxwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nKXtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldE5lYXJieVBvc3RzID0gZ2V0TmVhcmJ5UG9zdHM7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQb3N0cyA9IHB1bGxSZWZyZXNoUG9zdHM7XHJcblx0XHRhcGMubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7XHJcblx0XHRhcGMucmVsZWFzZVJhbmdlID0gcmVsZWFzZVJhbmdlO1xyXG5cdFx0YXBjLmRpc3RhbmNlID0gMTA7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcmVsZWFzZVJhbmdlKCl7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBvc3RzKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0TmVhcmJ5UG9zdHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlQb3N0cygpIHtcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0TmVhcmJ5UG9zdHMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMTAsXHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRkaXN0YW5jZTogYXBjLmRpc3RhbmNlXHJcblx0XHRcdH07XHJcblx0XHRcdGdldE5lYXJieVBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignUG9wdWxhclBvc3RDb250cm9sbGVyJyxbJyRzY29wZScsJyRzdGF0ZScsJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsUG9wdWxhclBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFBvcHVsYXJQb3N0Q29udHJvbGxlcigkc2NvcGUsJHN0YXRlLHBvc3RTZXJ2aWNlLCRpb25pY0xvYWRpbmcpe1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0UG9wdWxhclBvc3RzID0gZ2V0UG9wdWxhclBvc3RzO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUG9zdHMgPSBwdWxsUmVmcmVzaFBvc3RzO1xyXG5cdFx0YXBjLmxvYWRNb3JlUG9zdHMgPSBsb2FkTW9yZVBvc3RzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaFBvc3RzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBvc3RzKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UG9wdWxhclBvc3RzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UG9wdWxhclBvc3RzKCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRQb3B1bGFyUG9zdHMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmKCFyZXNwb25zZS5kYXRhLnRvdGFsKXtcclxuXHRcdFx0XHRcdGFwYy5ub1Bvc3RzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBvc3RzTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMyxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGdldFBvcHVsYXJQb3N0cygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1Bvc3RQYXJlbnRDb250cm9sbGVyJyxbJyRyb290U2NvcGUnLFBvc3RQYXJlbnRDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFBvc3RQYXJlbnRDb250cm9sbGVyKCRyb290U2NvcGUpe1xyXG5cdFx0Ly8kcm9vdFNjb3BlLnNsaWRlSGVhZGVyID0gdHJ1ZTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignU2luZ2xlUG9zdENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncG9zdFNlcnZpY2UnLCAnJHN0YXRlUGFyYW1zJywnJGlvbmljSGlzdG9yeScsJ3Vwdm90ZVNlcnZpY2UnLFNpbmdsZVBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFNpbmdsZVBvc3RDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwb3N0U2VydmljZSwkc3RhdGVQYXJhbXMsJGlvbmljSGlzdG9yeSx1cHZvdGVTZXJ2aWNlKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRTaW5nbGVQb3N0PSBnZXRTaW5nbGVQb3N0O1xyXG5cdFx0YXBjLnN1Ym1pdFBvc3RVcHZvdGUgPSBzdWJtaXRQb3N0VXB2b3RlO1xyXG5cdFx0YXBjLmRlbGV0ZVBvc3RVcHZvdGUgPSBkZWxldGVQb3N0VXB2b3RlO1xyXG5cdFx0YXBjLmdldFBvc3REaXN0YW5jZSA9IGdldFBvc3REaXN0YW5jZTtcclxuXHRcdGFwYy5iYWNrID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHJcblx0XHRcdHdpbmRvdy5oaXN0b3J5LmJhY2soKTsgXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBnZXRTaW5nbGVQb3N0KCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRQb3N0KCRzdGF0ZVBhcmFtcy5pZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFwYy5wb3N0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRhcGMuZGlzdGFuY2VPYmogPSB7XHJcblx0XHRcdFx0XHRsYXRpdHVkZTphcGMucG9zdC5sb2NbMV0sXHJcblx0XHRcdFx0XHRsb25naXR1ZGU6IGFwYy5wb3N0LmxvY1swXSxcclxuXHRcdFx0XHRcdGRpYXRhbmNlOiAwXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRnZXRQb3N0RGlzdGFuY2UoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gY2hlY2tQb3N0VXB2b3RlKCl7XHJcblx0XHRcdHVwdm90ZVNlcnZpY2UuZ2V0VXB2b3RlKGFwYy5jdXJyZW50UG9zdCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFwYy5wb3N0VXB2b3RlZCA9IHJlcy5kYXRhIHx8IGZhbHNlO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gc3VibWl0UG9zdFVwdm90ZSgpe1xyXG5cdFx0XHR1cHZvdGVTZXJ2aWNlLmNyZWF0ZVVwdm90ZShhcGMuY3VycmVudFBvc3QpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVBvc3RVcHZvdGUoKXtcclxuXHRcdFx0dXB2b3RlU2VydmljZS5kZWxldGVVcHZvdGUoYXBjLmN1cnJlbnRQb3N0KS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0Y2hlY2tQb3N0VXB2b3RlKCk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpe1xyXG5cdFx0XHRhcGMuY3VycmVudFBvc3QgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcblx0XHRcdGdldFNpbmdsZVBvc3QoKTtcclxuXHRcdFx0Y2hlY2tQb3N0VXB2b3RlKCk7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0UG9zdERpc3RhbmNlKCl7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldERpc3RhbmNlKGFwYy5kaXN0YW5jZU9iaik7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdHZhciBwb3N0TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKTtcclxuXHRwb3N0TW9kdWxlLmRpcmVjdGl2ZSgncG9zdFNlYXJjaE1vZGFsJywgWyckaW9uaWNNb2RhbCcsICdwb3N0U2VydmljZScscG9zdFNlYXJjaE1vZGFsXSk7XHJcblxyXG5cdGZ1bmN0aW9uIHBvc3RTZWFyY2hNb2RhbCgkaW9uaWNNb2RhbCwgcG9zdFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0cG9zdFNlYXJjaE1vZGFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YSA9IHt9O1xyXG5cdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RTZWFyY2hNb2RhbCA9IHNjb3BlLnBvc3RTZWFyY2hNb2RhbDtcclxuXHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0XHRzY29wZS5tb2RhbHNMaXN0ID0gW107XHJcblx0XHRcdFx0c2NvcGUuY2xpY2tQb3N0U2VhcmNoID0gY2xpY2tQb3N0U2VhcmNoO1xyXG5cdFx0XHRcdHNjb3BlLnNob3dQb3N0TW9kYWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGxvYWRQb3N0TW9kYWwoKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5zaG93KCk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRzY29wZS4kb24oJ21vZGFsLmhpZGRlbicsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHNjb3BlLmdldFBvc3RzID0gZnVuY3Rpb24ocGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RzKHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5ub1Bvc3RzID0gIXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RzTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGNsaWNrUG9zdFNlYXJjaCgpe1xyXG5cdFx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEucG9zdHNMaXN0ID0gW107XHJcblx0XHRcdFx0XHR2YXIgcGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0XHRpbnRlcmVzdDogc2NvcGUucG9zdFNlYXJjaERhdGEucG9zdFNlYXJjaE1vZGFsICxcclxuXHRcdFx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDUwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0c2NvcGUuZ2V0UG9zdHMocGFyYW1zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZnVuY3Rpb24gbG9hZFBvc3RNb2RhbCgpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2FwcC9wb3N0L3ZpZXdzL3Bvc3RTZWFyY2hNb2RhbC5odG1sJywge1xyXG5cdFx0XHRcdFx0XHRzY29wZTogc2NvcGVcclxuXHRcdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwgPSBtb2RhbDtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHR2YXIgcGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0XHRpbnRlcmVzdDogc2NvcGUucG9zdFNlYXJjaERhdGEucG9zdFNlYXJjaE1vZGFsICxcclxuXHRcdFx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDUwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0c2NvcGUuc2hvd1Bvc3RNb2RhbCgpO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRzY29wZS5nZXRQb3N0cyhwYXJhbXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5kaXJlY3RpdmUoJ3Bvc3RzTGlzdCcsIFsnJHN0YXRlJywgJ3VzZXJEYXRhJywgJ3Bvc3RTZXJ2aWNlJywgJ3Vwdm90ZVNlcnZpY2UnLCAnJGlvbmljTW9kYWwnLHBvc3RzTGlzdF0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gcG9zdHNMaXN0KCAkc3RhdGUsIHVzZXJEYXRhLCBwb3N0U2VydmljZSwgdXB2b3RlU2VydmljZSwkaW9uaWNNb2RhbCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9wb3N0c0xpc3RUZW1wbGF0ZS5odG1sJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRwb3N0c0xpc3Q6ICc9cG9zdHNMaXN0JyxcclxuXHRcdFx0XHRwb3N0U2VhcmNoVGV4dFN1Ym1pdDogJyZwb3N0U2VhcmNoVGV4dFN1Ym1pdCdcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0Ly9jb250cm9sbGVyOiBbJ3Njb3BlJywgXVxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRzY29wZS5nZXRUaW1lID0gZnVuY3Rpb24odGltZSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHRpbWUpLmZyb21Ob3coKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlckRhdGEuZ2V0VXNlcigpO1xyXG5cclxuXHRcdFx0XHRzY29wZS5zZXRQb3N0U2VhcmNoID0gZnVuY3Rpb24oaW50ZXJlc3Qpe1xyXG5cdFx0XHRcdFx0aWYoc2NvcGUucG9zdFNlYXJjaFRleHRTdWJtaXQpe1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoVGV4dFN1Ym1pdCh7aW50ZXJlc3Q6aW50ZXJlc3R9KTtcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRzY29wZS51c2VyUGFnZSA9IHVzZXJQYWdlO1xyXG5cdFx0XHRcdGZ1bmN0aW9uIHVzZXJQYWdlKGlkKXtcclxuXHRcdFx0XHRcdHNjb3BlLm1vZGFsLmhpZGUoKTtcclxuXHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS51c2VyUGFnZScsIHsgdXNlcjogaWQgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRQb3N0TW9kYWwoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdhcHAvcG9zdC92aWV3cy9wb3N0TW9kYWwuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6IHNjb3BlXHJcblx0XHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsID0ge307XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLnVzZXJQYWdlID0gdXNlclBhZ2U7XHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdHNjb3BlLnNob3dQb3N0TW9kYWwgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0TW9kYWwucG9zdCA9IHBvc3Q7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0TW9kYWwucG9zdC52aWV3cys9MTtcclxuXHRcdFx0XHRcdGxvYWRQb3N0TW9kYWwoKS50aGVuKGZ1bmN0aW9uKCl7XHJcblxyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5zaG93KCk7XHRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0c2NvcGUuJG9uKCdtb2RhbC5oaWRkZW4nLCBmdW5jdGlvbigpIHtcclxuICAgIFx0XHRcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHJcbiAgXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRcclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuZGlyZWN0aXZlKCdwb3N0VXB2b3RlJywgWyckc3RhdGUnLCAndXB2b3RlU2VydmljZScsJyR0aW1lb3V0Jyxwb3N0VXB2b3RlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBwb3N0VXB2b3RlKCAkc3RhdGUsIHVwdm90ZVNlcnZpY2UsJHRpbWVvdXQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvcG9zdFVwdm90ZVRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHBvc3RJZDogJz1wb3N0SWQnLFxyXG5cdFx0XHRcdHVwdm90ZXNMZW5ndGg6ICc9dXB2b3Rlc0xlbmd0aCdcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlKSB7XHJcblx0XHRcdFx0c2NvcGUuY2hlY2tQb3N0VXB2b3RlID0gY2hlY2tQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdHNjb3BlLnN1Ym1pdFBvc3RVcHZvdGUgPSBzdWJtaXRQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdHNjb3BlLmRlbGV0ZVBvc3RVcHZvdGUgPSBkZWxldGVQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUubG9hZGluZ1Vwdm90ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gY2hlY2tQb3N0VXB2b3RlKCkge1xyXG5cdFx0XHRcdFx0dXB2b3RlU2VydmljZS5nZXRVcHZvdGUoc2NvcGUucG9zdElkKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUucG9zdFVwdm90ZWQgPSByZXMuZGF0YTtcclxuXHRcdFx0XHRcdFx0c2NvcGUubG9hZGluZ1Vwdm90ZSA9IGZhbHNlO1x0XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJjaGVjayBlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gc3VibWl0UG9zdFVwdm90ZSgpIHtcclxuXHRcdFx0XHRcdHNjb3BlLnBvc3RVcHZvdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dXB2b3RlU2VydmljZS5jcmVhdGVVcHZvdGUoc2NvcGUucG9zdElkKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUudXB2b3Rlc0xlbmd0aCs9MTtcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInN1Ym1pdCBlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gZGVsZXRlUG9zdFVwdm90ZSgpIHtcclxuXHRcdFx0XHRcdHNjb3BlLnBvc3RVcHZvdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR1cHZvdGVTZXJ2aWNlLmRlbGV0ZVVwdm90ZShzY29wZS5wb3N0SWQpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRzY29wZS51cHZvdGVzTGVuZ3RoLT0xO1x0XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKS5cclxuXHRzZXJ2aWNlKCdwb3N0U2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLCAndXNlckxvY2F0aW9uU2VydmljZScsICckcScsIFBvc3RTZXJ2aWNlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBQb3N0U2VydmljZSgkaHR0cCwgaG9tZVNlcnZpY2UsIHVzZXJMb2NhdGlvblNlcnZpY2UsICRxKSB7XHJcblx0XHR0aGlzLmdldEFsbFBvc3RzID0gZ2V0QWxsUG9zdHM7XHJcblx0XHR0aGlzLmdldE5lYXJieVBvc3RzID0gZ2V0TmVhcmJ5UG9zdHM7XHJcblx0XHR0aGlzLmdldExhdGVzdFBvc3RzID0gZ2V0TGF0ZXN0UG9zdHM7XHJcblx0XHR0aGlzLmdldFBvcHVsYXJQb3N0cyA9IGdldFBvcHVsYXJQb3N0cztcclxuXHRcdHRoaXMuc3VibWl0UG9zdCA9IHN1Ym1pdFBvc3Q7XHJcblx0XHR0aGlzLmRlbGV0ZVBvc3QgPSBkZWxldGVQb3N0O1xyXG5cdFx0dGhpcy5nZXRQb3N0ID0gZ2V0UG9zdDtcclxuXHRcdHRoaXMuZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2dldFBvc3RzJywgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldEZpbHRlcmVkUG9zdHMoZGVmZXIscGFyYW1zKXtcclxuXHRcdFx0JGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInBvc3QvZ2V0UG9zdHNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KS50aGVuKGZ1bmN0aW9uKHBvc3RzKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIndpdGhvdXQgcG9zaXRpb25cIik7XHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHBvc3RzKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyMik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLm5lYXJieSA9IHRydWU7XHJcblx0XHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZihwYXJhbXMucGFnZT09MSl7XHJcblx0XHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5zZXRVc2VyTG9jYXRpb24oKTtcclxuICAgICAgXHRcdFx0fVxyXG4gICAgICBcdFx0XHRcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cGFyYW1zLmxhdGl0dWRlID0gcG9zaXRpb24ubGF0aXR1ZGU7XHJcblx0XHRcdFx0cGFyYW1zLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHRcdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwicG9zdC9nZXRQb3N0c1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24ocG9zdHMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUocG9zdHMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdGdldEZpbHRlcmVkUG9zdHMoZGVmZXIscGFyYW1zKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGF0ZXN0UG9zdHMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5zb3J0ID0gJy10aW1lJztcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZ2V0UG9zdHMnLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBvcHVsYXJQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnNvcnQgPSAnLXVwdm90ZXNMZW5ndGgnO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9nZXRQb3N0cycsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3VibWl0UG9zdChwb3N0KSB7XHJcblx0XHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiZW50ZXJlZCBzdWJtaXQgcG9zdFwiKTtcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cG9zdC5sYXRpdHVkZSA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG5cdFx0XHRcdHBvc3QubG9uZ2l0dWRlID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG5cclxuXHRcdFx0XHQkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9jcmVhdGUnLCB7IHBvc3Q6IHBvc3QgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2NyZWF0ZScsIHsgcG9zdDogcG9zdCB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyMik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVQb3N0KHBvc3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9kZWxldGUvJyArIHBvc3RJZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UG9zdChwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZ2V0LycgKyBwb3N0SWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldERpc3RhbmNlKHBvc09iaikge1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHR2YXIgbGF0MSA9IHBvc09iai5sYXRpdHVkZTtcclxuXHRcdFx0dmFyIGxvbjEgPSBwb3NPYmoubG9uZ2l0dWRlO1xyXG5cdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLmdldFVzZXJMb2NhdGlvbigpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgbGF0MiA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG5cdFx0XHRcdHZhciBsb24yID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG5cdFx0XHRcdHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG5cdFx0XHRcdHZhciBkTGF0ID0gZGVnMnJhZChsYXQyIC0gbGF0MSk7IC8vIGRlZzJyYWQgYmVsb3dcclxuXHRcdFx0XHR2YXIgZExvbiA9IGRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG5cdFx0XHRcdHZhciBhID1cclxuXHRcdFx0XHRcdE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcblx0XHRcdFx0XHRNYXRoLmNvcyhkZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKGRlZzJyYWQobGF0MikpICpcclxuXHRcdFx0XHRcdE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuXHRcdFx0XHR2YXIgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XHJcblx0XHRcdFx0dmFyIGQgPSBSICogYzsgLy8gRGlzdGFuY2UgaW4ga21cclxuXHRcdFx0XHJcblx0XHRcdFx0ZGVmZXIucmVzb2x2ZShNYXRoLmNlaWwoZCkpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlZzJyYWQoZGVnKSB7XHJcblx0XHRcdHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdGNvbnRyb2xsZXIoJ1VzZXJFZGl0UGFnZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnaG9tZVNlcnZpY2UnLCAndXNlckRhdGEnLCAndXNlclNlcnZpY2UnLCAnVXBsb2FkJywgJyRpb25pY0xvYWRpbmcnLCBVc2VyRWRpdFBhZ2VDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJFZGl0UGFnZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGhvbWVTZXJ2aWNlLCB1c2VyRGF0YSwgdXNlclNlcnZpY2UsIFVwbG9hZCwgJGlvbmljTG9hZGluZykge1xyXG5cclxuXHRcdHZhciB1bXBjID0gdGhpcztcclxuXHJcblx0XHR1bXBjLmFjdGl2YXRlID0gYWN0aXZhdGU7XHJcblxyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cdFx0XHR1bXBjLnVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCk7XHJcblx0XHRcdCRzY29wZS5lZGl0Rm9ybS51c2VyID0gdW1wYy51c2VyO1xyXG5cdFx0XHRpZiAodW1wYy51c2VyLmludGVyZXN0cy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdEZvcm0udXNlci5pbnRlcmVzdHMgPSAnIScgKyB1bXBjLnVzZXIuaW50ZXJlc3RzLmpvaW4oJyEnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0JHNjb3BlLmVkaXRGb3JtID0ge307XHJcblx0XHRcdGdldFVzZXIoKTtcclxuXHRcdFx0XHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLmVkaXRGb3JtLnN1Ym1pdFVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdFxyXG5cdFx0XHR1c2VyU2VydmljZS51cGRhdGVVc2VyKCRzY29wZS5lZGl0Rm9ybS51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdHdpbmRvdy5hbGVydChcInVwZGF0ZWQgdXNlclwiKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlci51c2VyTWVQYWdlJyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHR1c2VyRGF0YS5zZXRVc2VyKCk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHRcdCRzY29wZS5lZGl0Rm9ybS51cGxvYWRVc2VyUGljdHVyZSA9IGZ1bmN0aW9uKGZpbGUsIGVyckZpbGVzKSB7XHJcblx0XHRcdCRzY29wZS5sb2FkaW5nSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHR1bXBjLmZpbGUgPSBmaWxlO1xyXG5cdFx0XHR1bXBjLmVyckZpbGUgPSBlcnJGaWxlcyAmJiBlcnJGaWxlc1swXTtcclxuXHRcdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0XHR1bXBjLmZpbGUudXBsb2FkID0gVXBsb2FkLnVwbG9hZCh7XHJcblx0XHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0XHRkYXRhOiB7IGZpbGU6IHVtcGMuZmlsZSB9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHVtcGMuZmlsZS51cGxvYWQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dW1wYy5maWxlLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdEZvcm0udXNlci5waWN0dXJlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRcdCRzY29wZS5sb2FkaW5nSW1hZ2UgPSBmYWxzZTtcclxuXHJcblxyXG5cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH07XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0Y29udHJvbGxlcignVXNlck1lUGFnZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGF1dGgnLCd1c2VyRGF0YScsICdwZW9wbGVTZXJ2aWNlJywncG9zdFNlcnZpY2UnLCckd2luZG93JywgJyRpb25pY0xvYWRpbmcnLFVzZXJNZVBhZ2VDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJNZVBhZ2VDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCAkYXV0aCx1c2VyRGF0YSwgcGVvcGxlU2VydmljZSxwb3N0U2VydmljZSwkd2luZG93LCRpb25pY0xvYWRpbmcpIHtcclxuXHJcblx0XHR2YXIgdW1wYyA9IHRoaXM7XHJcblx0XHR1bXBjLmxvZ291dCA9IGxvZ291dDtcclxuXHRcdHVtcGMuYWN0aXZhdGUgPSBhY3RpdmF0ZTtcclxuXHRcdHVtcGMuYWN0aXZlVGFiID0gMTtcclxuXHRcdHVtcGMuYWN0aXZhdGVUYWIgPSBhY3RpdmF0ZVRhYjtcclxuXHRcdHVtcGMuaXNUYWJBY3RpdmUgPSBpc1RhYkFjdGl2ZTtcclxuXHRcdHVtcGMub3BlbkZhY2Vib29rID0gb3BlbkZhY2Vib29rO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdGZ1bmN0aW9uIG9wZW5GYWNlYm9vayhpZCl7XHJcblx0XHRcdCR3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycraWQsICdfc3lzdGVtJyk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cdFx0XHR1c2VyRGF0YS5zZXRVc2VyKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR1bXBjLnVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCk7XHJcblxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJQb3N0cygpe1xyXG5cdFx0XHR1bXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cdFx0XHRcdGxpbWl0OiAxMDAsXHJcblx0XHRcdFx0dXNlcjogdXNlckRhdGEuZ2V0VXNlcigpLl9pZFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRMYXRlc3RQb3N0cyh1bXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdHVtcGMucG9zdHNMaXN0ID0gcmVzLmRhdGEuZG9jcztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZVRhYih0YWJJbmRleCl7XHJcblx0XHRcdHVtcGMuYWN0aXZlVGFiID0gdGFiSW5kZXg7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBpc1RhYkFjdGl2ZSh0YWJJbmRleCl7XHJcblx0XHRcdHJldHVybiB0YWJJbmRleCA9PT0gdW1wYy5hY3RpdmVUYWI7XHJcblx0XHR9XHJcblx0XHRcclxuXHJcblx0XHRmdW5jdGlvbiBsb2dvdXQoKSB7XHJcblx0XHRcdCRhdXRoLmxvZ291dCgpO1xyXG5cdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRnZXRVc2VyKCk7XHJcblx0XHRcdGdldFJlcXVlc3RlZExpc3QoKTtcclxuXHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0Z2V0VXNlclBvc3RzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVxdWVzdGVkTGlzdCgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZXF1ZXN0ZWRVc2Vycyh7IHBhZ2U6IDEsIGxpbWl0OiAyNSB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dW1wYy5wZW9wbGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5kb2NzO1xyXG5cdFx0XHRcdHVtcGMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdGNvbnRyb2xsZXIoJ1VzZXJQYWdlQ29udHJvbGxlcicsIFsnJHN0YXRlJywgJyRhdXRoJywgJ3VzZXJTZXJ2aWNlJywgJ3JldmVhbFNlcnZpY2UnLCckc3RhdGVQYXJhbXMnLCAnZnJpZW5kcycsJ3Bvc3RTZXJ2aWNlJywnJHdpbmRvdycsJyRpb25pY0xvYWRpbmcnLFVzZXJQYWdlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBVc2VyUGFnZUNvbnRyb2xsZXIoJHN0YXRlLCAkYXV0aCwgdXNlclNlcnZpY2UsIHJldmVhbFNlcnZpY2UsJHN0YXRlUGFyYW1zLGZyaWVuZHMscG9zdFNlcnZpY2UsJHdpbmRvdywkaW9uaWNMb2FkaW5nKSB7XHJcblxyXG5cdFx0dmFyIHVwYyA9IHRoaXM7XHJcblx0XHR1cGMuY2hlY2tSZXZlYWwgPSBjaGVja1JldmVhbDtcclxuXHRcdHVwYy5nb0JhY2sgPSBnb0JhY2s7XHJcblx0XHR1cGMuYWN0aXZhdGVUYWIgPSBhY3RpdmF0ZVRhYjtcclxuXHRcdHVwYy5pc1RhYkFjdGl2ZSA9IGlzVGFiQWN0aXZlO1xyXG5cdFx0dXBjLm9wZW5GYWNlYm9vayA9IG9wZW5GYWNlYm9vaztcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIG9wZW5GYWNlYm9vayhpZCl7XHJcblx0XHRcdCR3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycraWQsICdfc3lzdGVtJyk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0Z2V0VXNlcigpO1xyXG5cdFx0XHR1cGMucmV2ZWFsQ2hvaWNlID0gZnJpZW5kcztcclxuXHRcdFx0dXBjLmFjdGl2ZVRhYiA9IDE7XHJcblx0XHRcdGdldFVzZXJQb3N0cygpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlclBvc3RzKCl7XHJcblx0XHRcdHVwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMTAwLFxyXG5cdFx0XHRcdHVzZXI6ICRzdGF0ZVBhcmFtcy51c2VyXHJcblx0XHRcdH07XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldExhdGVzdFBvc3RzKHVwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHR1cGMucG9zdHNMaXN0ID0gcmVzLmRhdGEuZG9jcztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZVRhYih0YWJJbmRleCl7XHJcblx0XHRcdHVwYy5hY3RpdmVUYWIgPSB0YWJJbmRleDtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGlzVGFiQWN0aXZlKHRhYkluZGV4KXtcclxuXHRcdFx0cmV0dXJuIHRhYkluZGV4ID09PSB1cGMuYWN0aXZlVGFiO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBjaGVja1JldmVhbCgpe1xyXG5cdFx0XHRyZXZlYWxTZXJ2aWNlLmNoZWNrKCRzdGF0ZVBhcmFtcy51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0dXBjLnJldmVhbENob2ljZSA9IHJlcy5kYXRhLnN0YXR1cztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnb0JhY2soKXtcclxuXHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblxyXG5cdFx0XHR1c2VyU2VydmljZS5nZXRVc2VyKCRzdGF0ZVBhcmFtcy51c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dXBjLnVzZXIgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKS5cclxuXHRjb250cm9sbGVyKCdVc2VyUGFnZVBvc3RzQ29udHJvbGxlcicsIFsnJHN0YXRlJywgICckc3RhdGVQYXJhbXMnLCAnZnJpZW5kcycsVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXIoJHN0YXRlLCAgJHN0YXRlUGFyYW1zLGZyaWVuZHMpIHtcclxuXHRcdGFsZXJ0KGZyaWVuZHMpO1xyXG5cclxuXHJcblx0XHRcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdFx0Y29udHJvbGxlcignVXNlclBhcmVudENvbnRyb2xsZXInLFtVc2VyUGFyZW50Q29udHJvbGxlcl0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIFVzZXJQYXJlbnRDb250cm9sbGVyKCl7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpXHJcblx0XHQuZGlyZWN0aXZlKCdibG9ja2VkTGlzdCcsWydibG9ja1NlcnZpY2UnLGJsb2NrZWRMaXN0XSk7XHJcblxyXG5cdGZ1bmN0aW9uIGJsb2NrZWRMaXN0KGJsb2NrU2VydmljZSl7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL2Jsb2NrZWRMaXN0Lmh0bWwnLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSl7XHJcblx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjayA9IGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdHNjb3BlLnBlb3BsZUxpc3Quc3BsaWNlKGluZGV4LDEpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0YmxvY2tTZXJ2aWNlLmdldEJsb2NrcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHNjb3BlLnBlb3BsZUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0c2VydmljZSgnYmxvY2tTZXJ2aWNlJywgWyckaHR0cCcsICdob21lU2VydmljZScsQmxvY2tTZXJ2aWNlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBCbG9ja1NlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmNyZWF0ZSA9IGNyZWF0ZTtcclxuXHRcdHRoaXMucmVtb3ZlID0gcmVtb3ZlO1xyXG5cdFx0dGhpcy5nZXRCbG9ja3MgPSBnZXRCbG9ja3M7XHJcblx0XHR0aGlzLmNoZWNrID0gY2hlY2s7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZShpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2NyZWF0ZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2RlbGV0ZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVjayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnYmxvY2svZ2V0LycraWQpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0QmxvY2tzKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnYmxvY2svZ2V0QmxvY2tzLycpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0c2VydmljZSgncmV2ZWFsU2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLFJldmVhbFNlcnZpY2VdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIFJldmVhbFNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmluaXRpYXRlID0gaW5pdGlhdGU7XHJcblx0XHR0aGlzLmFjY2VwdCA9IGFjY2VwdDtcclxuXHRcdHRoaXMuaWdub3JlID0gaWdub3JlO1xyXG5cdFx0dGhpcy5jYW5jZWwgPSBjYW5jZWw7XHJcblx0XHR0aGlzLnJlY2VpdmVkID0gcmVjZWl2ZWQ7XHJcblx0XHR0aGlzLnJlcXVlc3RlZCA9IHJlcXVlc3RlZDtcclxuXHRcdHRoaXMucmV2ZWFsZWQgPSByZXZlYWxlZDtcclxuXHRcdHRoaXMuZmluaXNoID0gZmluaXNoO1xyXG5cdFx0dGhpcy5jaGVjayA9IGNoZWNrO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBhcmFtcyhpZCl7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0J3NlY29uZFVzZXInOiBpZFxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gaW5pdGlhdGUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvaW5pdGlhdGUnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjY2VwdChpZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvYWNjZXB0JywgeyBzZWNvbmRVc2VyOiBpZCB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpZ25vcmUoaWQpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2lnbm9yZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsKGlkKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9jYW5jZWwnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlY2VpdmVkKGlkKSB7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoaWQpO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL3JlY2VpdmVkJywge3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdFx0XHRcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZXF1ZXN0ZWQoaWQpIHtcclxuXHRcdFx0dmFyIHBhcmFtcyA9IGdldFBhcmFtcyhpZCk7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvcmVxdWVzdGVkJywge3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZXZlYWxlZChpZCkge1xyXG5cdFx0XHR2YXIgcGFyYW1zID0gZ2V0UGFyYW1zKGlkKTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9yZXZlYWxlZCcsIHtwYXJhbXM6cGFyYW1zfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBmaW5pc2goaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvZmluaXNoJywge3NlY29uZFVzZXI6IGlkfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVjayhpZCl7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoaWQpO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2NoZWNrJywge3BhcmFtczpwYXJhbXN9KTtcdFxyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKVxyXG5cdFx0LnNlcnZpY2UoJ3VzZXJMb2NhdGlvblNlcnZpY2UnLCBbJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLCAndXNlclNlcnZpY2UnLCAnJHEnLCAnJGh0dHAnLCAndG9hc3RyJywgVXNlckxvY2F0aW9uU2VydmljZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gVXNlckxvY2F0aW9uU2VydmljZSgkY29yZG92YUdlb2xvY2F0aW9uLCB1c2VyU2VydmljZSwgJHEsICRodHRwLCB0b2FzdHIpIHtcclxuXHRcdHRoaXMuZ2V0VXNlckxvY2F0aW9uID0gZ2V0VXNlckxvY2F0aW9uO1xyXG5cdFx0dGhpcy5zZXRVc2VyTG9jYXRpb24gPSBzZXRVc2VyTG9jYXRpb247XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlckxvY2F0aW9uKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0dmFyIG9wdGlvbnMgPSB7IHRpbWVvdXQ6IDMwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UgfTtcclxuXHJcblx0XHRcdCRjb3Jkb3ZhR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgcG9zaXRpb25zID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHBvc2l0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2dlb2xvY2F0aW9uL3YxL2dlb2xvY2F0ZT9rZXk9QUl6YVN5QTVicXZDcDF3WVg3RkdLaUR5ZDN3MER6dkpab1B3UXJRJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHtcclxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubGF0LFxyXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubG5nXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShjb29yZHMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKFwiZXJyb3IgZnJvbSBnb29nbGVcIik7XHJcblx0XHRcdFx0XHR3aW5kb3cuY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdCgnTm90IGFibGUgdG8gYWNjZXMgeW91ciBsb2NhdGlvbi5NYWtlIHN1cmUgbG9jYXRpb24gaXMgZW5hYmxlZC4nKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZXRVc2VyTG9jYXRpb24oKSB7XHJcblx0XHRcdHZhciBvcHRpb25zID0geyB0aW1lb3V0OiAzMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlIH07XHJcblx0XHRcdCRjb3Jkb3ZhR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgcG9zaXRpb25zID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuXHRcdFx0XHR1c2VyU2VydmljZS51cGRhdGVVc2VyKHBvc2l0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2dlb2xvY2F0aW9uL3YxL2dlb2xvY2F0ZT9rZXk9QUl6YVN5QTVicXZDcDF3WVg3RkdLaUR5ZDN3MER6dkpab1B3UXJRJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHtcclxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubGF0LFxyXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubG5nXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0dXNlclNlcnZpY2UudXBkYXRlVXNlcihjb29yZHMpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyLmNvZGUgPT0gMykge1xyXG5cdFx0XHRcdFx0XHRcdHRvYXN0ci53YXJuaW5nKCdOb3QgYWJsZSB0byBhY2NlcyB5b3VyIGxvY2F0aW9uLk1ha2Ugc3VyZSBsb2NhdGlvbiBpcyBlbmFibGVkLicsICdXYXJuaW5nJywge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdG1heE9wZW5lZDogMSxcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZXJyLmNvZGUgPT0gMiB8fCBlcnIuY29kZSA9PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0dG9hc3RyLndhcm5pbmcoJ05vdCBhYmxlIHRvIGFjY2VzIHlvdXIgbG9jYXRpb24uTWFrZSBzdXJlIGxvY2F0aW9uIGlzIGVuYWJsZWQuJywgJ1dhcm5pbmcnLCB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bWF4T3BlbmVkOiAxLFxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgLypcclxuICAgKlNlcnZpY2UgZm9yIGdldHRpbmcgYSBzaW5nbGUgc3RvcmUgd2l0aCBpdHMgaWRcclxuICAgKi9cclxuICBhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpXHJcbiAgICAuc2VydmljZSgndXNlclNlcnZpY2UnLCBbXCIkaHR0cFwiLCBcImhvbWVTZXJ2aWNlXCIsIFVzZXJTZXJ2aWNlXSk7XHJcblxyXG4gIC8qXHJcbiAgICogVGhpcyBzZXJ2aWMgaGFzIGEgZnVuY3Rpb24gbmFtZXMgZ2V0U3RvcmUgd2hpY2ggdGFrZXMgaWQgYXMgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgcHJvbWlzZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIFVzZXJTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSkge1xyXG4gICAgdGhpcy51cGRhdGVVc2VyID0gdXBkYXRlVXNlcjtcclxuICAgIFxyXG4gICAgdGhpcy5nZXRVc2VyID0gZ2V0VXNlcjtcclxuICAgIFxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRVc2VyKGlkKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXQvXCIgKyBpZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVVzZXIodXNlcikge1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3VzZXIvdXBkYXRlLycsIHsgdXNlcjogdXNlciB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbiAgfVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiJdfQ==
