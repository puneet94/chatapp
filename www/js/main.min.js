!function(e){"use strict";function t(t,o,n,a){n.tabs.position("bottom"),n.scrolling.jsScrolling(!1),n.views.transition("platform"),t.otherwise("/home/post/nearby"),e.extend(a,{autoDismiss:!0,maxOpened:1})}var o=e.module("petal",["ionic","ngAnimate","satellizer","ngFileUpload","btford.socket-io","ngCordova","toastr","petal.home","petal.post","petal.chat","petal.user","petal.people","petal.message"]);o.config(["$urlRouterProvider","$stateProvider","$ionicConfigProvider","toastrConfig",t]),o.run(["$rootScope","$state","$ionicPlatform","$ionicLoading","RequestsService","$cordovaPushV5","$ionicHistory",function(e,t,o,n,a,s,i){function r(){o.registerBackButtonAction(function(t){return e.backButtonPressedOnceToExit?ionic.Platform.exitApp():i.backView()?i.goBack():(e.backButtonPressedOnceToExit=!0,window.plugins.toast.showShortCenter("Press back button again to exit",function(e){},function(e){}),window.setTimeout(function(){e.backButtonPressedOnceToExit=!1},2e3)),t.preventDefault(),!1},101)}function c(){a.register(),e.$on("$cordovaPushV5:notificationReceived",function(e,t){console.log(t),console.log(e)}),e.$on("$cordovaPushV5:errorOcurred",function(e,t){})}o.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0),c(),r()),window.StatusBar&&StatusBar.styleDefault(),window.onerror=function(e,t,o){return!1},e.$on("$stateChangeError",function(){t.go("home.post.nearby"),n.hide()})})}])}(window.angular),function(e){"use strict";function t(e){e.state("home.chat",{url:"/chat",abstract:!0,views:{"chat-tab":{templateUrl:"app/chat/views/chatParent.html",controller:"ChatParentController",controllerAs:"ppc"}}}).state("home.chat.all",{url:"/all",views:{"chat-tab":{templateUrl:"app/chat/views/allChat.html",controller:"AllChatController",controllerAs:"acc"}}}).state("home.chat.revealed",{url:"/revealed",views:{"chat-tab":{templateUrl:"app/chat/views/revealedChat.html",controller:"RevealedChatController",controllerAs:"rpc"}}}).state("home.chat.messageroom",{url:"/messageRoom",views:{"chat-tab":{templateUrl:"app/message/views/messageRoomList.html",controller:"MessageRoomListController",controllerAs:"mrlc"}}}).state("chatBox",{url:"/chatBox/:user",templateUrl:"app/chat/views/chatBox.html",controller:"ChatBoxController",controllerAs:"cbc",resolve:{blocked:["$stateParams","blockService","$q",o]}})}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.blocked)}).catch(function(){n.resolve()}),n.promise}e.module("petal.chat",["ngFileUpload"]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t){var n="https://banana-surprise-31332.herokuapp.com/authenticate";t.facebook({clientId:"1134208830041632",url:n+"/auth/facebook",redirectUri:"https://banana-surprise-31332.herokuapp.com/"}),t.google({clientId:"742676837265-33jntkd60p87gkrh48nqe6cdd8ntsfl5.apps.googleusercontent.com",url:n+"/auth/google",redirectUri:"http://localhost:8100"}),e.state("authenticate",{url:"/authenticate",controller:"AuthenticationController",controllerAs:"ac",templateUrl:"app/home/views/authenticationPage.html"}).state("home",{url:"/home",abstract:!0,templateUrl:"app/home/views/tabs.html",controller:"HomeController",controllerAs:"hc",resolve:{redirectIfUserNotAuthenticated:["$q","$auth","$state","$timeout",o]}})}function o(e,t,o,n){var a=e.defer();return t.isAuthenticated()?a.resolve():n(function(){o.go("authenticate")}),a.promise}e.module("petal.home",[]).config(["$stateProvider","$authProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("messageRoomInterest",{url:"/messageRoom/interest/:interest",templateUrl:"app/message/views/messageRoom.html",controller:"MessageRoomController",controllerAs:"mrc",resolve:{messageRoom:["$stateParams","$q","messageRoomService",o]}}).state("messageRoomPost",{url:"/messageRoom/post/:postId",templateUrl:"app/message/views/messageRoom.html",controller:"MessageRoomController",controllerAs:"mrc",resolve:{messageRoom:["$stateParams","$q","messageRoomService",o]}})}function o(e,t,o){var n=t.defer(),a={};return e.postId?a.postId=e.postId:a.interest=e.interest,o.getMessageRoom(a).then(function(e){console.log("resolve response"),console.log(e),n.resolve(e.data.foundMessageRoom)}).catch(function(e){console.log("Resolve mesage Room"),console.log(e)}),n.promise}e.module("petal.message",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("home.people",{url:"/people",abstract:!0,views:{"people-tab":{templateUrl:"app/people/views/peopleParent.html",controller:"PeopleParentController",controllerAs:"ppc"}}}).state("home.people.all",{url:"/all",views:{"people-tab":{templateUrl:"app/people/views/allPeople.html",controller:"AllPeopleController",controllerAs:"apc"}}}).state("home.people.revealed",{url:"/revealed",views:{"people-tab":{templateUrl:"app/people/views/revealedPeople.html",controller:"RevealedPeopleController",controllerAs:"rpc"}}}).state("home.people.received",{url:"/received",views:{"people-tab":{templateUrl:"app/people/views/receivedPeople.html",controller:"ReceivedPeopleController",controllerAs:"rpc"}}}).state("home.people.nearby",{url:"/nearby",views:{"people-tab":{templateUrl:"app/people/views/nearbyPeople.html",controller:"NearbyPeopleController",controllerAs:"npc"}}})}e.module("petal.people",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("home.post",{url:"/post",abstract:!0,views:{"post-tab":{templateUrl:"app/post/views/postParent.html",controller:"PostParentController",controllerAs:"ppc"}}}).state("home.post.all",{url:"/all",views:{"post-tab":{templateUrl:"app/post/views/allPost.html",controller:"AllPostController",controllerAs:"apc"}}}).state("home.post.latest",{url:"/latest",views:{"post-tab":{templateUrl:"app/post/views/latestPost.html",controller:"LatestPostController",controllerAs:"lpc"}}}).state("home.post.popular",{url:"/popular",views:{"post-tab":{templateUrl:"app/post/views/popularPost.html",controller:"PopularPostController",controllerAs:"ppc"}}}).state("home.post.nearby",{url:"/nearby",views:{"post-tab":{templateUrl:"app/post/views/nearbyPost.html",controller:"NearbyPostController",controllerAs:"npc"}}}).state("postSubmit",{url:"/submit",templateUrl:"app/post/views/createPost.html",controller:"CreatePostController",controllerAs:"cpc"}).state("singlePost",{url:"/post/:id",templateUrl:"app/post/views/singlePost.html",controller:"SinglePostController",controllerAs:"spc"})}e.module("petal.post",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){e.data.blocked===!0?(window.alert("Blocked profile"),window.history.back()):n.resolve()}).catch(function(){n.resolve()}),n.promise}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.status)}).catch(function(){}),n.promise}e.module("petal.user",[]).config(["$stateProvider",function(e){e.state("home.user",{url:"/user",abstract:!0,views:{"user-tab":{templateUrl:"app/user/views/userParentPage.html",controller:"UserParentController",controllerAs:"upc"}}}).state("home.user.userMePage",{url:"/userMePage",views:{"user-tab":{templateUrl:"app/user/views/userMePage.html",controller:"UserMePageController",controllerAs:"umpc"}}}).state("home.userPage",{url:"/userPage/:user",resolve:{blocked:["$stateParams","blockService","$q",t],friends:["$stateParams","revealService","$q",o]},views:{"extra-tab":{templateUrl:"app/user/views/userProfilePage.html",controller:"UserPageController",controllerAs:"upc"}}}).state("home.userEditPage",{url:"/userEditPage",views:{"extra-tab":{templateUrl:"app/user/views/userEditPage.html",controller:"UserEditPageController",controllerAs:"uepc"}}})}])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function r(){u()}function c(){p.params.page+=1,l()}function l(){n.getAllChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getAllChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=r,u(),s.on("newMessageReceived",i),p.chatPage=function(e){o.go("chatBox",{user:e})}}e.module("petal.chat").controller("AllChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s,i,r,c,l,u,p,d,f){function m(){b.params.page+=1,v()}function g(){l.getUser(b.receiverUserID).then(function(e){b.receiverUser=e.data}).catch(function(e){console.log(e)})}function h(){o(function(){c.scrollBottom(!0)})}function v(){r.getChatMessages(b.chatRoomId,b.params).then(function(t){e.forEach(t.data.docs,function(e){b.chatList.unshift(e)})}).catch(function(e){console.log(e)}).finally(function(){h(),t.$broadcast("scroll.refreshComplete"),p.hide()})}function w(){n.emit("addToChatRoom",{roomId:b.chatRoomId}),n.on("messageReceived",function(e){b.chatList.push(e),h(),b.messageLoading=!1})}var b=this;b.isBlocked=f,b.isBlocked===!0&&window.alert("blocked profile"),b.currentUser=s.getUser()._id,b.receiverUserID=a.user,b.chatList=[],b.chatRoomId="",b.loadMoreChats=m,b.scrollBottom=h,b.messageLoading=!1,b.messageTryCount=0,b.params={page:1,limit:5},function(){p.show(),r.getChatRoom(b.receiverUserID).then(function(e){b.chatRoom=e.data,b.chatRoomId=e.data._id,w(),v()},function(e){console.log(e)}),g()}(),b.clickSubmit=function(e){b.messageLoading=!0,b.focusInput=!0,window.cordova&&(window.cordova.plugins.Keyboard.show(),window.cordova.plugins.Keyboard.isVisible=!0),h();var t={message:b.myMsg,receiver:a.user,roomId:b.chatRoomId};r.sendChatMessage(t).then(function(e){b.myMsg="",b.chatList.push(e.data.message),h(),b.messageTryCount=0}).catch(function(e){b.messageTryCount+=1,b.messageTryCount<=3&&b.clickSubmit()}).finally(function(){b.messageLoading=!1}),e.preventDefault()},b.submitUpload=function(){b.messageLoading=!0,b.file.upload=u.upload({url:i.baseURL+"upload/singleUpload",data:{file:b.file}}),b.file.upload.then(function(e){b.file.result=e.data,b.uploadedImage=e.data,b.cancelUpload();var t={message:b.uploadedImage,receiver:a.user,roomId:b.chatRoomId,type:"img"};r.sendChatMessage(t).then(function(e){h(),b.chatList.push(e.data.message),b.messageLoading=!1}).catch(function(e){console.log(e)})})},b.cancelUpload=function(){b.showTempImage=!1,b.tempImageUrl=""},b.uploadSingleImage=function(e,t){b.file=e,b.errFile=t&&t[0],e&&(b.showTempImage=!0,b.tempImageUrl=e,h())},b.leaveChatBox=function(){n.emit("removeFromRoom",{roomId:b.chatRoomId}),r.updateChatRoom(b.chatRoomId).then(function(e){}).catch(function(e){}).finally(function(){}),d.history.back()}}e.module("petal.chat").controller("ChatBoxController",["$scope","$timeout","Socket","$stateParams","userData","homeService","chatService","$ionicScrollDelegate","userService","Upload","$ionicLoading","$window","blocked",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.chat").controller("ChatParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(){u()}function r(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function c(){p.params.page+=1,l()}function l(){n.getRevealedChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getRevealedChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=i,u(),s.on("newMessageReceived",r)}e.module("petal.chat").controller("RevealedChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(e,t,o){function n(t){return e.post(o.baseURL+"chatRoom/delete/"+t)}function a(t){return e.post(o.baseURL+"chat/create/"+t.roomId,t)}function s(t,n){return e.get(o.baseURL+"chat/getChats/"+t,{params:n})}function i(t){return e.get(o.baseURL+"chatRoom/get/"+t)}function r(t){return t.revealed=!1,e.get(o.baseURL+"chatRoom/all/",{params:t})}function c(t){return t.revealed=!0,e.get(o.baseURL+"chatRoom/all/",{params:t})}function l(t){return e.post(o.baseURL+"chatRoom/update/"+t)}var u=this;u.sendChatMessage=a,u.getChatMessages=s,u.getChatRoom=i,u.getAllChatRooms=r,u.getRevealedChatRooms=c,u.updateChatRoom=l,u.deleteChatRoom=n}e.module("petal.chat").service("chatService",["$http","$stateParams","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){return e({prefix:"",ioSocket:io.connect(t.baseURL)})}e.module("petal.chat").factory("Socket",["socketFactory","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o){return e({prefix:"",ioSocket:io.connect(o.baseURL+t.getUser()._id)})}e.module("petal.chat").factory("SocketUserService",["socketFactory","userData","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r){function c(e){n.setUser(e),a.setUserLocation(),i.register(),e.device_token?o.go("home.post.popular"):o.go("home.userEditPage")}function l(e){s.show(),t.authenticate(e).then(function(e){c(e.data.user)}).catch(function(e){s.hide()}).finally(function(){})}function u(){r.fromTemplateUrl("app/home/views/policy.html",{scope:e}).then(function(t){e.modal=t,e.modal.show()})}function p(){t.logout(),n.removeUser(),o.go("authenticate")}var d=this;d.isAuth=t.isAuthenticated(),d.isAuth&&o.go("home.post.all"),window.cordova&&(d.webSignIn=!0),d.authLogout=p,d.loadPostModal=u,d.socialAuthenticate=l,e.googleSignIn=function(){s.show({template:"Logging in..."}),window.plugins.googleplus.login({webClientId:"792068565007-rdm7nrlfmc29jvlqo5l0tkgu6ci0vboa.apps.googleusercontent.com"},function(e){var o={};o.id=e.userId,o.displayName=e.displayName,o.imageUrl=e.imageUrl,i.googleSignIn(o).then(function(e){t.setToken(e.data.token),c(e.data.user)}).catch(function(e){console.log("error"),console.log(e),s.hide()})},function(e){alert("missed"),console.log(e),s.hide()})}}e.module("petal.home").controller("AuthenticationController",["$scope","$auth","$state","userData","userLocationService","$ionicLoading","RequestsService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i){function r(e){var n=e.message;e.type&&"img"==e.type&&(n="New image");var s=e.user.anonName||e.user.facebookName||e.user.googleName;e.user._id==o.getUser()._id||("chatBox"==t.current.name?t.params.user!=e.user._id&&a.info("<p>"+s+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}):(a.info("<p>"+s+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}),l.badgeValue=1))}function c(){l.badgeValue=""}var l=this;l.badgeValue="",l.chatClicked=c,i.slideHeader=!1,i.slideHeaderPrevious=0,n.on("connect",function(){n.emit("addToSingleRoom",{roomId:o.getUser()._id}),n.on("newMessageReceived",r)}),l.goForward=function(){var e=s.selectedIndex();e!=-1&&(1===e?s.select(e+2):s.select(e+1))},l.goBack=function(){var e=s.selectedIndex();e!==-1&&0!==e&&(3===e?s.select(e-2):s.select(e-1))}}e.module("petal.home").controller("HomeController",["$scope","$state","userData","Socket","toastr","$ionicTabsDelegate","$rootScope",t])}(window.angular),function(e){"use strict";function t(){return{templateUrl:"app/home/views/ionicCustomSpinner.html"}}e.module("petal.home").directive("distanceView",["postService","$timeout",function(e,t){return{restrict:"E",templateUrl:"app/home/views/distanceViewTemplate.html",scope:{positionCords:"="},replace:!0,link:function(o){function n(){o.positionCords?(o.distanceObj={latitude:o.positionCords[1],longitude:o.positionCords[0]},e.getDistance(o.distanceObj).then(function(e){o.distanceObj.distance=e+" mi"}).catch(function(e){o.distanceObj.distance=""})):(o.distanceObj={},o.distanceObj.distance="")}t(n,1e3)}}}]).directive("ionicCustomSpinner",[t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"A",link:function(t,o){o.bind("scroll",function(t){var o=t.srcElement.scrollTop;e.slideHeader=o-0>150,e.slideHeaderPrevious>o-0&&(e.slideHeader=!1),e.slideHeaderPrevious=o-0,e.$apply()})}}}var o=function(e){return{restrict:"A",scope:{imageModal:"@"},link:function(t,o){function n(e){a().then(function(){t.currentImage=e,t.modal.show()})}function a(){return e.fromTemplateUrl("app/chat/views/chatImageModal.html",{scope:t}).then(function(e){t.modal=e})}o.bind("click",function(e){n(t.imageModal),e.stopPropagation()})}}};e.module("petal.home").directive("keepScroll",["$state","$timeout","ScrollPositions","$ionicScrollDelegate",function(e,t,o,n){return{restrict:"A",link:function(a){a.$on("$stateChangeStart",function(){o[e.current.name]=n.getScrollPosition()}),t(function(){var t;(t=o[e.current.name])&&n.scrollTo(t.left,t.top)})}}}]).factory("ScrollPositions",[function(){return{}}]).directive("isFocused",["$timeout",function(e){return{scope:{trigger:"@isFocused"},link:function(t,o){t.$watch("trigger",function(t){"true"===t&&e(function(){o[0].focus(),o.on("blur",function(){o[0].focus()})})})}}}]).directive("lazyImg",function(){return{replace:!0,template:'<div class="lazy-img"><div class="sm"><img src="{{imgSmall}}" class="small"/></div><div style="padding-bottom: 75%;"></div><img src="{{imgLarge}}" class="large"/></div>',scope:{imgLarge:"@srcLarge",imgSmall:"@srcSmall"},link:function(e,t){var o=new Image,n=new Image;o.src=e.imgSmall,o.onload=function(){t.children(".sm").find("img").css("opacity","1"),n.src=e.imgLarge,n.onload=function(){t.find("img").css("opacity","1")}}}}}).directive("imageModal",["$ionicModal",o]).directive("watchScroll",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t){function o(t){return e.post(s.baseURL+"upload/deleteUpload",{data:{public_id:t}})}function n(t){return console.log(t),e.get(s.baseURL+"upload/getImages",{params:{imageText:t}})}function a(e){return t.upload({url:s.baseURL+"upload/singleUploadId",data:{file:e}})}this.baseURL="https://banana-surprise-31332.herokuapp.com/",this.deleteUpload=o,this.submitUpload=a,this.getImages=n;var s=this}e.module("petal.home").service("homeService",["$http","Upload",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){function i(){var e=o.defer(),i={android:{senderID:"679461840115",vibrate:"true"},browser:{},ios:{alert:"true",badge:"true",sound:"true"},windows:{}};return a.initialize(i).then(function(){a.onNotification(function(){console.log("insideeee notification"),console.log(arguments)}),a.onError(),s.isAuthenticated()&&a.register().then(function(o){t.post(c+"notification/register",{device_token:o}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}).finally(function(){n.hide()})})}),e.promise}function r(e){return t.post(c+"authenticate/auth/nativeGoogle",{profile:e})}var c=e.baseURL;return{googleSignIn:r,register:i}}e.module("petal.home").service("RequestsService",["homeService","$http","$q","$ionicLoading","$cordovaPushV5","$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){var s=e.localStorage,i={},r={setUser:function(e){if(e)s.setItem("user",JSON.stringify(e));else{var t=o.getPayload().sub;if(t)return n.get(a.baseURL+"user/get/"+t).then(function(e){s.setItem("user",JSON.stringify(e.data))})}},getUser:function(){return JSON.parse(s.getItem("user"))},removeUser:function(){i=null,s.removeItem("user")},isUserExists:function(){return!!r.getUser()}};return r}e.module("petal.home").factory("userData",["$window","$state","$auth","$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s,i,r,c,l,u,p,d,f){function m(){w.params.page+=1,h()}function g(){o(function(){c.scrollBottom(!0)})}function h(){r.getMessages(f._id,w.params).then(function(t){console.log("get messages"),console.log(t),e.forEach(t.data.docs,function(e){w.messageList.unshift(e)}),g()}).catch(function(e){console.log(e)}).finally(function(){g(),t.$broadcast("scroll.refreshComplete"),p.hide()})}function v(){n.emit("addToMessagetRoom",{roomId:f._id}),n.on("roomMessageReceived",function(e){console.log("received message"),console.log(e),w.messageList.push(e),g(),w.messageLoading=!1})}var w=this;w.currentUser=s.getUser()._id,w.messageList=[],w.messageRoom=f,w.loadMoreMessages=m,w.scrollBottom=g,w.messageLoading=!1,w.formatMessageDate=function(e){return window.moment(e).format(" MMM Do, h:mm a")},w.params={page:1,limit:5},function(){p.show(),h(),v()}(),w.clickSubmit=function(e){w.messageLoading=!0,w.focusInput=!0,window.cordova&&(window.cordova.plugins.Keyboard.show(),window.cordova.plugins.Keyboard.isVisible=!0);var t={message:w.myMsg,roomId:w.messageRoom._id};r.sendMessage(t).then(function(e){w.myMsg="",g()}).catch(function(e){console.log(e)}).finally(function(){w.messageLoading=!1}),e.preventDefault()},w.submitUpload=function(){w.messageLoading=!0,w.file.upload=u.upload({url:i.baseURL+"upload/singleUpload",data:{file:w.file}}),w.file.upload.then(function(e){w.file.result=e.data,w.uploadedImage=e.data,w.cancelUpload();var t={message:w.uploadedImage,roomId:w.messageRoom._id,type:"img"};r.sendMessage(t).then(function(e){g(),w.messageLoading=!1}).catch(function(e){console.log(e)})})},w.cancelUpload=function(){w.showTempImage=!1,w.tempImageUrl=""},w.uploadSingleImage=function(e,t){w.file=e,w.errFile=t&&t[0],e&&(w.showTempImage=!0,w.tempImageUrl=e,g())},w.leaveMessageRoom=function(){n.emit("removeFromMessageRoom",{roomId:w.messageRoom._id}),d.history.back()}}e.module("petal.message").controller("MessageRoomController",["$scope","$timeout","Socket","$stateParams","userData","homeService","messageRoomService","$ionicScrollDelegate","userService","Upload","$ionicLoading","$window","messageRoom",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(e){var t={};t.newMessage=!0,t.lastMessage={_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.messageRoomsList.length;o++)if(t.creator2._id==p.messageRoomsList[o].creator2._id&&t.lastMessage._id!==p.messageRoomsList[o].lastMessage._id)return p.messageRoomsList.splice(o,1),void p.messageRoomsList.unshift(t)}function r(){u()}function c(){p.params.page+=1,l()}function l(){n.getMessageRooms().then(function(t){console.log(t),e.forEach(t.data.docs,function(e){p.messageRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.messageRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.messageRoomsList=[],l()}var p=this;p.getAllMessageRooms=l,p.loadMoreMessages=c,p.pullRefreshMessages=r,u(),s.on("newRoomMessageReceived",i),p.messageRoomPage=function(e){console.log(e),e.interest?o.go("messageRoomInterest",{interest:e.interest}):(console.log("yo"),o.go("messageRoomPost",{postId:e.post._id}))}}e.module("petal.message").controller("MessageRoomListController",["$scope","$state","messageRoomService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(e,t,o){function n(t){return e.post(o.baseURL+"message/create/"+t.roomId,t)}function a(t,n){return e.get(o.baseURL+"message/getMessages/"+t,{params:n})}function s(t){return e.get(o.baseURL+"messageRoom/getRoom/",{params:t})}function i(){return e.get(o.baseURL+"messageRoom/getRooms/")}var r=this;r.sendMessage=n,r.getMessages=a,r.getMessageRoom=s,r.getMessageRooms=i}e.module("petal.message").service("messageRoomService",["$http","$stateParams","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){u()}function i(){p.peopleSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.peopleSearchText=e),u()}function c(){p.params.page+=1,l()}function l(){n.getAllUsers(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.peopleList.push(e)}),p.initialSearchCompleted=!0,t.data.total>p.peopleList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.peopleList=[],p.params={limit:25,page:1},p.peopleSearchText&&(p.params.interest=p.peopleSearchText),l()}var p=this;p.getAllPeople=l,p.pullRefreshPeople=s,p.loadMorePeople=c,p.searchCrossSubmit=i,p.peopleSearchTextSubmit=r,u()}e.module("petal.people").controller("AllPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){l()}function i(){u.params.page+=1,c()}function r(){l()}function c(){n.getNearbyUsers(u.params).then(function(o){e.forEach(o.data.docs,function(e){u.peopleList.push(e)}),u.noPeople=!o.data.total,u.initialSearchCompleted=!0,o.data.total>u.peopleList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1,t.$broadcast("scroll.infiniteScrollComplete")}).catch(function(e){console.log(e)}).finally(function(){u.initialSearchCompleted=!0,t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.peopleList=[],u.params={limit:25,page:1,distance:u.distance},c()}var u=this;u.getNearbyPeople=c,u.pullRefreshPeople=s,u.loadMorePeople=i,u.releaseRange=r,u.distance=10,l()}e.module("petal.people").controller("NearbyPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.people").controller("PeopleParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getReceivedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:10,page:1},r()}var l=this;l.getReceivedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("ReceivedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getRequestedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRequestedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("RequestedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getRevealedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRevealedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("RevealedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",templateUrl:"app/people/views/peopleListTemplate.html",replace:!0,scope:{listType:"@listType",peopleList:"=peopleList",peopleSearchTextSubmit:"&peopleSearchTextSubmit"},controller:["$scope",function(t){t.currentUser=e.getUser(),t.setPeopleSearch=function(e,o){t.peopleSearchTextSubmit&&(t.peopleSearchTextSubmit({interest:e}),o.stopPropagation())},t.removeAfterDecided=function(e){t.peopleList.splice(e,1)}}]}}e.module("petal.people").directive("peopleList",["userData",t])}(window.angular),function(e){"use strict";function t(t,o){return{restrict:"E",templateUrl:"app/people/views/receivedPeopleList.html",replace:!0,controllerAs:"rpc",scope:{},controller:["$scope",function(n){function a(){t.getReceivedUsers(i.params).then(function(t){e.forEach(t.data.docs,function(e){i.peopleList.push(e)}),i.noPeople=!t.data.total,i.initialSearchCompleted=!0,t.data.total>i.peopleList.length?i.canLoadMoreResults=!0:i.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){n.$broadcast("scroll.infiniteScrollComplete"),o.hide()})}function s(){i.params.page+=1,a()}var i=this;i.getReceivedPeople=a,i.loadMorePeople=s,function(){i.canLoadMoreResults=!1,i.initialSearchCompleted=!1,i.peopleList=[],i.params={limit:10,page:1},a()}()}]}}e.module("petal.people").directive("receivedPeopleList",["peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o){return{restrict:"E",templateUrl:"app/people/views/requestedPeopleList.html",replace:!0,controllerAs:"rpc",scope:{},controller:["$scope",function(n){function a(){t.getRequestedUsers(i.params).then(function(t){e.forEach(t.data.docs,function(e){i.peopleList.push(e)}),i.noPeople=!t.data.total,i.initialSearchCompleted=!0,t.data.total>i.peopleList.length?i.canLoadMoreResults=!0:i.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){n.$broadcast("scroll.infiniteScrollComplete"),o.hide()})}function s(){i.params.page+=1,a()}var i=this;i.getRequestedPeople=a,i.loadMorePeople=s,function(){i.canLoadMoreResults=!1,i.initialSearchCompleted=!1,i.peopleList=[],i.params={limit:10,page:1},a()}()}]}}e.module("petal.people").directive("requestedPeopleList",["peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"A",scope:{deleteChat:"@",afterCallback:"&"},link:function(n,a){a.bind("click",function(a){e.show({titleText:"Delete ",buttons:[{text:'<i class="icon ion-share"></i> Delete Chat '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){
return 0===e&&t.deleteChatRoom(n.deleteChat).then(function(e){n.afterCallback&&n.afterCallback(),window.alert(e.data),o.go("home.chat.all")}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),a.stopPropagation()})}}}function o(e){return{scope:{userBlock:"@",chatDelete:"@",blockId:"@"},link:function(t,o){t.userBlock="true"===t.userBlock,t.afterCallback=function(){t.popover.remove(),window.history.back()},o.bind("click",function(o){e.fromTemplateUrl("app/user/views/settingsTemplate.html",{scope:t}).then(function(e){t.popover=e,t.popover.show(o)}),o.stopPropagation()})}}}function n(e){return{scope:{chatPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("chatBox",{user:t.chatPage}),o.stopPropagation()})}}}function a(e){return{scope:{userPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("home.userPage",{user:t.userPage}),o.stopPropagation()})}}}function s(e,t){return{restrict:"A",scope:{afterCallback:"&",cancelReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Cancel Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.cancel(o.cancelReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function i(e,t){return{restrict:"A",scope:{afterCallback:"&",decideReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Accept Reveal Request'},{text:'<i class="icon ion-share"></i> Deny Reveal Request'}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e?t.accept(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}):1===e&&t.ignore(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function r(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Delete Reveal '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.finish(o.deleteReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function c(e,t){return{restrict:"A",scope:{afterCallback:"&",sendReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Send Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.initiate(o.sendReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function l(e,t){return{restrict:"A",scope:{createBlock:"@",afterCallback:"&"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block User",buttons:[{text:'<i class="icon ion-share"></i> Block'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.create(o.createBlock).then(function(e){window.alert("user blocked"),o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function u(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteBlock:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block",buttons:[{text:'<i class="icon ion-share"></i> Unblock User '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.remove(o.deleteBlock).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}e.module("petal.people").directive("cancelReveal",["$ionicActionSheet","revealService",s]).directive("decideReveal",["$ionicActionSheet","revealService",i]).directive("deleteReveal",["$ionicActionSheet","revealService",r]).directive("sendReveal",["$ionicActionSheet","revealService",c]).directive("createBlock",["$ionicActionSheet","blockService",l]).directive("deleteBlock",["$ionicActionSheet","blockService",u]).directive("deleteChat",["$ionicActionSheet","chatService","$state",t]).directive("chatPage",["$state",n]).directive("userSettings",["$ionicPopover",o]).directive("userPage",["$state",a])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return o.all=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function s(o){return o.revealed=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function i(o){return o.received=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function r(o){return o.requested=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function c(o,n){e.get(t.baseURL+"user/getUsers",{params:n}).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)})}function l(a){1==a.page&&o.setUserLocation(),a.nearby=!0;var s=n.defer();return o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"user/getUsers",{params:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}).catch(function(e){window.console.log(e),c(s,a)}),s.promise}this.getAllUsers=a,this.getRevealedUsers=s,this.getNearbyUsers=l,this.getRequestedUsers=r,this.getReceivedUsers=i,this.getNearbyUsers=l}e.module("petal.people").service("peopleService",["$http","homeService","userLocationService","$q",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"upvote/get/"+o)}function n(o){return e.post(t.baseURL+"upvote/create/"+o)}function a(o){return e.post(t.baseURL+"upvote/delete/"+o)}this.createUpvote=n,this.deleteUpvote=a,this.getUpvote=o}e.module("petal.post").service("upvoteService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){u()}function i(){p.postSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.postSearchText=e),p.postSearchText&&u()}function c(){p.params.page+=1,l()}function l(){p.noPosts=!1,n.getAllPosts(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.postsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.postsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.postsList=[],p.params={limit:5,page:1},p.postSearchText&&(p.params.interest=p.postSearchText),l()}var p=this;p.getAllPosts=l,p.pullRefreshPosts=s,p.loadMorePosts=c,p.postSearchTextSubmit=r,p.searchCrossSubmit=i,p.params={limit:3,page:1},u()}e.module("petal.post").controller("AllPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function s(){n.show(),o.submitPost(i.post).then(function(e){n.hide(),t.go("home.post.latest")}).catch(function(e){console.log("post controller error"),console.log(e)}).finally(function(){n.hide()})}var i=this;i.submitPost=s,i.post={},n.hide(),i.goBack=function(){window.history.back()},e.$watch(function(){return i.post.content},function(e,t){e&&e.length>300&&(i.post.content=t)}),i.selectRandomImage=function(e){i.post.image=e},i.loadRandomImages=function(e){i.loadingRandomImage=!0,i.randomImages=[],a.getImages(e).then(function(e){i.randomImages=e.data,i.loadingRandomImage=!1}).catch(function(e){console.log("images err"),console.log(e)})},i.cancelUpload=function(){i.post.imageId&&a.deleteUpload(i.post.imageId).then(function(e){i.post.image="",i.post.imageId=""})},i.submitUpload=function(e,t){i.post.imageId&&i.cancelUpload(),i.loadingImage=!0,i.file=e,i.errFile=t&&t[0],i.file&&a.submitUpload(i.file).then(function(e){i.post.image=e.data.image,i.post.imageId=e.data.imageId,i.loadingImage=!1})}}e.module("petal.post").controller("CreatePostController",["$scope","$state","postService","$ionicLoading","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getLatestPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),l.noPosts=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getLatestPosts=r,l.pullRefreshPosts=s,l.loadMorePosts=i,c()}e.module("petal.post").controller("LatestPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){l()}function i(){l()}function r(){u.params.page+=1,c()}function c(){n.getNearbyPosts(u.params).then(function(t){e.forEach(t.data.docs,function(e){u.postsList.push(e)}),u.noPosts=!t.data.total,u.initialSearchCompleted=!0,t.data.total>u.postsList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide(),u.initialSearchCompleted=!0})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.postsList=[],u.params={limit:10,page:1,distance:u.distance},c()}var u=this;u.getNearbyPosts=c,u.pullRefreshPosts=s,u.loadMorePosts=r,u.releaseRange=i,u.distance=10,l()}e.module("petal.post").controller("NearbyPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getPopularPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),t.data.total||(l.noPosts=!0),l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getPopularPosts=r,l.pullRefreshPosts=s,l.loadMorePosts=i,c()}e.module("petal.post").controller("PopularPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){}e.module("petal.post").controller("PostParentController",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){function i(){o.getPost(n.id).then(function(e){p.post=e.data,p.distanceObj={latitude:p.post.loc[1],longitude:p.post.loc[0],diatance:0},u()})}function r(){s.getUpvote(p.currentPost).then(function(e){p.postUpvoted=e.data||!1}).catch(function(e){console.log(e)})}function c(){s.createUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function l(){s.deleteUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function u(){o.getDistance(p.distanceObj)}var p=this;p.getSinglePost=i,p.submitPostUpvote=c,p.deletePostUpvote=l,p.getPostDistance=u,p.back=function(){window.history.back()},function(){p.currentPost=n.id,i(),r()}()}e.module("petal.post").controller("SinglePostController",["$scope","$state","postService","$stateParams","$ionicHistory","upvoteService",t])}(window.angular),function(e){"use strict";function t(t,o,n){return{restrict:"A",scope:{postSearchModal:"@"},link:function(a,s){function i(){a.postSearchData.postsList=[];var e={interest:a.postSearchData.postSearchModal,page:1,limit:50};a.getPosts(e)}function r(){return o.fromTemplateUrl("app/post/views/postSearchModal.html",{scope:a}).then(function(e){a.modal=e})}a.postSearchData={},a.postSearchData.postSearchModal=a.postSearchModal,a.postSearchData.postsList=[],a.modalsList=[],a.clickPostSearch=i,a.showPostModal=function(){r().then(function(){a.modal.show()}),a.$on("modal.hidden",function(){a.modal.remove()})},t.$on("$stateChangeStart",function(){a.modal&&a.modal.remove()}),a.getPosts=function(t){n.getAllPosts(t).then(function(t){e.forEach(t.data.docs,function(e){a.postSearchData.postsList.push(e)}),a.postSearchData.noPosts=!t.data.total,a.postSearchData.initialSearchCompleted=!0,t.data.total>a.postSearchData.postsList.length?a.postSearchData.canLoadMoreResults=!0:a.postSearchData.canLoadMoreResults=!1})},s.bind("click",function(e){var t={interest:a.postSearchData.postSearchModal,page:1,limit:50};a.showPostModal(),e.stopPropagation(),a.getPosts(t)})}}}e.module("petal.post").directive("postSearchModal",["$rootScope","$ionicModal","postService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){return{restrict:"E",templateUrl:"app/post/views/postsListTemplate.html",scope:{postsList:"=postsList",postSearchTextSubmit:"&postSearchTextSubmit"},replace:!0,link:function(a){function i(e){a.modal.hide(),t.go("home.userPage",{user:e})}function r(){return s.fromTemplateUrl("app/post/views/postModal.html",{scope:a}).then(function(e){a.modal=e})}a.getTime=function(e){return moment(e).fromNow()},a.currentUser=o.getUser(),a.userPage=i,a.postModal={},a.postModal.userPage=i,a.postModal.currentUser=a.currentUser,a.postModal.deletePost=function(){a.postModal.post.user._id===a.currentUser._id&&n.deletePost(a.postModal.post._id).then(function(){for(var e=a.postsList.length,t=0;t<e;t++)if(console.log("hit"+t),a.postsList[t]._id==a.postModal.post._id){console.log("hit delete"+t),a.postsList.splice(t,1),a.modal.remove();break}})},a.$on("$destroy",function(){a.modal&&a.modal.remove()}),e.$on("$stateChangeStart",function(){a.modal&&a.modal.remove()}),a.showPostModal=function(e){a.postModal.post=e,a.postModal.post.views+=1,r().then(function(){a.modal.show()}),a.$on("modal.hidden",function(){a.modal.remove()})}}}}e.module("petal.post").directive("postsList",["$rootScope","$state","userData","postService","upvoteService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"E",templateUrl:"app/post/views/postUpvoteTemplate.html",scope:{postId:"=postId",upvotesLength:"=upvotesLength"},replace:!0,link:function(e){function o(){t.getUpvote(e.postId).then(function(t){e.postUpvoted=t.data,e.loadingUpvote=!1}).catch(function(e){console.log("check error"),console.log(e)})}function n(){e.postUpvoted=!0,t.createUpvote(e.postId).then(function(){e.upvotesLength+=1}).catch(function(e){console.log("submit error"),console.log(e)})}function a(){e.postUpvoted=!1,t.deleteUpvote(e.postId).then(function(){e.upvotesLength-=1}).catch(function(e){window.alert(e)})}e.checkPostUpvote=o,e.submitPostUpvote=n,e.deletePostUpvote=a,function(){e.loadingUpvote=!0,o()}()}}}e.module("petal.post").directive("postUpvote",["$state","upvoteService","$timeout",t])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return e.get(t.baseURL+"post/getPosts",{params:o})}function s(o,n){e.get(t.baseURL+"post/getPosts",{params:n}).then(function(e){console.log("without position"),o.resolve(e)}).catch(function(e){o.reject(e)})}function i(a){a.nearby=!0;var i=n.defer();return 1==a.page&&o.setUserLocation(),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"post/getPosts",{params:a}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)})}).catch(function(e){window.console.log(e),s(i,a)}),i.promise}function r(o){return o.sort="-time",e.get(t.baseURL+"post/getPosts",{params:o})}function c(o){return o.sort="-upvotesLength",e.get(t.baseURL+"post/getPosts",{params:o})}function l(a){var s=n.defer();return console.log("entered submit post"),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.post(t.baseURL+"post/create",{post:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}).catch(function(o){e.post(t.baseURL+"post/create",{post:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}),s.promise}function u(o){return e.delete(t.baseURL+"post/delete/"+o)}function p(o){return e.get(t.baseURL+"post/get/"+o)}function d(e){var t=n.defer(),a=e.latitude,s=e.longitude;return o.getUserLocation().then(function(e){var o=e.latitude,n=e.longitude,i=f(o-a),r=f(n-s),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(f(a))*Math.cos(f(o))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=6371*l;t.resolve(Math.ceil(u))}).catch(function(e){console.log(e)}),t.promise}function f(e){return e*(Math.PI/180)}this.getAllPosts=a,this.getNearbyPosts=i,this.getLatestPosts=r,this.getPopularPosts=c,this.submitPost=l,this.deletePost=u,this.getPost=p,this.getDistance=d}e.module("petal.post").service("postService",["$http","homeService","userLocationService","$q",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i){function r(){l.user=n.getUser(),e.editForm.user=l.user,e.editForm.user.gender=l.user.gender||"Other",l.user.interests.length&&(e.editForm.user.interests="#"+l.user.interests.join("#"))}function c(){i.hide(),e.editForm={},r()}var l=this;l.activate=c,c(),e.editForm.submitUser=function(){i.show(),a.updateUser(e.editForm.user).then(function(e){window.alert("updated user"),t.go("home.user.userMePage")}).catch(function(e){}).finally(function(){n.setUser(),i.hide()})},e.editForm.uploadUserPicture=function(t,n){e.loadingImage=!0,l.file=t,l.errFile=n&&n[0],t&&(l.file.upload=s.upload({url:o.baseURL+"upload/singleUpload",data:{file:l.file}}),l.file.upload.then(function(t){l.file.result=t.data,e.editForm.user.picture=t.data,e.loadingImage=!1}))}}e.module("petal.user").controller("UserEditPageController",["$scope","$state","homeService","userData","userService","Upload","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r){function c(e){i.open("https://www.facebook.com/"+e,"_system")}function l(){n.setUser().then(function(){w.user=n.getUser()}).catch(function(e){window.console.log(e)}).finally(function(){r.hide()})}function u(){w.params={page:1,limit:100,user:n.getUser()._id},s.getLatestPosts(w.params).then(function(e){w.postsList=e.data.docs})}function p(e){w.activeTab=e}function d(e){return e===w.activeTab}function f(e){w.subActiveTab=e}function m(e){return e===w.subActiveTab}function g(){o.logout(),t.go("authenticate")}function h(){l(),v(),e.$broadcast("scroll.refreshComplete"),u()}function v(){a.getRequestedUsers({page:1,limit:25}).then(function(e){w.peopleList=e.data.docs,w.total=e.data.total})}var w=this;w.logout=g,w.activate=h,w.activeTab=1,w.activateTab=p,w.isTabActive=d,w.subActiveTab=1,w.subActivateTab=f,w.isSubTabActive=m,w.openFacebook=c,h()}e.module("petal.user").controller("UserMePageController",["$scope","$state","$auth","userData","peopleService","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r,c){function l(e){r.open("https://www.facebook.com/"+e,"_system")}function u(e){r.open("https://plus.google.com/"+e,"_system")}function p(){v.params={page:1,limit:100,user:a.user},i.getLatestPosts(v.params).then(function(e){v.postsList=e.data.docs})}function d(e){v.activeTab=e}function f(e){return e===v.activeTab}function m(){n.check(a.user).then(function(e){v.revealChoice=e.data.status})}function g(){r.history.back()}function h(){o.getUser(a.user).then(function(e){v.user=e.data}).catch(function(e){}).finally(function(){c.hide()})}var v=this;v.checkReveal=m,v.goBack=g,v.activateTab=d,v.isTabActive=f,v.openFacebook=l,v.openGoogle=u,function(){h(),v.revealChoice=s,v.activeTab=1,p()}()}e.module("petal.user").controller("UserPageController",["$state","$auth","userService","revealService","$stateParams","friends","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o){alert(o)}e.module("petal.user").controller("UserPagePostsController",["$state","$stateParams","friends",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.user").controller("UserParentController",[t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",replace:!0,templateUrl:"app/user/views/blockedList.html",link:function(t){t.afterCallback=function(e){t.peopleList.splice(e,1)},e.getBlocks().then(function(e){window.console.log(e),t.peopleList=e.data})}}}e.module("petal.user").directive("blockedList",["blockService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.post(t.baseURL+"block/create",{secondUser:o})}function n(o){return e.post(t.baseURL+"block/delete",{secondUser:o})}function a(o){return e.get(t.baseURL+"block/get/"+o)}function s(){return e.get(t.baseURL+"block/getBlocks/")}this.create=o,this.remove=n,this.getBlocks=s,this.check=a}e.module("petal.user").service("blockService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(e){return{secondUser:e}}function n(o){return e.post(t.baseURL+"reveal/initiate",{secondUser:o})}function a(o){return e.post(t.baseURL+"reveal/accept",{secondUser:o})}function s(o){return e.post(t.baseURL+"reveal/ignore",{secondUser:o})}function i(o){return e.post(t.baseURL+"reveal/cancel",{secondUser:o})}function r(n){var a=o(n);return e.get(t.baseURL+"reveal/received",{params:a})}function c(n){var a=o(n);return e.get(t.baseURL+"reveal/requested",{params:a})}function l(n){var a=o(n);return e.get(t.baseURL+"reveal/revealed",{params:a})}function u(o){return e.post(t.baseURL+"reveal/finish",{secondUser:o})}function p(n){var a=o(n);return e.get(t.baseURL+"reveal/check",{params:a})}this.initiate=n,this.accept=a,this.ignore=s,this.cancel=i,this.received=r,this.requested=c,this.revealed=l,this.finish=u,this.check=p}e.module("petal.user").service("revealService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function s(){var t=o.defer(),a={timeout:3e3,enableHighAccuracy:!1};return e.getCurrentPosition(a).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.resolve(o)}).catch(function(){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.resolve(o)}).catch(function(e){window.console.log("error from google"),window.console.log(e),t.reject("Not able to acces your location.Make sure location is enabled.")})}),t.promise}function i(){var o={timeout:3e3,enableHighAccuracy:!1};e.getCurrentPosition(o).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.updateUser(o)}).catch(function(e){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.updateUser(o)}).catch(function(){3==e.code?a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1}):2!=e.code&&1!=e.code||a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1})})})}this.getUserLocation=s,this.setUserLocation=i}e.module("petal.user").service("userLocationService",["$cordovaGeolocation","userService","$q","$http","toastr",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"user/get/"+o)}function n(o){return e.post(t.baseURL+"user/update/",{user:o})}this.updateUser=n,this.getUser=o}e.module("petal.user").service("userService",["$http","homeService",t])}(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjaGF0L2NoYXRNb2R1bGUuanMiLCJob21lL2hvbWVNb2R1bGUuanMiLCJtZXNzYWdlL21lc3NhZ2VNb2R1bGUuanMiLCJwZW9wbGUvcGVvcGxlTW9kdWxlLmpzIiwicG9zdC9wb3N0TW9kdWxlLmpzIiwidXNlci91c2VyTW9kdWxlLmpzIiwiY2hhdC9jb250cm9sbGVyL2FsbENoYXRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRCb3hDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRQYXJlbnRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL3JldmVhbGVkQ2hhdENvbnRyb2xsZXIuanMiLCJjaGF0L3NlcnZpY2UvY2hhdFNlcnZpY2UuanMiLCJjaGF0L3NlcnZpY2Uvc29ja2V0LmpzIiwiY2hhdC9zZXJ2aWNlL3NvY2tldFVzZXJTZXJ2aWNlLmpzIiwiaG9tZS9jb250cm9sbGVyL2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlci5qcyIsImhvbWUvY29udHJvbGxlci9ob21lQ29udHJvbGxlci5qcyIsImhvbWUvZGlyZWN0aXZlL2Rpc3RhbmNlVmlld0RpcmVjdGl2ZS5qcyIsImhvbWUvZGlyZWN0aXZlL2tlZXBTY3JvbGxEaXJlY3RpdmUuanMiLCJob21lL3NlcnZpY2UvaG9tZVNlcnZpY2UuanMiLCJob21lL3NlcnZpY2Uvbm90aWZpY2F0aW9uU2VydmljZS5qcyIsImhvbWUvc2VydmljZS91c2VyZGF0YS5qcyIsIm1lc3NhZ2UvY29udHJvbGxlci9tZXNzYWdlUm9vbUNvbnRyb2xsZXIuanMiLCJtZXNzYWdlL2NvbnRyb2xsZXIvbWVzc2FnZVJvb21MaXN0Q29udHJvbGxlci5qcyIsIm1lc3NhZ2Uvc2VydmljZS9tZXNzYWdlUm9vbVNlcnZpY2UuanMiLCJwZW9wbGUvY29udHJvbGxlci9hbGxQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2NvbnRyb2xsZXIvbmVhcmJ5UGVvcGxlQ29udHJvbGxlci5qcyIsInBlb3BsZS9jb250cm9sbGVyL3Blb3BsZVBhcmVudENvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9yZWNlaXZlZFBlb3BsZUNvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9yZXF1ZXN0ZWRQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2NvbnRyb2xsZXIvcmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2RpcmVjdGl2ZS9wZW9wbGVMaXN0RGlyZWN0aXZlLmpzIiwicGVvcGxlL2RpcmVjdGl2ZS9yZWNlaXZlZFBlb3BsZUxpc3QuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3JlcXVlc3RlZFBlb3BsZUxpc3QuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3JldmVhbERpcmVjdGl2ZS5qcyIsInBlb3BsZS9zZXJ2aWNlL3Blb3BsZVNlcnZpY2UuanMiLCJwZW9wbGUvc2VydmljZS91cHZvdGVTZXJ2aWNlLmpzIiwicG9zdC9jb250cm9sbGVyL2FsbFBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL2NyZWF0ZVBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL2xhdGVzdFBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL25lYXJieVBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL3BvcHVsYXJQb3N0Q29udHJvbGxlci5qcyIsInBvc3QvY29udHJvbGxlci9wb3N0UGFyZW50Q29udHJvbGxlci5qcyIsInBvc3QvY29udHJvbGxlci9zaW5nbGVQb3N0Q29udHJvbGxlci5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RTZWFyY2hNb2RhbC5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RzTGlzdERpcmVjdGl2ZS5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RVcHZvdGVEaXJlY3RpdmUuanMiLCJwb3N0L3NlcnZpY2UvcG9zdFNlcnZpY2UuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlckVkaXRQYWdlQ29udHJvbGxlci5qcyIsInVzZXIvY29udHJvbGxlci91c2VyTWVQYWdlQ29udHJvbGxlci5qcyIsInVzZXIvY29udHJvbGxlci91c2VyUGFnZUNvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlclBhZ2VQb3N0c0NvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlclBhcmVudENvbnRyb2xsZXIuanMiLCJ1c2VyL2RpcmVjdGl2ZS9ibG9ja2VkTGlzdERpcmVjdGl2ZS5qcyIsInVzZXIvc2VydmljZS9ibG9ja1NlcnZpY2UuanMiLCJ1c2VyL3NlcnZpY2UvcmV2ZWFsU2VydmljZS5qcyIsInVzZXIvc2VydmljZS91c2VyTG9jYXRpb25TZXJ2aWNlLmpzIiwidXNlci9zZXJ2aWNlL3VzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJjb25maWdGdW5jdGlvbiIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJ0b2FzdHJDb25maWciLCJ0YWJzIiwicG9zaXRpb24iLCJzY3JvbGxpbmciLCJqc1Njcm9sbGluZyIsInZpZXdzIiwidHJhbnNpdGlvbiIsIm90aGVyd2lzZSIsImV4dGVuZCIsImF1dG9EaXNtaXNzIiwibWF4T3BlbmVkIiwiYXBwIiwibW9kdWxlIiwiY29uZmlnIiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIiRpb25pY1BsYXRmb3JtIiwiJGlvbmljTG9hZGluZyIsIlJlcXVlc3RzU2VydmljZSIsIiRjb3Jkb3ZhUHVzaFY1IiwiJGlvbmljSGlzdG9yeSIsImJhY2tCdXR0b25FeGl0IiwicmVnaXN0ZXJCYWNrQnV0dG9uQWN0aW9uIiwiZSIsImJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCIsImlvbmljIiwiUGxhdGZvcm0iLCJleGl0QXBwIiwiYmFja1ZpZXciLCJnb0JhY2siLCJ3aW5kb3ciLCJwbHVnaW5zIiwidG9hc3QiLCJzaG93U2hvcnRDZW50ZXIiLCJhIiwiYiIsInNldFRpbWVvdXQiLCJwcmV2ZW50RGVmYXVsdCIsIm5vdGlmaWNhdGlvbkZ1bmN0aW9uIiwicmVnaXN0ZXIiLCIkb24iLCJldmVudCIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwicmVhZHkiLCJjb3Jkb3ZhIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0Iiwib25lcnJvciIsImVycm9yTXNnIiwidXJsIiwibGluZU51bWJlciIsImdvIiwiaGlkZSIsInN0YXRlIiwiYWJzdHJhY3QiLCJjaGF0LXRhYiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlc29sdmUiLCJibG9ja2VkIiwiJHN0YXRlUGFyYW1zIiwiYmxvY2tTZXJ2aWNlIiwiJHEiLCJkZWZlciIsImNoZWNrIiwidXNlciIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwicHJvbWlzZSIsIiRhdXRoUHJvdmlkZXIiLCJhdXRoZW50aWNhdGVVcmwiLCJyZWRpcmVjdFVybDIiLCJmYWNlYm9vayIsImNsaWVudElkIiwicmVkaXJlY3RVcmkiLCJnb29nbGUiLCJyZWRpcmVjdElmVXNlck5vdEF1dGhlbnRpY2F0ZWQiLCIkYXV0aCIsIiR0aW1lb3V0IiwiaXNBdXRoZW50aWNhdGVkIiwibWVzc2FnZVJvb20iLCJtZXNzYWdlUm9vbVNlcnZpY2UiLCJwYXJhbXMiLCJwb3N0SWQiLCJpbnRlcmVzdCIsImdldE1lc3NhZ2VSb29tIiwiZm91bmRNZXNzYWdlUm9vbSIsInBlb3BsZS10YWIiLCJwb3N0LXRhYiIsImFsZXJ0IiwiaGlzdG9yeSIsImJhY2siLCJmcmllbmRzIiwicmV2ZWFsU2VydmljZSIsInN0YXR1cyIsInVzZXItdGFiIiwiZXh0cmEtdGFiIiwiQWxsQ2hhdENvbnRyb2xsZXIiLCIkc2NvcGUiLCJjaGF0U2VydmljZSIsIlNvY2tldCIsIm1lc3NhZ2VSZWNlaXZlZCIsIm1lc3NhZ2UiLCJuZXdDaGF0Um9vbSIsImNyZWF0b3IyIiwibmV3Q2hhdCIsImxhc3RNZXNzYWdlIiwiX2lkIiwidHlwZSIsImNoIiwiYWNjIiwiY2hhdFJvb21zTGlzdCIsImxlbmd0aCIsInNwbGljZSIsInVuc2hpZnQiLCJwdWxsUmVmcmVzaENoYXRzIiwiYWN0aXZhdGUiLCJsb2FkTW9yZUNoYXRzIiwicGFnZSIsImdldEFsbENoYXRSb29tcyIsImZvckVhY2giLCJkb2NzIiwidmFsdWUiLCJwdXNoIiwibm9Qb3N0cyIsInRvdGFsIiwiaW5pdGlhbFNlYXJjaENvbXBsZXRlZCIsImNhbkxvYWRNb3JlUmVzdWx0cyIsImZpbmFsbHkiLCIkYnJvYWRjYXN0IiwibGltaXQiLCJ0aGlzIiwib24iLCJjaGF0UGFnZSIsInVzZXJJZCIsIkNoYXRCb3hDb250cm9sbGVyIiwidXNlckRhdGEiLCJob21lU2VydmljZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwidXNlclNlcnZpY2UiLCJVcGxvYWQiLCIkd2luZG93IiwiY2JjIiwiZ2V0Q2hhdE1lc3NhZ2VzIiwiZ2V0UmVjZWl2ZXIiLCJnZXRVc2VyIiwicmVjZWl2ZXJVc2VySUQiLCJyZWNlaXZlclVzZXIiLCJlcnIiLCJzY3JvbGxCb3R0b20iLCJjaGF0Um9vbUlkIiwicmVzIiwiY2hhdCIsImNoYXRMaXN0Iiwic29ja2V0Sm9pbiIsImVtaXQiLCJyb29tSWQiLCJtZXNzYWdlTG9hZGluZyIsImlzQmxvY2tlZCIsImN1cnJlbnRVc2VyIiwibWVzc2FnZVRyeUNvdW50Iiwic2hvdyIsImdldENoYXRSb29tIiwiY2hhdFJvb20iLCJjbGlja1N1Ym1pdCIsIiRldmVudCIsImZvY3VzSW5wdXQiLCJpc1Zpc2libGUiLCJjaGF0T2JqIiwibXlNc2ciLCJyZWNlaXZlciIsInNlbmRDaGF0TWVzc2FnZSIsInN1Ym1pdFVwbG9hZCIsImZpbGUiLCJ1cGxvYWQiLCJiYXNlVVJMIiwicmVzdWx0IiwidXBsb2FkZWRJbWFnZSIsImNhbmNlbFVwbG9hZCIsInNob3dUZW1wSW1hZ2UiLCJ0ZW1wSW1hZ2VVcmwiLCJ1cGxvYWRTaW5nbGVJbWFnZSIsImVyckZpbGVzIiwiZXJyRmlsZSIsImxlYXZlQ2hhdEJveCIsInVwZGF0ZUNoYXRSb29tIiwiQ2hhdFBhcmVudENvbnRyb2xsZXIiLCJSZXZlYWxlZENoYXRDb250cm9sbGVyIiwiZ2V0UmV2ZWFsZWRDaGF0Um9vbXMiLCJSZXZpZXdTZXJ2aWNlIiwiJGh0dHAiLCJkZWxldGVDaGF0Um9vbSIsImlkIiwicG9zdCIsImdldCIsInJldmVhbGVkIiwicnMiLCJzZXJ2aWNlIiwiU29ja2V0RmFjdG9yeSIsInNvY2tldEZhY3RvcnkiLCJwcmVmaXgiLCJpb1NvY2tldCIsImlvIiwiY29ubmVjdCIsImZhY3RvcnkiLCJzb2NrZXRGYWN0b3J5RnVuY3Rpb24iLCJBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIiLCJ1c2VyTG9jYXRpb25TZXJ2aWNlIiwiJGlvbmljTW9kYWwiLCJzdWNjZXNzZnVsQXV0aGVudGljYXRpb24iLCJzZXRVc2VyIiwic2V0VXNlckxvY2F0aW9uIiwiZGV2aWNlX3Rva2VuIiwic29jaWFsQXV0aGVudGljYXRlIiwicHJvdmlkZXIiLCJhdXRoZW50aWNhdGUiLCJsb2FkUG9zdE1vZGFsIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJtb2RhbCIsImF1dGhMb2dvdXQiLCJsb2dvdXQiLCJyZW1vdmVVc2VyIiwicGhjIiwiaXNBdXRoIiwid2ViU2lnbkluIiwiZ29vZ2xlU2lnbkluIiwidGVtcGxhdGUiLCJnb29nbGVwbHVzIiwibG9naW4iLCJ3ZWJDbGllbnRJZCIsInVzZXJfZGF0YSIsInByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsImltYWdlVXJsIiwic2V0VG9rZW4iLCJ0b2tlbiIsIm1zZyIsIkhvbWVDb250cm9sbGVyIiwidG9hc3RyIiwiJGlvbmljVGFic0RlbGVnYXRlIiwibWVzc2FnZVN0cmluZyIsInVzZXJOYW1lIiwiYW5vbk5hbWUiLCJmYWNlYm9va05hbWUiLCJnb29nbGVOYW1lIiwiY3VycmVudCIsIm5hbWUiLCJpbmZvIiwiYWxsb3dIdG1sIiwib25UYXAiLCJoYyIsImJhZGdlVmFsdWUiLCJjaGF0Q2xpY2tlZCIsInNsaWRlSGVhZGVyIiwic2xpZGVIZWFkZXJQcmV2aW91cyIsImdvRm9yd2FyZCIsInNlbGVjdGVkIiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdCIsImlvbmljQ3VzdG9tU3Bpbm5lciIsImRpcmVjdGl2ZSIsInBvc3RTZXJ2aWNlIiwicmVzdHJpY3QiLCJwb3NpdGlvbkNvcmRzIiwicmVwbGFjZSIsImxpbmsiLCJnZXREaXN0YW5jZSIsImRpc3RhbmNlT2JqIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJkaXN0YW5jZSIsIndhdGNoU2Nyb2xsIiwiZWxlbSIsImJpbmQiLCJzY3JvbGxUb3AiLCJzcmNFbGVtZW50IiwiJGFwcGx5IiwiaW1hZ2VNb2RhbCIsInNob3dJbWFnZU1vZGFsIiwiaW1hZ2UiLCJsb2FkTW9kYWwiLCJjdXJyZW50SW1hZ2UiLCJzdG9wUHJvcGFnYXRpb24iLCJTY3JvbGxQb3NpdGlvbnMiLCJnZXRTY3JvbGxQb3NpdGlvbiIsIm9mZnNldCIsInNjcm9sbFRvIiwibGVmdCIsInRvcCIsInRyaWdnZXIiLCJlbGVtZW50IiwiJHdhdGNoIiwiZm9jdXMiLCJpbWdMYXJnZSIsImltZ1NtYWxsIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJjaGlsZHJlbiIsImZpbmQiLCJjc3MiLCJIb21lU2VydmljZSIsImRlbGV0ZVVwbG9hZCIsInRoYXQiLCJwdWJsaWNfaWQiLCJnZXRJbWFnZXMiLCJpbWFnZVRleHQiLCJkZWZlcnJlZCIsIm9wdGlvbnMiLCJhbmRyb2lkIiwic2VuZGVySUQiLCJ2aWJyYXRlIiwiYnJvd3NlciIsImlvcyIsImJhZGdlIiwic291bmQiLCJ3aW5kb3dzIiwiaW5pdGlhbGl6ZSIsIm9uTm90aWZpY2F0aW9uIiwiYXJndW1lbnRzIiwib25FcnJvciIsInJlZ2lzdHJhdGlvbklkIiwiYmFzZV91cmwiLCJyZWplY3QiLCJzdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiY2FjaGVkVXNlciIsIm9iajEiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFBheWxvYWQiLCJzdWIiLCJwYXJzZSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwiaXNVc2VyRXhpc3RzIiwiTWVzc2FnZVJvb21Db250cm9sbGVyIiwibG9hZE1vcmVNZXNzYWdlcyIsImdldE1lc3NhZ2VzIiwibWVzc2FnZUxpc3QiLCJmb3JtYXRNZXNzYWdlRGF0ZSIsIm1lc3NhZ2VEYXRlIiwibW9tZW50IiwiZm9ybWF0IiwibWVzc2FnZU9iaiIsInNlbmRNZXNzYWdlIiwibGVhdmVNZXNzYWdlUm9vbSIsIk1lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXIiLCJuZXdNZXNzYWdlUm9vbSIsIm5ld01lc3NhZ2UiLCJtZXNzYWdlUm9vbXNMaXN0IiwicHVsbFJlZnJlc2hNZXNzYWdlcyIsImdldEFsbE1lc3NhZ2VSb29tcyIsImdldE1lc3NhZ2VSb29tcyIsIm1lc3NhZ2VSb29tUGFnZSIsIk1lc3NhZ2VSb29tU2VydmljZSIsIm1lc3NhZ2VSb29tSWQiLCJBbGxQZW9wbGVDb250cm9sbGVyIiwicGVvcGxlU2VydmljZSIsInB1bGxSZWZyZXNoUGVvcGxlIiwic2VhcmNoQ3Jvc3NTdWJtaXQiLCJhcGMiLCJwZW9wbGVTZWFyY2hUZXh0Iiwic2hvd1NlYXJjaENyb3NzIiwicGVvcGxlU2VhcmNoVGV4dFN1Ym1pdCIsImxvYWRNb3JlUGVvcGxlIiwiZ2V0QWxsUGVvcGxlIiwiZ2V0QWxsVXNlcnMiLCJwZW9wbGVMaXN0IiwiTmVhcmJ5UGVvcGxlQ29udHJvbGxlciIsImdldE5lYXJieVBlb3BsZSIsInJlbGVhc2VSYW5nZSIsImdldE5lYXJieVVzZXJzIiwibm9QZW9wbGUiLCJQZW9wbGVQYXJlbnRDb250cm9sbGVyIiwiUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyIiwiZ2V0UmVjZWl2ZWRQZW9wbGUiLCJnZXRSZWNlaXZlZFVzZXJzIiwiUmVxdWVzdGVkUGVvcGxlQ29udHJvbGxlciIsImdldFJlcXVlc3RlZFBlb3BsZSIsImdldFJlcXVlc3RlZFVzZXJzIiwiUmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyIiwiZ2V0UmV2ZWFsZWRQZW9wbGUiLCJnZXRSZXZlYWxlZFVzZXJzIiwibGlzdFR5cGUiLCJzZXRQZW9wbGVTZWFyY2giLCJyZW1vdmVBZnRlckRlY2lkZWQiLCJpbmRleCIsInJlY2VpdmVkUGVvcGxlTGlzdCIsInJwYyIsInJlcXVlc3RlZFBlb3BsZUxpc3QiLCJkZWxldGVDaGF0IiwiJGlvbmljQWN0aW9uU2hlZXQiLCJhZnRlckNhbGxiYWNrIiwidGl0bGVUZXh0IiwiYnV0dG9ucyIsInRleHQiLCJjYW5jZWxUZXh0IiwiY2FuY2VsIiwiYnV0dG9uQ2xpY2tlZCIsInVzZXJTZXR0aW5ncyIsIiRpb25pY1BvcG92ZXIiLCJ1c2VyQmxvY2siLCJjaGF0RGVsZXRlIiwiYmxvY2tJZCIsInBvcG92ZXIiLCJyZW1vdmUiLCJ1c2VyUGFnZSIsImNhbmNlbFJldmVhbCIsImRlY2lkZVJldmVhbCIsImFjY2VwdCIsImlnbm9yZSIsImRlbGV0ZVJldmVhbCIsImZpbmlzaCIsInNlbmRSZXZlYWwiLCJpbml0aWF0ZSIsImNyZWF0ZUJsb2NrIiwiY3JlYXRlIiwiZGVsZXRlQmxvY2siLCJQZW9wbGVTZXJ2aWNlIiwiYWxsIiwicmVjZWl2ZWQiLCJyZXF1ZXN0ZWQiLCJnZXRGaWx0ZXJlZFVzZXJzIiwidXNlcnMiLCJuZWFyYnkiLCJnZXRVc2VyTG9jYXRpb24iLCJVcHZvdGVTZXJ2aWNlIiwiZ2V0VXB2b3RlIiwiY3JlYXRlVXB2b3RlIiwiZGVsZXRlVXB2b3RlIiwiQWxsUG9zdENvbnRyb2xsZXIiLCJwdWxsUmVmcmVzaFBvc3RzIiwicG9zdFNlYXJjaFRleHQiLCJwb3N0U2VhcmNoVGV4dFN1Ym1pdCIsImxvYWRNb3JlUG9zdHMiLCJnZXRBbGxQb3N0cyIsInBvc3RzTGlzdCIsIkNyZWF0ZVBvc3RDb250cm9sbGVyIiwic3VibWl0UG9zdCIsImNwYyIsImNvbnRlbnQiLCJuZXdWYWwiLCJvbGRWYWwiLCJzZWxlY3RSYW5kb21JbWFnZSIsImltZyIsImxvYWRSYW5kb21JbWFnZXMiLCJsb2FkaW5nUmFuZG9tSW1hZ2UiLCJyYW5kb21JbWFnZXMiLCJpbWFnZUlkIiwibG9hZGluZ0ltYWdlIiwiTGF0ZXN0UG9zdENvbnRyb2xsZXIiLCJnZXRMYXRlc3RQb3N0cyIsIk5lYXJieVBvc3RDb250cm9sbGVyIiwiZ2V0TmVhcmJ5UG9zdHMiLCJQb3B1bGFyUG9zdENvbnRyb2xsZXIiLCJnZXRQb3B1bGFyUG9zdHMiLCJQb3N0UGFyZW50Q29udHJvbGxlciIsIlNpbmdsZVBvc3RDb250cm9sbGVyIiwidXB2b3RlU2VydmljZSIsImdldFNpbmdsZVBvc3QiLCJnZXRQb3N0IiwibG9jIiwiZGlhdGFuY2UiLCJnZXRQb3N0RGlzdGFuY2UiLCJjaGVja1Bvc3RVcHZvdGUiLCJjdXJyZW50UG9zdCIsInBvc3RVcHZvdGVkIiwic3VibWl0UG9zdFVwdm90ZSIsImRlbGV0ZVBvc3RVcHZvdGUiLCJwb3N0U2VhcmNoTW9kYWwiLCJjbGlja1Bvc3RTZWFyY2giLCJwb3N0U2VhcmNoRGF0YSIsImdldFBvc3RzIiwibW9kYWxzTGlzdCIsInNob3dQb3N0TW9kYWwiLCJnZXRUaW1lIiwidGltZSIsImZyb21Ob3ciLCJwb3N0TW9kYWwiLCJkZWxldGVQb3N0IiwicG9zdHNMZW5ndGgiLCJpIiwicG9zdFVwdm90ZSIsInVwdm90ZXNMZW5ndGgiLCJsb2FkaW5nVXB2b3RlIiwiUG9zdFNlcnZpY2UiLCJnZXRGaWx0ZXJlZFBvc3RzIiwicG9zdHMiLCJlcnIyIiwic29ydCIsImRlbGV0ZSIsInBvc09iaiIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJNYXRoIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImQiLCJjZWlsIiwiZGVnIiwiUEkiLCJVc2VyRWRpdFBhZ2VDb250cm9sbGVyIiwidW1wYyIsImVkaXRGb3JtIiwiZ2VuZGVyIiwiaW50ZXJlc3RzIiwiam9pbiIsInN1Ym1pdFVzZXIiLCJ1cGRhdGVVc2VyIiwidXBsb2FkVXNlclBpY3R1cmUiLCJwaWN0dXJlIiwiVXNlck1lUGFnZUNvbnRyb2xsZXIiLCJvcGVuRmFjZWJvb2siLCJvcGVuIiwiZ2V0VXNlclBvc3RzIiwiYWN0aXZhdGVUYWIiLCJ0YWJJbmRleCIsImFjdGl2ZVRhYiIsImlzVGFiQWN0aXZlIiwic3ViQWN0aXZhdGVUYWIiLCJzdWJUYWJJbmRleCIsInN1YkFjdGl2ZVRhYiIsImlzU3ViVGFiQWN0aXZlIiwiZ2V0UmVxdWVzdGVkTGlzdCIsIlVzZXJQYWdlQ29udHJvbGxlciIsIm9wZW5Hb29nbGUiLCJ1cGMiLCJjaGVja1JldmVhbCIsInJldmVhbENob2ljZSIsIlVzZXJQYWdlUG9zdHNDb250cm9sbGVyIiwiVXNlclBhcmVudENvbnRyb2xsZXIiLCJibG9ja2VkTGlzdCIsImdldEJsb2NrcyIsIkJsb2NrU2VydmljZSIsInNlY29uZFVzZXIiLCJSZXZlYWxTZXJ2aWNlIiwiZ2V0UGFyYW1zIiwiVXNlckxvY2F0aW9uU2VydmljZSIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCJ0aW1lb3V0IiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb25zIiwiY29vcmRzIiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJjb2RlIiwid2FybmluZyIsIlVzZXJTZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBLFlBUUEsU0FBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsS0FBQUMsU0FBQSxVQUNBSCxFQUFBSSxVQUFBQyxhQUFBLEdBQ0FMLEVBQUFNLE1BQUFDLFdBQUEsWUFDQVQsRUFBQVUsVUFBQSxxQkFDQVosRUFBQWEsT0FBQVIsR0FDQVMsYUFBQSxFQUNBQyxVQUFBLElBWkEsR0FBQUMsR0FBQWhCLEVBQUFpQixPQUFBLFNBQUEsUUFBQSxZQUFBLGFBQUEsZUFBQSxtQkFDQSxZQUFBLFNBQUEsYUFBQSxhQUFBLGFBQUEsYUFBQSxlQUFBLGlCQUVBRCxHQUFBRSxR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LEtBQ0F0ZSxNQUFBLFNBQUFpRixHQUNBMEMsRUFBQUcsS0FBQSxtR0FBQWhJLEtBQUEsU0FBQUMsR0FDQSxHQUFBd2UsSUFDQTdSLFNBQUEzTSxFQUFBL0IsS0FBQXdnQixTQUFBQyxJQUNBOVIsVUFBQTVNLEVBQUEvQixLQUFBd2dCLFNBQUFFLElBRUFsYSxHQUFBNFgsV0FBQW1DLEtBRUF2ZSxNQUFBLFdBQ0EsR0FBQWlGLEVBQUEwWixLQUNBL1QsRUFBQWdVLFFBQUEsaUVBQUEsV0FFQTdpQixVQUFBLElBR0EsR0FBQWtKLEVBQUEwWixNQUFBLEdBQUExWixFQUFBMFosTUFDQS9ULEVBQUFnVSxRQUFBLGlFQUFBLFdBRUE3aUIsVUFBQSxRQW5EQWlJLEtBQUF5UyxnQkFBQUEsRUFDQXpTLEtBQUFnRixnQkFBQUEsRUFOQWhPLEVBQUFpQixPQUFBLGNBQ0FpTSxRQUFBLHVCQUFBLHNCQUFBLGNBQUEsS0FBQSxRQUFBLFNBQUErVixLQW1FQTdnQixPQUFBcEMsU0N2RUEsU0FBQUEsR0FDQSxZQVVBLFNBQUE2akIsR0FBQWxYLEVBQUFyRCxHQU9BLFFBQUFRLEdBQUErQyxHQUNBLE1BQUFGLEdBQUFJLElBQUF6RCxFQUFBc0MsUUFBQSxZQUFBaUIsR0FJQSxRQUFBdVUsR0FBQXZjLEdBQ0EsTUFBQThILEdBQUFHLEtBQUF4RCxFQUFBc0MsUUFBQSxnQkFBQS9HLEtBQUFBLElBWkFtRSxLQUFBb1ksV0FBQUEsRUFFQXBZLEtBQUFjLFFBQUFBLEVBVEE5SixFQUFBaUIsT0FBQSxjQUNBaU0sUUFBQSxlQUFBLFFBQUEsY0FBQTJXLEtBd0JBemhCLE9BQUFwQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG5cdHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwnLCBbJ2lvbmljJywgJ25nQW5pbWF0ZScsJ3NhdGVsbGl6ZXInLCAnbmdGaWxlVXBsb2FkJywgJ2J0Zm9yZC5zb2NrZXQtaW8nLFxyXG5cdFx0J25nQ29yZG92YScsICd0b2FzdHInLCAncGV0YWwuaG9tZScsICdwZXRhbC5wb3N0JywgJ3BldGFsLmNoYXQnLCAncGV0YWwudXNlcicsICdwZXRhbC5wZW9wbGUnLCdwZXRhbC5tZXNzYWdlJ1xyXG5cdF0pO1xyXG5cdGFwcC5jb25maWcoWyckdXJsUm91dGVyUHJvdmlkZXInLCAnJHN0YXRlUHJvdmlkZXInLCAnJGlvbmljQ29uZmlnUHJvdmlkZXInLCAndG9hc3RyQ29uZmlnJywgY29uZmlnRnVuY3Rpb25dKTtcclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnRnVuY3Rpb24oJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIHRvYXN0ckNvbmZpZykge1xyXG5cdFx0JGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbihcImJvdHRvbVwiKTtcclxuXHRcdCRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyhmYWxzZSk7XHJcblx0XHQkaW9uaWNDb25maWdQcm92aWRlci52aWV3cy50cmFuc2l0aW9uKCdwbGF0Zm9ybScpO1xyXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2hvbWUvcG9zdC9uZWFyYnknKTtcclxuXHRcdGFuZ3VsYXIuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xyXG5cdFx0XHRhdXRvRGlzbWlzczogdHJ1ZSxcclxuXHRcdFx0bWF4T3BlbmVkOiAxLFxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHJcblx0fVxyXG5cclxuXHRhcHAucnVuKFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJGlvbmljUGxhdGZvcm0nLCAnJGlvbmljTG9hZGluZycsICdSZXF1ZXN0c1NlcnZpY2UnLCAnJGNvcmRvdmFQdXNoVjUnLCAnJGlvbmljSGlzdG9yeScsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgJGlvbmljUGxhdGZvcm0sICRpb25pY0xvYWRpbmcsIFJlcXVlc3RzU2VydmljZSwgJGNvcmRvdmFQdXNoVjUsICRpb25pY0hpc3RvcnkpIHtcclxuXHJcblx0XHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxyXG5cdFx0XHQvLyBmb3IgZm9ybSBpbnB1dHMpXHJcblx0XHRcdGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcclxuXHRcdFx0XHRjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xyXG5cdFx0XHRcdGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKHRydWUpO1xyXG5cdFx0XHRcdC8vd2luZG93LnB1c2hOb3RpZmljYXRpb24gPSB3aW5kb3cucGx1Z2lucy5wdXNoTm90aWZpY2F0aW9uO1xyXG5cdFx0XHRcdC8vYXBwU3RhdHVzKCk7XHJcblx0XHRcdFx0bm90aWZpY2F0aW9uRnVuY3Rpb24oKTtcclxuXHRcdFx0XHRiYWNrQnV0dG9uRXhpdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAod2luZG93LlN0YXR1c0Jhcikge1xyXG5cdFx0XHRcdC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcclxuXHRcdFx0XHRTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oZXJyb3JNc2csIHVybCwgbGluZU51bWJlcikge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fTtcclxuXHRcdFx0XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlRXJyb3JcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnBvc3QubmVhcmJ5Jyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYmFja0J1dHRvbkV4aXQoKSB7XHJcblx0XHRcdCRpb25pY1BsYXRmb3JtLnJlZ2lzdGVyQmFja0J1dHRvbkFjdGlvbihmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0aWYgKCRyb290U2NvcGUuYmFja0J1dHRvblByZXNzZWRPbmNlVG9FeGl0KSB7XHJcblx0XHRcdFx0XHRpb25pYy5QbGF0Zm9ybS5leGl0QXBwKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICgkaW9uaWNIaXN0b3J5LmJhY2tWaWV3KCkpIHtcclxuXHRcdFx0XHRcdCRpb25pY0hpc3RvcnkuZ29CYWNrKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRyb290U2NvcGUuYmFja0J1dHRvblByZXNzZWRPbmNlVG9FeGl0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHdpbmRvdy5wbHVnaW5zLnRvYXN0LnNob3dTaG9ydENlbnRlcihcclxuXHRcdFx0XHRcdFx0XCJQcmVzcyBiYWNrIGJ1dHRvbiBhZ2FpbiB0byBleGl0XCIsXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKGEpIHt9LFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbihiKSB7fVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fSwgMjAwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH0sIDEwMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbm90aWZpY2F0aW9uRnVuY3Rpb24oKSB7XHJcblx0XHRcdFJlcXVlc3RzU2VydmljZS5yZWdpc3RlcigpO1xyXG5cclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJyRjb3Jkb3ZhUHVzaFY1Om5vdGlmaWNhdGlvblJlY2VpdmVkJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhldmVudCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gdHJpZ2dlcmVkIGV2ZXJ5IHRpbWUgZXJyb3Igb2NjdXJzXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCckY29yZG92YVB1c2hWNTplcnJvck9jdXJyZWQnLCBmdW5jdGlvbihldmVudCwgZSkge1xyXG5cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fV0pO1xyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4vLyByZWQsIHBpbmssIHB1cnBsZSwgZGVlcC1wdXJwbGUsIGluZGlnbywgYmx1ZSwgbGlnaHQtYmx1ZSwgY3lhbiwgdGVhbCwgZ3JlZW4sLFxyXG4vL2xpZ2h0LWdyZWVuLCBsaW1lLCB5ZWxsb3csIGFtYmVyLCBvcmFuZ2UsIGRlZXAtb3JhbmdlLCBicm93biwgZ3JleSwgYmx1ZS1ncmV5XHJcbi8vIC5jb25maWcoZnVuY3Rpb24oJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbi8vICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuLy8gICAgIC5wcmltYXJ5UGFsZXR0ZSgncGluaycpXHJcbi8vICAgICAuYWNjZW50UGFsZXR0ZSgnb3JhbmdlJyk7XHJcbi8vIH0pOy8vXCJhbmd1bGFyLW1hdGVyaWFsXCI6IFwibWFzdGVyXCIsXCJuZy1kaXJlY3RpdmUtbGF6eS1pbWFnZVwiOiBcImFma2wtbGF6eS1pbWFnZSNeMC4zLjFcIlxyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcsIFsnbmdGaWxlVXBsb2FkJ10pXHJcblx0XHQuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdob21lLmNoYXQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYXQnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY2hhdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2NoYXQvdmlld3MvY2hhdFBhcmVudC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NoYXRQYXJlbnRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncHBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLnN0YXRlKCdob21lLmNoYXQuYWxsJywge1xyXG5cdFx0XHRcdHVybDogJy9hbGwnLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NoYXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9jaGF0L3ZpZXdzL2FsbENoYXQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxDaGF0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2FjYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLmNoYXQucmV2ZWFsZWQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3JldmVhbGVkJyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjaGF0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvY2hhdC92aWV3cy9yZXZlYWxlZENoYXQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZXZlYWxlZENoYXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2hvbWUuY2hhdC5tZXNzYWdlcm9vbScsIHtcclxuXHRcdFx0XHR1cmw6ICcvbWVzc2FnZVJvb20nLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NoYXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9tZXNzYWdlL3ZpZXdzL21lc3NhZ2VSb29tTGlzdC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ01lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdtcmxjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2NoYXRCb3gnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYXRCb3gvOnVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2NoYXQvdmlld3MvY2hhdEJveC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQ2hhdEJveENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NiYycsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0YmxvY2tlZDogWyAnJHN0YXRlUGFyYW1zJywgJ2Jsb2NrU2VydmljZScsJyRxJywgYmxvY2tlZF1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBibG9ja2VkKCRzdGF0ZVBhcmFtcyxibG9ja1NlcnZpY2UsJHEpe1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHRcdGJsb2NrU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdGRlZmVyLnJlc29sdmUocmVzcG9uc2UuZGF0YS5ibG9ja2VkKTtcdFx0XHRcdFx0XHJcblx0XHR9KS5jYXRjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKCk7XHRcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblx0fVxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScsIFtdKVxyXG5cdFx0LmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyRhdXRoUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyKSB7XHJcblx0XHR2YXIgZmJDbGllbnRJZCA9ICcxMTM0MjA4ODMwMDQxNjMyJztcclxuXHRcdHZhciByZWRpcmVjdFVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MTAwXCI7XHJcblx0XHR2YXIgcmVkaXJlY3RVcmwyID0gXCJodHRwczovL2JhbmFuYS1zdXJwcmlzZS0zMTMzMi5oZXJva3VhcHAuY29tXCI7XHJcblx0XHR2YXIgYXV0aGVudGljYXRlVXJsID0gcmVkaXJlY3RVcmwyICsgJy9hdXRoZW50aWNhdGUnO1xyXG5cdFx0JGF1dGhQcm92aWRlci5mYWNlYm9vayh7XHJcblx0XHRcdGNsaWVudElkOiBmYkNsaWVudElkLFxyXG5cdFx0XHR1cmw6IGF1dGhlbnRpY2F0ZVVybCArICcvYXV0aC9mYWNlYm9vaycsXHJcblx0XHRcdHJlZGlyZWN0VXJpOiBcImh0dHBzOi8vYmFuYW5hLXN1cnByaXNlLTMxMzMyLmhlcm9rdWFwcC5jb20vXCJcclxuXHRcdH0pO1xyXG5cdFx0JGF1dGhQcm92aWRlci5nb29nbGUoe1xyXG5cdFx0XHRjbGllbnRJZDogJzc0MjY3NjgzNzI2NS0zM2pudGtkNjBwODdna3JoNDhucWU2Y2RkOG50c2ZsNS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScsXHJcblx0XHRcdHVybDogYXV0aGVudGljYXRlVXJsICsgJy9hdXRoL2dvb2dsZScsXHJcblx0XHRcdHJlZGlyZWN0VXJpOiByZWRpcmVjdFVybFxyXG5cdFx0fSk7XHJcblx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXV0aGVudGljYXRlJywge1xyXG5cdFx0XHR1cmw6ICcvYXV0aGVudGljYXRlJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0F1dGhlbnRpY2F0aW9uQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ2FjJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvaG9tZS92aWV3cy9hdXRoZW50aWNhdGlvblBhZ2UuaHRtbCcsXHJcblx0XHRcdFxyXG5cclxuXHRcdH0pLnN0YXRlKCdob21lJywge1xyXG5cdFx0XHR1cmw6IFwiL2hvbWVcIixcclxuXHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiBcImFwcC9ob21lL3ZpZXdzL3RhYnMuaHRtbFwiLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdoYycsXHJcblx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRyZWRpcmVjdElmVXNlck5vdEF1dGhlbnRpY2F0ZWQ6IFsnJHEnLCAnJGF1dGgnLCAnJHN0YXRlJywgJyR0aW1lb3V0JywgcmVkaXJlY3RJZlVzZXJOb3RBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHJcblx0ZnVuY3Rpb24gcmVkaXJlY3RJZlVzZXJOb3RBdXRoZW50aWNhdGVkKCRxLCAkYXV0aCwgJHN0YXRlLCAkdGltZW91dCkge1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRpZiAoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuXHJcblx0XHRcdGRlZmVyLnJlc29sdmUoKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9kZWZlci5yZWplY3QoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiByZWRpcmVjdElmVXNlckF1dGhlbnRpY2F0ZWQoJHEsICRhdXRoKSB7XHJcblx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuXHRcdGlmICgkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKSkge1xyXG5cdFx0XHRkZWZlci5yZWplY3QoKTtcclxuXHRcdFx0LyokdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0XHR9KTsqL1xyXG5cdFx0XHRcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIm5vdCBhdWRzbmZcIik7XHJcblx0XHRcdGRlZmVyLnJlc29sdmUoKTtcclxuXHRcdFx0Ly9kZWZlci5yZWplY3QoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIG1lc3NhZ2VNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwubWVzc2FnZScsW10pO1xyXG5cdG1lc3NhZ2VNb2R1bGUuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdtZXNzYWdlUm9vbUludGVyZXN0Jywge1xyXG5cdFx0XHRcdHVybDogJy9tZXNzYWdlUm9vbS9pbnRlcmVzdC86aW50ZXJlc3QnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL21lc3NhZ2Uvdmlld3MvbWVzc2FnZVJvb20uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01lc3NhZ2VSb29tQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAnbXJjJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRtZXNzYWdlUm9vbTogWyAnJHN0YXRlUGFyYW1zJywgJyRxJywgJ21lc3NhZ2VSb29tU2VydmljZScsbWVzc2FnZVJvb21dXHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLnN0YXRlKCdtZXNzYWdlUm9vbVBvc3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnL21lc3NhZ2VSb29tL3Bvc3QvOnBvc3RJZCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvbWVzc2FnZS92aWV3cy9tZXNzYWdlUm9vbS5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTWVzc2FnZVJvb21Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICdtcmMnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdG1lc3NhZ2VSb29tOiBbICckc3RhdGVQYXJhbXMnLCAnJHEnLCAnbWVzc2FnZVJvb21TZXJ2aWNlJyxtZXNzYWdlUm9vbV1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBtZXNzYWdlUm9vbSgkc3RhdGVQYXJhbXMsJHEsbWVzc2FnZVJvb21TZXJ2aWNlKXtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHR2YXIgcGFyYW1zID0ge307XHJcblx0XHRpZigkc3RhdGVQYXJhbXMucG9zdElkKXtcclxuXHRcdFx0cGFyYW1zLnBvc3RJZCA9ICRzdGF0ZVBhcmFtcy5wb3N0SWQ7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cGFyYW1zLmludGVyZXN0ID0gJHN0YXRlUGFyYW1zLmludGVyZXN0O1xyXG5cdFx0fVxyXG5cdFx0bWVzc2FnZVJvb21TZXJ2aWNlLmdldE1lc3NhZ2VSb29tKHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwicmVzb2x2ZSByZXNwb25zZVwiKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEuZm91bmRNZXNzYWdlUm9vbSk7XHRcdFx0XHRcdFxyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiUmVzb2x2ZSBtZXNhZ2UgUm9vbVwiKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblx0XHRcdC8vZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnLCBbXSlcclxuXHRcdC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGNvbmZpZ10pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ2hvbWUucGVvcGxlJyx7XHJcblx0XHRcdFx0dXJsOiAnL3Blb3BsZScsXHJcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvcGVvcGxlUGFyZW50Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUGVvcGxlUGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBlb3BsZS5hbGwnLHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Blb3BsZS10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9hbGxQZW9wbGUuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnYXBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmV2ZWFsZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmV2ZWFsZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JldmVhbGVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmVjZWl2ZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmVjZWl2ZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JlY2VpdmVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUubmVhcmJ5Jyx7XHJcblx0XHRcdFx0dXJsOiAnL25lYXJieScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvbmVhcmJ5UGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTmVhcmJ5UGVvcGxlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ25wYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JywgW10pXHJcblx0XHQuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgnaG9tZS5wb3N0Jywge1xyXG5cdFx0XHRcdHVybDogJy9wb3N0JyxcclxuXHRcdFx0XHRhYnN0cmFjdDogdHJ1ZSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3Bvc3RQYXJlbnQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdQb3N0UGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LmFsbCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9hbGxQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsUG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdhcGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LmxhdGVzdCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGF0ZXN0JyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9sYXRlc3RQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTGF0ZXN0UG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdscGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0LnBvcHVsYXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL3BvcHVsYXInLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3BvcHVsYXJQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUG9wdWxhclBvc3RDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncHBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2hvbWUucG9zdC5uZWFyYnknLCB7XHJcblx0XHRcdFx0dXJsOiAnL25lYXJieScsXHJcblxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncG9zdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvbmVhcmJ5UG9zdC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ05lYXJieVBvc3RDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ3Bvc3RTdWJtaXQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3N1Ym1pdCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9jcmVhdGVQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdDcmVhdGVQb3N0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAnY3BjJ1xyXG5cdFx0XHRcdC8qdmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0U3VibWl0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSovXHJcblx0XHRcdH0pLnN0YXRlKCdzaW5nbGVQb3N0Jywge1xyXG5cdFx0XHRcdHVybDogJy9wb3N0LzppZCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9zaW5nbGVQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnU2luZ2xlUG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdzcGMnXHJcblx0XHRcdFx0Lyp2aWV3czoge1xyXG5cdFx0XHRcdFx0J3NpbmdsZVBvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9Ki9cclxuXHJcblxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicsIFtdKS5jb25maWcoWyckc3RhdGVQcm92aWRlcicsXHJcblx0XHRmdW5jdGlvbigkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHQkc3RhdGVQcm92aWRlci5cclxuXHRcdFx0c3RhdGUoJ2hvbWUudXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlcicsXHJcblx0XHRcdFx0J2Fic3RyYWN0JzogdHJ1ZSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3VzZXItdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL3VzZXJQYXJlbnRQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlclBhcmVudENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1cGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSkuXHJcblx0XHRcdHN0YXRlKCdob21lLnVzZXIudXNlck1lUGFnZScsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlck1lUGFnZScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCd1c2VyLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy91c2VyTWVQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlck1lUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1bXBjJyxcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSkuXHJcblx0XHRcdHN0YXRlKCdob21lLnVzZXJQYWdlJywge1xyXG5cdFx0XHRcdHVybDogJy91c2VyUGFnZS86dXNlcicsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0YmxvY2tlZDogWyAnJHN0YXRlUGFyYW1zJywgJ2Jsb2NrU2VydmljZScsJyRxJywgYmxvY2tlZF0sXHJcblx0XHRcdFx0XHRmcmllbmRzOiBbICckc3RhdGVQYXJhbXMnLCAncmV2ZWFsU2VydmljZScsJyRxJywgZnJpZW5kc11cclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2V4dHJhLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy91c2VyUHJvZmlsZVBhZ2UuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVc2VyUGFnZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1cGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pXHJcblx0XHRcdC5zdGF0ZSgnaG9tZS51c2VyRWRpdFBhZ2UnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VzZXJFZGl0UGFnZScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdleHRyYS10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3VzZXIvdmlld3MvdXNlckVkaXRQYWdlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXNlckVkaXRQYWdlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3VlcGMnLFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRdKTtcclxuXHRmdW5jdGlvbiBibG9ja2VkKCRzdGF0ZVBhcmFtcyxibG9ja1NlcnZpY2UsJHEpe1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHRcdGJsb2NrU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFxyXG5cdFx0XHRpZihyZXNwb25zZS5kYXRhLmJsb2NrZWQ9PT10cnVlKXtcclxuXHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJCbG9ja2VkIHByb2ZpbGVcIik7XHJcblx0XHRcdFx0d2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0ZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oKXtcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiBmcmllbmRzKCRzdGF0ZVBhcmFtcyxyZXZlYWxTZXJ2aWNlLCRxKXtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblxyXG5cclxuXHRcdHJldmVhbFNlcnZpY2UuY2hlY2soJHN0YXRlUGFyYW1zLnVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZShyZXNwb25zZS5kYXRhLnN0YXR1cyk7XHJcblx0XHRcdC8vcmV0dXJuIDtcclxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdFxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5jb250cm9sbGVyKCdBbGxDaGF0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdjaGF0U2VydmljZScsICckaW9uaWNMb2FkaW5nJywgJ1NvY2tldCcsQWxsQ2hhdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQWxsQ2hhdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGNoYXRTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLFNvY2tldCkge1xyXG5cdFx0dmFyIGFjYyA9IHRoaXM7XHJcblx0XHRhY2MuZ2V0QWxsQ2hhdFJvb21zID0gZ2V0QWxsQ2hhdFJvb21zO1xyXG5cdFx0YWNjLmxvYWRNb3JlQ2hhdHMgPSBsb2FkTW9yZUNoYXRzO1xyXG5cdFx0YWNjLnB1bGxSZWZyZXNoQ2hhdHMgPSBwdWxsUmVmcmVzaENoYXRzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFNvY2tldC5vbignbmV3TWVzc2FnZVJlY2VpdmVkJywgbWVzc2FnZVJlY2VpdmVkKTtcclxuXHRcdFxyXG5cdFx0YWNjLmNoYXRQYWdlID0gZnVuY3Rpb24odXNlcklkKXtcclxuXHRcdFx0JHN0YXRlLmdvKCdjaGF0Qm94JywgeyB1c2VyOiB1c2VySWR9KTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBtZXNzYWdlUmVjZWl2ZWQobWVzc2FnZSl7XHJcblx0XHRcdHZhciBuZXdDaGF0Um9vbSA9IHt9O1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5jcmVhdG9yMiA9IG1lc3NhZ2UudXNlcjtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubmV3Q2hhdCA9IHRydWU7XHJcblx0XHRcdG5ld0NoYXRSb29tLmxhc3RNZXNzYWdlID0ge1xyXG5cdFx0XHRcdHVzZXI6bWVzc2FnZS51c2VyLl9pZCxcclxuXHRcdFx0XHRfaWQ6bWVzc2FnZS5faWQsXHJcblx0XHRcdFx0bWVzc2FnZTptZXNzYWdlLm1lc3NhZ2UsXHJcblx0XHRcdFx0dHlwZTogbWVzc2FnZS50eXBlXHJcblx0XHRcdH07XHJcblx0XHRcclxuXHJcblx0XHRcdGZvcih2YXIgY2g9MDtjaDxhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGg7Y2grKyl7XHJcblx0XHRcdFx0aWYobmV3Q2hhdFJvb20uY3JlYXRvcjIuX2lkPT1hY2MuY2hhdFJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKXtcclxuXHRcdFx0XHRcdGlmIChuZXdDaGF0Um9vbS5sYXN0TWVzc2FnZS5faWQgIT09IGFjYy5jaGF0Um9vbXNMaXN0W2NoXS5sYXN0TWVzc2FnZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0YWNjLmNoYXRSb29tc0xpc3Quc3BsaWNlKGNoLDEpO1xyXG5cdFx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC51bnNoaWZ0KG5ld0NoYXRSb29tKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaENoYXRzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlQ2hhdHMoKSB7XHJcblx0XHRcdGFjYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxDaGF0Um9vbXMoKSB7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldEFsbENoYXRSb29tcyhhY2MucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFjYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLmNoYXRSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0QWxsQ2hhdFJvb21zKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHJcblx0LmNvbnRyb2xsZXIoJ0NoYXRCb3hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU29ja2V0JywgJyRzdGF0ZVBhcmFtcycsICd1c2VyRGF0YScsICdob21lU2VydmljZScsICdjaGF0U2VydmljZScsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsICd1c2VyU2VydmljZScsICdVcGxvYWQnLCAnJGlvbmljTG9hZGluZycsICckd2luZG93JywgJ2Jsb2NrZWQnLCBDaGF0Qm94Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBDaGF0Qm94Q29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCBTb2NrZXQsICRzdGF0ZVBhcmFtcywgdXNlckRhdGEsIGhvbWVTZXJ2aWNlLCBjaGF0U2VydmljZSwgJGlvbmljU2Nyb2xsRGVsZWdhdGUsIHVzZXJTZXJ2aWNlLCBVcGxvYWQsICRpb25pY0xvYWRpbmcsICR3aW5kb3csIGJsb2NrZWQpIHtcclxuXHRcdHZhciBjYmMgPSB0aGlzO1xyXG5cdFx0Y2JjLmlzQmxvY2tlZCA9IGJsb2NrZWQ7XHJcblx0XHRpZiAoY2JjLmlzQmxvY2tlZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHR3aW5kb3cuYWxlcnQoXCJibG9ja2VkIHByb2ZpbGVcIik7XHJcblx0XHR9XHJcblx0XHRjYmMuY3VycmVudFVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkO1xyXG5cdFx0Y2JjLnJlY2VpdmVyVXNlcklEID0gJHN0YXRlUGFyYW1zLnVzZXI7XHJcblx0XHRjYmMuY2hhdExpc3QgPSBbXTtcclxuXHRcdGNiYy5jaGF0Um9vbUlkID0gJyc7XHJcblx0XHRjYmMubG9hZE1vcmVDaGF0cyA9IGxvYWRNb3JlQ2hhdHM7XHJcblx0XHRjYmMuc2Nyb2xsQm90dG9tID0gc2Nyb2xsQm90dG9tO1xyXG5cdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRjYmMubWVzc2FnZVRyeUNvdW50ID0gMDtcclxuXHRcdGNiYy5wYXJhbXMgPSB7XHJcblx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdGxpbWl0OiA1XHJcblx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZUNoYXRzKCkge1xyXG5cdFx0XHRjYmMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0Q2hhdE1lc3NhZ2VzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZXIoKSB7XHJcblx0XHRcdHVzZXJTZXJ2aWNlLmdldFVzZXIoY2JjLnJlY2VpdmVyVXNlcklEKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y2JjLnJlY2VpdmVyVXNlciA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7XHJcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbEJvdHRvbSh0cnVlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcygpIHtcclxuXHRcdFx0Y2hhdFNlcnZpY2UuZ2V0Q2hhdE1lc3NhZ2VzKGNiYy5jaGF0Um9vbUlkLCBjYmMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzLmRhdGEuZG9jcywgZnVuY3Rpb24oY2hhdCkge1xyXG5cdFx0XHRcdFx0Y2JjLmNoYXRMaXN0LnVuc2hpZnQoY2hhdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldENoYXRSb29tKGNiYy5yZWNlaXZlclVzZXJJRCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb20gPSByZXMuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb21JZCA9IHJlcy5kYXRhLl9pZDtcclxuXHJcblx0XHRcdFx0c29ja2V0Sm9pbigpO1xyXG5cdFx0XHRcdGdldENoYXRNZXNzYWdlcygpO1xyXG5cclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGdldFJlY2VpdmVyKCk7XHJcblxyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIHNvY2tldEpvaW4oKSB7XHJcblx0XHRcdFNvY2tldC5lbWl0KCdhZGRUb0NoYXRSb29tJywgeyAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfSk7XHJcblx0XHRcdFNvY2tldC5vbignbWVzc2FnZVJlY2VpdmVkJywgZnVuY3Rpb24obWVzc2FnZSkge1xyXG5cclxuXHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChtZXNzYWdlKTtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNiYy5jbGlja1N1Ym1pdCA9IGZ1bmN0aW9uKCRldmVudCkge1xyXG5cclxuXHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0Y2JjLmZvY3VzSW5wdXQgPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5jb3Jkb3ZhICkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuc2hvdygpO1xyXG5cdFx0XHRcdC8vd2luZG93LmNvcmRvdmEuZmlyZVdpbmRvd0V2ZW50KCduYXRpdmUua2V5Ym9hcmRzaG93JywgeydrZXlib2FyZEhlaWdodCc6ICsyNjJ9KTtcclxuICAgICAgICAgICAgXHRcdFx0XHR3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmlzVmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdHZhciBjaGF0T2JqID0geyAnbWVzc2FnZSc6IGNiYy5teU1zZywgcmVjZWl2ZXI6ICRzdGF0ZVBhcmFtcy51c2VyLCAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfTtcclxuXHRcdFx0Y2hhdFNlcnZpY2Uuc2VuZENoYXRNZXNzYWdlKGNoYXRPYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0Y2JjLm15TXNnID0gJyc7XHJcblx0XHRcdFx0Y2JjLmNoYXRMaXN0LnB1c2gocmVzLmRhdGEubWVzc2FnZSk7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VUcnlDb3VudCA9IDA7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRjYmMubWVzc2FnZVRyeUNvdW50ICs9IDE7XHJcblxyXG5cdFx0XHRcdGlmIChjYmMubWVzc2FnZVRyeUNvdW50IDw9IDMpIHtcclxuXHRcdFx0XHRcdGNiYy5jbGlja1N1Ym1pdCgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Y2JjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRjYmMuZmlsZS51cGxvYWQgPSBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0ZGF0YTogeyBmaWxlOiBjYmMuZmlsZSB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y2JjLmZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYmMuZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNiYy51cGxvYWRlZEltYWdlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2FuY2VsVXBsb2FkKCk7XHJcblx0XHRcdFx0dmFyIGNoYXRPYmogPSB7ICdtZXNzYWdlJzogY2JjLnVwbG9hZGVkSW1hZ2UsIHJlY2VpdmVyOiAkc3RhdGVQYXJhbXMudXNlciwgJ3Jvb21JZCc6IGNiYy5jaGF0Um9vbUlkLCB0eXBlOiAnaW1nJyB9O1xyXG5cdFx0XHRcdGNoYXRTZXJ2aWNlLnNlbmRDaGF0TWVzc2FnZShjaGF0T2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChyZXMuZGF0YS5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjYmMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNiYy5zaG93VGVtcEltYWdlID0gZmFsc2U7XHJcblx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSAnJztcclxuXHRcdH07XHJcblx0XHRjYmMudXBsb2FkU2luZ2xlSW1hZ2UgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHRjYmMuZmlsZSA9IGZpbGU7XHJcblx0XHRcdGNiYy5lcnJGaWxlID0gZXJyRmlsZXMgJiYgZXJyRmlsZXNbMF07XHJcblx0XHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdFx0Y2JjLnNob3dUZW1wSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSBmaWxlO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y2JjLmxlYXZlQ2hhdEJveCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgncmVtb3ZlRnJvbVJvb20nLCB7ICdyb29tSWQnOiBjYmMuY2hhdFJvb21JZCB9KTtcclxuXHJcblx0XHRcdGNoYXRTZXJ2aWNlLnVwZGF0ZUNoYXRSb29tKGNiYy5jaGF0Um9vbUlkKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHJcblxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcblxyXG4vKnVzZXJTZXJ2aWNlLmdldFVzZXJEZXRhaWxzKGNiYy5yZWNlaXZlclVzZXJJRElkLCB7ICdmaWVsZHMnOiAnZGlzcGxheU5hbWUgZmlyc3ROYW1lJyB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInRoZSByZWNlaXZlclwiKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0Y2JjLnJlY2VpdmVyVXNlcklEID0gcmVzcG9uc2UuZGF0YS5kaXNwbGF5TmFtZSB8fCAocmVzcG9uc2UuZGF0YS5maXJzdE5hbWUpO1xyXG5cdFx0XHRcdH0pOyovXHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0NoYXRQYXJlbnRDb250cm9sbGVyJyxbQ2hhdFBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQ2hhdFBhcmVudENvbnRyb2xsZXIoKXtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JldmVhbGVkQ2hhdENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnY2hhdFNlcnZpY2UnLCAnJGlvbmljTG9hZGluZycsICdTb2NrZXQnLCBSZXZlYWxlZENoYXRDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJldmVhbGVkQ2hhdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGNoYXRTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLCBTb2NrZXQpIHtcclxuXHRcdHZhciBhY2MgPSB0aGlzO1xyXG5cdFx0YWNjLmdldFJldmVhbGVkQ2hhdFJvb21zID0gZ2V0UmV2ZWFsZWRDaGF0Um9vbXM7XHJcblx0XHRhY2MubG9hZE1vcmVDaGF0cyA9IGxvYWRNb3JlQ2hhdHM7XHJcblx0XHRhY2MucHVsbFJlZnJlc2hDaGF0cyA9IHB1bGxSZWZyZXNoQ2hhdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoQ2hhdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRTb2NrZXQub24oJ25ld01lc3NhZ2VSZWNlaXZlZCcsIG1lc3NhZ2VSZWNlaXZlZCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpIHtcclxuXHRcdFx0dmFyIG5ld0NoYXRSb29tID0ge307XHJcblx0XHRcdG5ld0NoYXRSb29tLmNyZWF0b3IyID0gbWVzc2FnZS51c2VyO1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5uZXdDaGF0ID0gdHJ1ZTtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubGFzdE1lc3NhZ2UgPSB7XHJcblx0XHRcdFx0dXNlcjogbWVzc2FnZS51c2VyLl9pZCxcclxuXHRcdFx0XHRfaWQ6IG1lc3NhZ2UuX2lkLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZSxcclxuXHRcdFx0XHR0eXBlOiBtZXNzYWdlLnR5cGVcclxuXHRcdFx0fTtcclxuXHJcblxyXG5cdFx0XHRmb3IgKHZhciBjaCA9IDA7IGNoIDwgYWNjLmNoYXRSb29tc0xpc3QubGVuZ3RoOyBjaCsrKSB7XHJcblx0XHRcdFx0aWYgKG5ld0NoYXRSb29tLmNyZWF0b3IyLl9pZCA9PSBhY2MuY2hhdFJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKSB7XHJcblx0XHRcdFx0XHRpZiAobmV3Q2hhdFJvb20ubGFzdE1lc3NhZ2UuX2lkICE9PSBhY2MuY2hhdFJvb21zTGlzdFtjaF0ubGFzdE1lc3NhZ2UuX2lkKSB7XHJcblx0XHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnNwbGljZShjaCwgMSk7XHJcblx0XHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnVuc2hpZnQobmV3Q2hhdFJvb20pO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZUNoYXRzKCkge1xyXG5cdFx0XHRhY2MucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZENoYXRSb29tcygpIHtcclxuXHRcdFx0Y2hhdFNlcnZpY2UuZ2V0UmV2ZWFsZWRDaGF0Um9vbXMoYWNjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhY2Mubm9Qb3N0cyA9ICFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFjYy5jaGF0Um9vbXNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLmNoYXRSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LnNlcnZpY2UoJ2NoYXRTZXJ2aWNlJywgWyckaHR0cCcsICckc3RhdGVQYXJhbXMnLCAnaG9tZVNlcnZpY2UnLCBSZXZpZXdTZXJ2aWNlXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJldmlld1NlcnZpY2UoJGh0dHAsICRzdGF0ZVBhcmFtcywgaG9tZVNlcnZpY2UpIHtcclxuXHRcdHZhciBycyA9IHRoaXM7XHJcblx0XHRycy5zZW5kQ2hhdE1lc3NhZ2UgPSBzZW5kQ2hhdE1lc3NhZ2U7XHJcblx0XHRycy5nZXRDaGF0TWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXM7XHJcblx0XHRycy5nZXRDaGF0Um9vbSA9IGdldENoYXRSb29tO1xyXG5cdFx0cnMuZ2V0QWxsQ2hhdFJvb21zID0gZ2V0QWxsQ2hhdFJvb21zO1xyXG5cdFx0cnMuZ2V0UmV2ZWFsZWRDaGF0Um9vbXMgPSBnZXRSZXZlYWxlZENoYXRSb29tcztcclxuXHRcdHJzLnVwZGF0ZUNoYXRSb29tID0gdXBkYXRlQ2hhdFJvb207XHJcblx0XHRycy5kZWxldGVDaGF0Um9vbSA9IGRlbGV0ZUNoYXRSb29tO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUNoYXRSb29tKGlkKXtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9kZWxldGUvJyArIGlkKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHNlbmRDaGF0TWVzc2FnZShjaGF0KSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2NoYXQvY3JlYXRlLycgKyBjaGF0LnJvb21JZCwgY2hhdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2hhdE1lc3NhZ2VzKGNoYXRSb29tSWQscGFyYW1zKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdC9nZXRDaGF0cy8nICsgY2hhdFJvb21JZCx7cGFyYW1zOnBhcmFtc30pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRSb29tKHVzZXIpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9nZXQvJyArIHVzZXIpO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldEFsbENoYXRSb29tcyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnJldmVhbGVkID0gZmFsc2U7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9hbGwvJyx7cGFyYW1zOnBhcmFtc30pO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFJldmVhbGVkQ2hhdFJvb21zKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmV2ZWFsZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdFJvb20vYWxsLycse3BhcmFtczpwYXJhbXN9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDaGF0Um9vbShpZCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwrJ2NoYXRSb29tL3VwZGF0ZS8nK2lkKTtcclxuXHRcdH1cclxuXHJcblx0XHRcclxuXHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4ndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcpLmZhY3RvcnkoJ1NvY2tldCcsIFsnc29ja2V0RmFjdG9yeScsJ2hvbWVTZXJ2aWNlJyxTb2NrZXRGYWN0b3J5XSk7XG4gICAgXG4gICAgZnVuY3Rpb24gU29ja2V0RmFjdG9yeShzb2NrZXRGYWN0b3J5LGhvbWVTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBzb2NrZXRGYWN0b3J5KHtcbiAgICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgICBpb1NvY2tldDogaW8uY29ubmVjdChob21lU2VydmljZS5iYXNlVVJMKVxuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4ndXNlIHN0cmljdCc7XG5cblxuXG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcpXG5cdC5mYWN0b3J5KCdTb2NrZXRVc2VyU2VydmljZScsIFsnc29ja2V0RmFjdG9yeScsJ3VzZXJEYXRhJywnaG9tZVNlcnZpY2UnLHNvY2tldEZhY3RvcnlGdW5jdGlvbl0pO1xuICAgIGZ1bmN0aW9uIHNvY2tldEZhY3RvcnlGdW5jdGlvbihzb2NrZXRGYWN0b3J5LHVzZXJEYXRhLGhvbWVTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBzb2NrZXRGYWN0b3J5KHtcbiAgICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgICBpb1NvY2tldDogaW8uY29ubmVjdChob21lU2VydmljZS5iYXNlVVJMK3VzZXJEYXRhLmdldFVzZXIoKS5faWQpXG4gICAgICAgIH0pO1xuICAgIH1cbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoXCJBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGF1dGhcIiwgXCIkc3RhdGVcIiwgXCJ1c2VyRGF0YVwiLCAndXNlckxvY2F0aW9uU2VydmljZScsICckaW9uaWNMb2FkaW5nJywgJ1JlcXVlc3RzU2VydmljZScsICckaW9uaWNNb2RhbCcsIEF1dGhlbnRpY2F0aW9uQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIoJHNjb3BlLCAkYXV0aCwgJHN0YXRlLCB1c2VyRGF0YSwgdXNlckxvY2F0aW9uU2VydmljZSwgJGlvbmljTG9hZGluZywgUmVxdWVzdHNTZXJ2aWNlLCAkaW9uaWNNb2RhbCkge1xyXG5cdFx0dmFyIHBoYyA9IHRoaXM7XHJcblxyXG5cdFx0cGhjLmlzQXV0aCA9ICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0aWYgKHBoYy5pc0F1dGgpIHtcclxuXHRcdFx0JHN0YXRlLmdvKCdob21lLnBvc3QuYWxsJyk7XHJcblx0XHR9XHJcblx0XHRpZiAod2luZG93LmNvcmRvdmEpIHtcclxuXHRcdFx0cGhjLndlYlNpZ25JbiA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRwaGMuYXV0aExvZ291dCA9IGF1dGhMb2dvdXQ7XHJcblx0XHRwaGMubG9hZFBvc3RNb2RhbCA9IGxvYWRQb3N0TW9kYWw7XHJcblxyXG5cclxuXHRcdHBoYy5zb2NpYWxBdXRoZW50aWNhdGUgPSBzb2NpYWxBdXRoZW50aWNhdGU7XHJcblx0XHQkc2NvcGUuZ29vZ2xlU2lnbkluID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuXHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdyh7XHJcblx0XHRcdFx0dGVtcGxhdGU6ICdMb2dnaW5nIGluLi4uJ1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHdpbmRvdy5wbHVnaW5zLmdvb2dsZXBsdXMubG9naW4oe1xyXG5cdFx0XHRcdFx0d2ViQ2xpZW50SWQ6ICc3OTIwNjg1NjUwMDctcmRtN25ybGZtYzI5anZscW81bDB0a2d1NmNpMHZib2EuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nXHJcblxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZnVuY3Rpb24odXNlcl9kYXRhKSB7XHJcblx0XHRcdFx0XHR2YXIgcHJvZmlsZSA9IHt9O1xyXG5cdFx0XHRcdFx0cHJvZmlsZS5pZCA9IHVzZXJfZGF0YS51c2VySWQ7XHJcblx0XHRcdFx0XHRwcm9maWxlLmRpc3BsYXlOYW1lID0gdXNlcl9kYXRhLmRpc3BsYXlOYW1lO1xyXG5cdFx0XHRcdFx0cHJvZmlsZS5pbWFnZVVybCA9IHVzZXJfZGF0YS5pbWFnZVVybDtcclxuXHRcdFx0XHRcdFJlcXVlc3RzU2VydmljZS5nb29nbGVTaWduSW4ocHJvZmlsZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdFx0XHQkYXV0aC5zZXRUb2tlbihyZXNwb25zZS5kYXRhLnRva2VuKTtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzZnVsQXV0aGVudGljYXRpb24ocmVzcG9uc2UuZGF0YS51c2VyKTtcclxuXHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmdW5jdGlvbihtc2cpIHtcclxuXHRcdFx0XHRcdGFsZXJ0KFwibWlzc2VkXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cobXNnKTtcclxuXHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBzdWNjZXNzZnVsQXV0aGVudGljYXRpb24odXNlcikge1xyXG5cdFx0XHR1c2VyRGF0YS5zZXRVc2VyKHVzZXIpO1xyXG5cdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLnNldFVzZXJMb2NhdGlvbigpO1xyXG5cdFx0XHRSZXF1ZXN0c1NlcnZpY2UucmVnaXN0ZXIoKTtcclxuXHJcblx0XHRcdGlmICh1c2VyLmRldmljZV90b2tlbikge1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS5wb3N0LnBvcHVsYXInKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlckVkaXRQYWdlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzb2NpYWxBdXRoZW50aWNhdGUocHJvdmlkZXIpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdCRhdXRoLmF1dGhlbnRpY2F0ZShwcm92aWRlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHN1Y2Nlc3NmdWxBdXRoZW50aWNhdGlvbihyZXNwb25zZS5kYXRhLnVzZXIpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly8kaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRQb3N0TW9kYWwoKSB7XHJcblx0XHRcdCRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnYXBwL2hvbWUvdmlld3MvcG9saWN5Lmh0bWwnLCB7XHJcblx0XHRcdFx0c2NvcGU6ICRzY29wZVxyXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XHJcblx0XHRcdFx0JHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0JHNjb3BlLm1vZGFsLnNob3coKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIGF1dGhMb2dvdXQoKSB7XHJcblx0XHRcdCRhdXRoLmxvZ291dCgpO1xyXG5cdFx0XHR1c2VyRGF0YS5yZW1vdmVVc2VyKCk7XHJcblx0XHRcdCRzdGF0ZS5nbygnYXV0aGVudGljYXRlJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3VzZXJEYXRhJywgJ1NvY2tldCcsICd0b2FzdHInLCAnJGlvbmljVGFic0RlbGVnYXRlJywnJHJvb3RTY29wZScsSG9tZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHVzZXJEYXRhLCBTb2NrZXQsIHRvYXN0ciwkaW9uaWNUYWJzRGVsZWdhdGUsJHJvb3RTY29wZSkge1xyXG5cdFx0dmFyIGhjID0gdGhpcztcclxuXHRcdGhjLmJhZGdlVmFsdWUgPSAnJztcclxuXHRcdGhjLmNoYXRDbGlja2VkID0gY2hhdENsaWNrZWQ7XHJcblx0XHQvKlxyXG5cdFx0XHRDb2RlIGZvciBoaWRpbmcgdGhlIGhlYWRlciBvbiBzY3JvbGwgdXAgYW5kIGRvd25cclxuXHRcdCovXHJcblx0XHQkcm9vdFNjb3BlLnNsaWRlSGVhZGVyID0gZmFsc2U7XHJcbiAgXHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXJQcmV2aW91cyA9IDA7XHJcblx0XHRTb2NrZXQub24oXCJjb25uZWN0XCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgnYWRkVG9TaW5nbGVSb29tJywgeyAncm9vbUlkJzogdXNlckRhdGEuZ2V0VXNlcigpLl9pZCB9KTtcclxuXHRcdFx0U29ja2V0Lm9uKCduZXdNZXNzYWdlUmVjZWl2ZWQnLCBtZXNzYWdlUmVjZWl2ZWQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpIHtcclxuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcgPSBtZXNzYWdlLm1lc3NhZ2U7XHJcblx0XHRcdGlmKG1lc3NhZ2UudHlwZSAmJiBtZXNzYWdlLnR5cGU9PSdpbWcnKXtcclxuXHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gJ05ldyBpbWFnZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHVzZXJOYW1lID0gbWVzc2FnZS51c2VyLmFub25OYW1lfHxtZXNzYWdlLnVzZXIuZmFjZWJvb2tOYW1lIHx8bWVzc2FnZS51c2VyLmdvb2dsZU5hbWUgO1xyXG5cdFx0XHRpZiAobWVzc2FnZS51c2VyLl9pZCA9PSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkKSB7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICgkc3RhdGUuY3VycmVudC5uYW1lID09ICdjaGF0Qm94Jykge1xyXG5cclxuXHRcdFx0XHRcdGlmICgkc3RhdGUucGFyYW1zLnVzZXIgIT0gbWVzc2FnZS51c2VyLl9pZCkge1xyXG5cdFx0XHRcdFx0XHR0b2FzdHIuaW5mbygnPHA+JyArIHVzZXJOYW1lKyAnPC9wPjxwPicgKyBtZXNzYWdlU3RyaW5nICsgJzwvcD4nLCB7XHJcblx0XHRcdFx0XHRcdFx0YWxsb3dIdG1sOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdG9uVGFwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnY2hhdEJveCcsIHsgdXNlcjogbWVzc2FnZS51c2VyLl9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRvYXN0ci5pbmZvKCc8cD4nICsgdXNlck5hbWUgKyAnPC9wPjxwPicgKyBtZXNzYWdlU3RyaW5nICsgJzwvcD4nLCB7XHJcblx0XHRcdFx0XHRcdGFsbG93SHRtbDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0b25UYXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnY2hhdEJveCcsIHsgdXNlcjogbWVzc2FnZS51c2VyLl9pZCB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRoYy5iYWRnZVZhbHVlID0gMTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGhjLmdvRm9yd2FyZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIHNlbGVjdGVkID0gJGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdGVkSW5kZXgoKTtcclxuXHRcdFx0aWYgKHNlbGVjdGVkICE9IC0xKSB7XHJcblx0XHRcdFx0aWYoc2VsZWN0ZWQ9PT0xKXtcclxuXHRcdFx0XHRcdCRpb25pY1RhYnNEZWxlZ2F0ZS5zZWxlY3Qoc2VsZWN0ZWQgKyAyKTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdChzZWxlY3RlZCArIDEpO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGhjLmdvQmFjayA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0dmFyIHNlbGVjdGVkID0gJGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdGVkSW5kZXgoKTtcclxuXHRcdFx0aWYgKHNlbGVjdGVkICE9PSAtMSAmJiBzZWxlY3RlZCAhPT0gMCkge1xyXG5cdFx0XHRcdGlmKHNlbGVjdGVkPT09Myl7XHJcblx0XHRcdFx0XHQkaW9uaWNUYWJzRGVsZWdhdGUuc2VsZWN0KHNlbGVjdGVkIC0gMik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHQkaW9uaWNUYWJzRGVsZWdhdGUuc2VsZWN0KHNlbGVjdGVkIC0gMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNoYXRDbGlja2VkKCkge1xyXG5cdFx0XHRoYy5iYWRnZVZhbHVlID0gJyc7XHJcblx0XHRcdC8vJHN0YXRlLmdvKCdob21lLmNoYXQuYWxsJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdC5kaXJlY3RpdmUoJ2Rpc3RhbmNlVmlldycsIFsncG9zdFNlcnZpY2UnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbihwb3N0U2VydmljZSwgJHRpbWVvdXQpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2hvbWUvdmlld3MvZGlzdGFuY2VWaWV3VGVtcGxhdGUuaHRtbCcsXHJcblx0XHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uQ29yZHM6ICc9J1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoZ2V0RGlzdGFuY2UsIDEwMDApO1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGdldERpc3RhbmNlKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoc2NvcGUucG9zaXRpb25Db3Jkcykge1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLmRpc3RhbmNlT2JqID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHNjb3BlLnBvc2l0aW9uQ29yZHNbMV0sXHJcblx0XHRcdFx0XHRcdFx0XHRsb25naXR1ZGU6IHNjb3BlLnBvc2l0aW9uQ29yZHNbMF0sXHJcblxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0cG9zdFNlcnZpY2UuZ2V0RGlzdGFuY2Uoc2NvcGUuZGlzdGFuY2VPYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iai5kaXN0YW5jZSA9IHJlcyArICcgbWknO1xyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuZGlzdGFuY2VPYmouZGlzdGFuY2UgPSAnJztcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLmRpc3RhbmNlT2JqLmRpc3RhbmNlID0gJyc7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1dKVxyXG5cdFx0LmRpcmVjdGl2ZSgnaW9uaWNDdXN0b21TcGlubmVyJyxbaW9uaWNDdXN0b21TcGlubmVyXSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gaW9uaWNDdXN0b21TcGlubmVyKCl7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvaG9tZS92aWV3cy9pb25pY0N1c3RvbVNwaW5uZXIuaHRtbCdcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdC8qLmRpcmVjdGl2ZSgnZXhwYW5kaW5nVGV4dGFyZWEnLCBbZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ21pbi1oZWlnaHQnLCAnMCcpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdyZXNpemUnLCAnbm9uZScpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdvdmVyZmxvdy15JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0c2V0SGVpZ2h0KDApO1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQpO1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHNldEhlaWdodChoZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdtYXgtaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQoKSB7XHJcblx0XHRcdFx0XHRcdHNldEhlaWdodCgwKTtcclxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbEhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudClbMF1cclxuXHRcdFx0XHRcdFx0XHQuc2Nyb2xsSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRpZiAoc2Nyb2xsSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXRIZWlnaHQoc2Nyb2xsSGVpZ2h0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpWzBdLnZhbHVlO1xyXG5cdFx0XHRcdFx0fSwgc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1dKSovXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0dmFyIGltYWdlTW9kYWwgPSBmdW5jdGlvbigkaW9uaWNNb2RhbCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHJcblx0XHRcdFx0aW1hZ2VNb2RhbDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSkge1xyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBzaG93SW1hZ2VNb2RhbChpbWFnZSkge1xyXG5cdFx0XHRcdFx0bG9hZE1vZGFsKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRJbWFnZSA9IGltYWdlO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUubW9kYWwuc2hvdygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gbG9hZE1vZGFsKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnYXBwL2NoYXQvdmlld3MvY2hhdEltYWdlTW9kYWwuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6ICRzY29wZVxyXG5cdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUubW9kYWwgPSBtb2RhbDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdHNob3dJbWFnZU1vZGFsKCRzY29wZS5pbWFnZU1vZGFsKTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9O1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJykuZGlyZWN0aXZlKCdrZWVwU2Nyb2xsJywgW1xyXG5cdFx0JyRzdGF0ZScsICckdGltZW91dCcsICdTY3JvbGxQb3NpdGlvbnMnLCAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxyXG5cdFx0ZnVuY3Rpb24oJHN0YXRlLCAkdGltZW91dCwgU2Nyb2xsUG9zaXRpb25zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUpIHtcclxuXHRcdFx0XHRcdHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0U2Nyb2xsUG9zaXRpb25zWyRzdGF0ZS5jdXJyZW50Lm5hbWVdID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgb2Zmc2V0O1xyXG5cdFx0XHRcdFx0XHRvZmZzZXQgPSBTY3JvbGxQb3NpdGlvbnNbJHN0YXRlLmN1cnJlbnQubmFtZV07XHJcblx0XHRcdFx0XHRcdGlmIChvZmZzZXQpIHtcclxuXHRcdFx0XHRcdFx0XHQkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUbyhvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRdKS5mYWN0b3J5KCdTY3JvbGxQb3NpdGlvbnMnLCBbXHJcblx0XHRmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cdFx0fVxyXG5cdF0pLmRpcmVjdGl2ZSgnaXNGb2N1c2VkJywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzY29wZTogeyB0cmlnZ2VyOiAnQGlzRm9jdXNlZCcgfSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcclxuXHJcblx0XHRcdFx0c2NvcGUuJHdhdGNoKCd0cmlnZ2VyJywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG5cdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vYWxlcnQoXCJoZWxsb1wiKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1dKS5kaXJlY3RpdmUoJ2xhenlJbWcnLCBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdC8qICAgICA8bGF6eS1pbWcgc3JjLWxhcmdlPVwiaHR0cDovL3lvdWJha3UuY29tL3VwbG9hZHMvcGxhY2VzX2ltYWdlcy9sYXJnZS97e2ltZ319XCIgc3JjLXNtYWxsPVwiaHR0cDovL3lvdWJha3UuY29tL2F0aHVtYi5waHA/ZmlsZT17e2ltZ319JnNtYWxsXCIgLz5cclxuXHRcdFx0ICovXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImxhenktaW1nXCI+PGRpdiBjbGFzcz1cInNtXCI+PGltZyBzcmM9XCJ7e2ltZ1NtYWxsfX1cIiBjbGFzcz1cInNtYWxsXCIvPjwvZGl2PjxkaXYgc3R5bGU9XCJwYWRkaW5nLWJvdHRvbTogNzUlO1wiPjwvZGl2PjxpbWcgc3JjPVwie3tpbWdMYXJnZX19XCIgY2xhc3M9XCJsYXJnZVwiLz48L2Rpdj4nLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGltZ0xhcmdlOiAnQHNyY0xhcmdlJyxcclxuXHRcdFx0XHRpbWdTbWFsbDogJ0BzcmNTbWFsbCdcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0dmFyIGltZ1NtYWxsID0gbmV3IEltYWdlKCk7XHJcblx0XHRcdFx0dmFyIGltZ0xhcmdlID0gbmV3IEltYWdlKCk7XHJcblx0XHRcdFx0aW1nU21hbGwuc3JjID0gc2NvcGUuaW1nU21hbGw7XHJcblx0XHRcdFx0aW1nU21hbGwub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRlbGVtLmNoaWxkcmVuKCcuc20nKS5maW5kKCdpbWcnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xyXG5cdFx0XHRcdFx0aW1nTGFyZ2Uuc3JjID0gc2NvcGUuaW1nTGFyZ2U7XHJcblx0XHRcdFx0XHRpbWdMYXJnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5maW5kKCdpbWcnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0pLmRpcmVjdGl2ZSgnaW1hZ2VNb2RhbCcsIFsnJGlvbmljTW9kYWwnLCBpbWFnZU1vZGFsXSlcclxuXHQuZGlyZWN0aXZlKCd3YXRjaFNjcm9sbCcsWyckcm9vdFNjb3BlJyx3YXRjaFNjcm9sbF0pO1xyXG5cclxuXHRmdW5jdGlvbiB3YXRjaFNjcm9sbCgkcm9vdFNjb3BlKXtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLGVsZW0pe1xyXG5cclxuXHRcdFx0XHR2YXIgc3RhcnQgPSAwO1xyXG5cdFx0XHRcdHZhciB0aHJlc2hvbGQgPSAxNTA7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdzY3JvbGwnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgc2Nyb2xsVG9wID0gZS5zcmNFbGVtZW50LnNjcm9sbFRvcDtcclxuXHRcdFx0XHRcdGlmKHNjcm9sbFRvcC1zdGFydCA+IHRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmKCRyb290U2NvcGUuc2xpZGVIZWFkZXJQcmV2aW91cyA+IHNjcm9sbFRvcCAtIHN0YXJ0KXtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS5zbGlkZUhlYWRlciA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS5zbGlkZUhlYWRlclByZXZpb3VzID0gc2Nyb2xsVG9wIC0gc3RhcnQ7XHJcblx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LnNlcnZpY2UoJ2hvbWVTZXJ2aWNlJyxbJyRodHRwJywnVXBsb2FkJyxIb21lU2VydmljZV0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIEhvbWVTZXJ2aWNlKCRodHRwLFVwbG9hZCl7XHJcblx0XHRcdC8vdGhpcy5iYXNlVVJMID0gJ2h0dHBzOi8vcGV0YWxjaGF0LWltYW5qaXRocmVkZHkuYzl1c2Vycy5pby8nO1xyXG5cdFx0XHR0aGlzLmJhc2VVUkwgPSAnaHR0cHM6Ly9iYW5hbmEtc3VycHJpc2UtMzEzMzIuaGVyb2t1YXBwLmNvbS8nO1xyXG5cdFx0XHR0aGlzLmRlbGV0ZVVwbG9hZCA9IGRlbGV0ZVVwbG9hZDtcclxuXHRcdFx0dGhpcy5zdWJtaXRVcGxvYWQgPSBzdWJtaXRVcGxvYWQ7XHJcblx0XHRcdHRoaXMuZ2V0SW1hZ2VzID0gZ2V0SW1hZ2VzO1xyXG5cdFx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRcdGZ1bmN0aW9uIGRlbGV0ZVVwbG9hZChpZCl7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhhdC5iYXNlVVJMKyd1cGxvYWQvZGVsZXRlVXBsb2FkJywgeydkYXRhJyA6IHsncHVibGljX2lkJzppZH19ICk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0SW1hZ2VzKGltYWdlVGV4dCl7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coaW1hZ2VUZXh0KTtcclxuXHRcdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KHRoYXQuYmFzZVVSTCsndXBsb2FkL2dldEltYWdlcycse3BhcmFtczp7aW1hZ2VUZXh0OmltYWdlVGV4dH19KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmdW5jdGlvbiBzdWJtaXRVcGxvYWQoZmlsZSl7XHJcblx0XHRcdFx0cmV0dXJuIFVwbG9hZC51cGxvYWQoe1xyXG5cdFx0XHRcdFx0dXJsOiB0aGF0LmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZElkJyxcclxuXHRcdFx0XHRcdGRhdGE6IHsgZmlsZTogZmlsZSB9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdFxyXG5cdFx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0XHQuc2VydmljZSgnUmVxdWVzdHNTZXJ2aWNlJywgWydob21lU2VydmljZScsICckaHR0cCcsICckcScsICckaW9uaWNMb2FkaW5nJywgJyRjb3Jkb3ZhUHVzaFY1JywgJyRhdXRoJywgUmVxdWVzdHNTZXJ2aWNlXSk7XHJcblx0XHJcblxyXG5cdGZ1bmN0aW9uIFJlcXVlc3RzU2VydmljZShob21lU2VydmljZSwgJGh0dHAsICRxLCAkaW9uaWNMb2FkaW5nLCAkY29yZG92YVB1c2hWNSwgJGF1dGgpIHtcclxuXHJcblx0XHR2YXIgYmFzZV91cmwgPSBob21lU2VydmljZS5iYXNlVVJMO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHJlZ2lzdGVyKCkge1xyXG5cclxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBvcHRpb25zID0ge1xyXG5cdFx0XHRcdGFuZHJvaWQ6IHtcclxuXHRcdFx0XHRcdHNlbmRlcklEOiBcIjY3OTQ2MTg0MDExNVwiLFxyXG5cdFx0XHRcdFx0dmlicmF0ZTogXCJ0cnVlXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGJyb3dzZXI6e1xyXG5cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGlvczoge1xyXG5cdFx0XHRcdFx0YWxlcnQ6IFwidHJ1ZVwiLFxyXG5cdFx0XHRcdFx0YmFkZ2U6IFwidHJ1ZVwiLFxyXG5cdFx0XHRcdFx0c291bmQ6IFwidHJ1ZVwiXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR3aW5kb3dzOiB7fVxyXG5cdFx0XHR9O1xyXG5cdFx0XHQvKmlmKHZpYnJhdGUpe1xyXG5cdFx0XHRcdC8vb3B0aW9ucy5hbmRyb2lkLnZpYnJhdGUgPSB0cnVlO1xyXG5cdFx0XHRcdC8vb3B0aW9ucy5hbmRyb2lkLmZvcmNlU2hvdyA9dHJ1ZTtcclxuXHRcdFx0fSovXHJcblx0XHRcdFxyXG5cdFx0XHQkY29yZG92YVB1c2hWNS5pbml0aWFsaXplKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly8gc3RhcnQgbGlzdGVuaW5nIGZvciBuZXcgbm90aWZpY2F0aW9uc1xyXG5cdFx0XHRcdCRjb3Jkb3ZhUHVzaFY1Lm9uTm90aWZpY2F0aW9uKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImluc2lkZWVlZSBub3RpZmljYXRpb25cIik7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIHN0YXJ0IGxpc3RlbmluZyBmb3IgZXJyb3JzXHJcblx0XHRcdFx0JGNvcmRvdmFQdXNoVjUub25FcnJvcigpO1xyXG5cclxuXHRcdFx0XHQvLyByZWdpc3RlciB0byBnZXQgcmVnaXN0cmF0aW9uSWRcclxuXHRcdFx0XHRpZiAoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuXHRcdFx0XHRcdCRjb3Jkb3ZhUHVzaFY1LnJlZ2lzdGVyKCkudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb25JZCkge1xyXG5cdFx0XHRcdFx0XHQkaHR0cC5wb3N0KGJhc2VfdXJsICsgJ25vdGlmaWNhdGlvbi9yZWdpc3RlcicsIHsgJ2RldmljZV90b2tlbic6IHJlZ2lzdHJhdGlvbklkIH0pXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChkYXRhKTtcclxuXHRcdFx0XHRcdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnb29nbGVTaWduSW4ocHJvZmlsZSl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGJhc2VfdXJsKydhdXRoZW50aWNhdGUvYXV0aC9uYXRpdmVHb29nbGUnLCB7IHByb2ZpbGU6IHByb2ZpbGUgfSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnb29nbGVTaWduSW46IGdvb2dsZVNpZ25JbixcclxuXHRcdFx0cmVnaXN0ZXI6IHJlZ2lzdGVyXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhdXRoTW9kQXBwLnVzZXJEYXRhXG4gKiBAZGVzY3JpcHRpb25cbiAqICMgdXNlckRhdGFcbiAqIEZhY3RvcnkgaW4gdGhlIGF1dGhNb2RBcHAuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcbiAgLmZhY3RvcnkoJ3VzZXJEYXRhJyxbJyR3aW5kb3cnLCckc3RhdGUnLCckYXV0aCcsJyRodHRwJywnaG9tZVNlcnZpY2UnLHVzZXJEYXRhXSk7XG5cbiAgZnVuY3Rpb24gdXNlckRhdGEoJHdpbmRvdywkc3RhdGUsJGF1dGgsJGh0dHAsaG9tZVNlcnZpY2UpIHtcbiAgICB2YXIgc3RvcmFnZSA9ICR3aW5kb3cubG9jYWxTdG9yYWdlO1xuICAgIHZhciBjYWNoZWRVc2VyPXt9O1xuICAgIHZhciBvYmoxID0gIHtcbiAgICAgIHNldFVzZXI6IGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIFxuICAgICAgICBpZih1c2VyKXtcbiAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oJ3VzZXInLEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuXG4gICAgICAgICAgdmFyIHVzZXJJZCA9ICRhdXRoLmdldFBheWxvYWQoKS5zdWI7XG4gICAgICAgICAgaWYodXNlcklkKXtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCsndXNlci9nZXQvJyt1c2VySWQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8qaWYob2JqMS5pc1VzZXJFeGlzdHMoKSl7XG4gICAgICAgICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCd1c2VyJyxKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuXG4gICAgICB9LFxuICAgICAgZ2V0VXNlcjogZnVuY3Rpb24oKXtcblxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlVXNlcjogZnVuY3Rpb24oKXtcbiAgICAgICAgY2FjaGVkVXNlciA9IG51bGw7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xuICAgICAgfSxcbiAgICAgIGlzVXNlckV4aXN0czogZnVuY3Rpb24oKXtcbiAgICAgICAgaWYob2JqMS5nZXRVc2VyKCkpe1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBvYmoxO1xuICB9XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwubWVzc2FnZScpXHJcblxyXG5cdC5jb250cm9sbGVyKCdNZXNzYWdlUm9vbUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckdGltZW91dCcsICdTb2NrZXQnLCAnJHN0YXRlUGFyYW1zJywgJ3VzZXJEYXRhJywgJ2hvbWVTZXJ2aWNlJywgJ21lc3NhZ2VSb29tU2VydmljZScsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsICd1c2VyU2VydmljZScsICdVcGxvYWQnLCAnJGlvbmljTG9hZGluZycsICckd2luZG93JywnbWVzc2FnZVJvb20nLCBNZXNzYWdlUm9vbUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTWVzc2FnZVJvb21Db250cm9sbGVyKCRzY29wZSwgJHRpbWVvdXQsIFNvY2tldCwgJHN0YXRlUGFyYW1zLCB1c2VyRGF0YSwgaG9tZVNlcnZpY2UsIG1lc3NhZ2VSb29tU2VydmljZSwgJGlvbmljU2Nyb2xsRGVsZWdhdGUsIHVzZXJTZXJ2aWNlLCBVcGxvYWQsICRpb25pY0xvYWRpbmcsICR3aW5kb3csbWVzc2FnZVJvb20pIHtcclxuXHRcdHZhciBjYmMgPSB0aGlzO1xyXG5cdFx0XHJcblx0XHRjYmMuY3VycmVudFVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkO1xyXG5cdFx0XHJcblx0XHRjYmMubWVzc2FnZUxpc3QgPSBbXTtcclxuXHRcdGNiYy5tZXNzYWdlUm9vbSA9IG1lc3NhZ2VSb29tO1xyXG5cdFx0XHJcblx0XHRjYmMubG9hZE1vcmVNZXNzYWdlcyA9IGxvYWRNb3JlTWVzc2FnZXM7XHJcblx0XHRjYmMuc2Nyb2xsQm90dG9tID0gc2Nyb2xsQm90dG9tO1xyXG5cdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRjYmMuZm9ybWF0TWVzc2FnZURhdGUgPSBmdW5jdGlvbihtZXNzYWdlRGF0ZSl7XHJcblx0XHRcdHJldHVybiB3aW5kb3cubW9tZW50KG1lc3NhZ2VEYXRlKS5mb3JtYXQoXCIgTU1NIERvLCBoOm1tIGFcIik7XHJcblx0XHR9O1xyXG5cdFx0Y2JjLnBhcmFtcyA9IHtcclxuXHRcdFx0cGFnZTogMSxcclxuXHRcdFx0bGltaXQ6IDVcclxuXHRcdH07XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlTWVzc2FnZXMoKSB7XHJcblx0XHRcdGNiYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRNZXNzYWdlcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gc2Nyb2xsQm90dG9tKCkge1xyXG5cdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxCb3R0b20odHJ1ZSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRNZXNzYWdlcygpIHtcclxuXHRcdFx0bWVzc2FnZVJvb21TZXJ2aWNlLmdldE1lc3NhZ2VzKG1lc3NhZ2VSb29tLl9pZCxjYmMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZ2V0IG1lc3NhZ2VzXCIpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlcyk7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlcy5kYXRhLmRvY3MsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuXHRcdFx0XHRcdGNiYy5tZXNzYWdlTGlzdC51bnNoaWZ0KG1lc3NhZ2UpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRnZXRNZXNzYWdlcygpO1xyXG5cdFx0XHRzb2NrZXRKb2luKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBzb2NrZXRKb2luKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgnYWRkVG9NZXNzYWdldFJvb20nLCB7ICdyb29tSWQnOiBtZXNzYWdlUm9vbS5faWQgfSk7XHJcblx0XHRcdFNvY2tldC5vbigncm9vbU1lc3NhZ2VSZWNlaXZlZCcsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcInJlY2VpdmVkIG1lc3NhZ2VcIik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cobWVzc2FnZSk7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VMaXN0LnB1c2gobWVzc2FnZSk7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRjYmMuY2xpY2tTdWJtaXQgPSBmdW5jdGlvbigkZXZlbnQpIHtcclxuXHJcblx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGNiYy5mb2N1c0lucHV0ID0gdHJ1ZTtcclxuXHRcdFx0XHJcblx0XHRcdGlmICh3aW5kb3cuY29yZG92YSApIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkLnNob3coKTtcclxuXHRcdFx0XHQvL3dpbmRvdy5jb3Jkb3ZhLmZpcmVXaW5kb3dFdmVudCgnbmF0aXZlLmtleWJvYXJkc2hvdycsIHsna2V5Ym9hcmRIZWlnaHQnOiArMjYyfSk7XHJcbiAgICAgICAgICAgIFx0XHRcdFx0d2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5pc1Zpc2libGUgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vc2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdHZhciBtZXNzYWdlT2JqID0geyAnbWVzc2FnZSc6IGNiYy5teU1zZywgJ3Jvb21JZCc6IGNiYy5tZXNzYWdlUm9vbS5faWQgfTtcclxuXHJcblx0XHRcdG1lc3NhZ2VSb29tU2VydmljZS5zZW5kTWVzc2FnZShtZXNzYWdlT2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGNiYy5teU1zZyA9ICcnO1xyXG5cdFx0XHRcdC8vY2JjLm1lc3NhZ2VMaXN0LnB1c2gocmVzLmRhdGEuc2F2ZWRNZXNzYWdlKTtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHRjYmMuc3VibWl0VXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IHRydWU7XHJcblx0XHRcdGNiYy5maWxlLnVwbG9hZCA9IFVwbG9hZC51cGxvYWQoe1xyXG5cdFx0XHRcdHVybDogaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1cGxvYWQvc2luZ2xlVXBsb2FkJyxcclxuXHRcdFx0XHRkYXRhOiB7IGZpbGU6IGNiYy5maWxlIH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjYmMuZmlsZS51cGxvYWQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGNiYy5maWxlLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0Y2JjLnVwbG9hZGVkSW1hZ2UgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNiYy5jYW5jZWxVcGxvYWQoKTtcclxuXHRcdFx0XHR2YXIgbWVzc2FnZU9iaiA9IHsgJ21lc3NhZ2UnOiBjYmMudXBsb2FkZWRJbWFnZSwgICdyb29tSWQnOiBjYmMubWVzc2FnZVJvb20uX2lkLCB0eXBlOiAnaW1nJyB9O1xyXG5cdFx0XHRcdG1lc3NhZ2VSb29tU2VydmljZS5zZW5kTWVzc2FnZShtZXNzYWdlT2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0XHQvL2NiYy5tZXNzYWdlTGlzdC5wdXNoKHJlcy5kYXRhLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHRcdGNiYy5jYW5jZWxVcGxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Y2JjLnNob3dUZW1wSW1hZ2UgPSBmYWxzZTtcclxuXHRcdFx0Y2JjLnRlbXBJbWFnZVVybCA9ICcnO1xyXG5cdFx0fTtcclxuXHRcdGNiYy51cGxvYWRTaW5nbGVJbWFnZSA9IGZ1bmN0aW9uKGZpbGUsIGVyckZpbGVzKSB7XHJcblx0XHRcdGNiYy5maWxlID0gZmlsZTtcclxuXHRcdFx0Y2JjLmVyckZpbGUgPSBlcnJGaWxlcyAmJiBlcnJGaWxlc1swXTtcclxuXHRcdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0XHRjYmMuc2hvd1RlbXBJbWFnZSA9IHRydWU7XHJcblx0XHRcdFx0Y2JjLnRlbXBJbWFnZVVybCA9IGZpbGU7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjYmMubGVhdmVNZXNzYWdlUm9vbSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgncmVtb3ZlRnJvbU1lc3NhZ2VSb29tJywgeyAncm9vbUlkJzogY2JjLm1lc3NhZ2VSb29tLl9pZCB9KTtcclxuXHJcblx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblxyXG5cclxuXHRcdH07XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG5cclxuLyp1c2VyU2VydmljZS5nZXRVc2VyRGV0YWlscyhjYmMucmVjZWl2ZXJVc2VySURJZCwgeyAnZmllbGRzJzogJ2Rpc3BsYXlOYW1lIGZpcnN0TmFtZScgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ0aGUgcmVjZWl2ZXJcIik7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuXHRcdFx0XHRcdGNiYy5yZWNlaXZlclVzZXJJRCA9IHJlc3BvbnNlLmRhdGEuZGlzcGxheU5hbWUgfHwgKHJlc3BvbnNlLmRhdGEuZmlyc3ROYW1lKTtcclxuXHRcdFx0XHR9KTsqL1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwubWVzc2FnZScpXHJcblx0XHQuY29udHJvbGxlcignTWVzc2FnZVJvb21MaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdtZXNzYWdlUm9vbVNlcnZpY2UnLCAnJGlvbmljTG9hZGluZycsICdTb2NrZXQnLE1lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTWVzc2FnZVJvb21MaXN0Q29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgbWVzc2FnZVJvb21TZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLFNvY2tldCkge1xyXG5cdFx0dmFyIGFjYyA9IHRoaXM7XHJcblx0XHRhY2MuZ2V0QWxsTWVzc2FnZVJvb21zID0gZ2V0QWxsTWVzc2FnZVJvb21zO1xyXG5cdFx0YWNjLmxvYWRNb3JlTWVzc2FnZXMgPSBsb2FkTW9yZU1lc3NhZ2VzO1xyXG5cdFx0YWNjLnB1bGxSZWZyZXNoTWVzc2FnZXMgPSBwdWxsUmVmcmVzaE1lc3NhZ2VzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFNvY2tldC5vbignbmV3Um9vbU1lc3NhZ2VSZWNlaXZlZCcsIG1lc3NhZ2VSZWNlaXZlZCk7XHJcblx0XHRcclxuXHRcdGFjYy5tZXNzYWdlUm9vbVBhZ2UgPSBmdW5jdGlvbihtZXNzYWdlUm9vbSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKG1lc3NhZ2VSb29tKTtcclxuXHRcdFx0aWYobWVzc2FnZVJvb20uaW50ZXJlc3Qpe1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnbWVzc2FnZVJvb21JbnRlcmVzdCcsIHsgaW50ZXJlc3Q6IG1lc3NhZ2VSb29tLmludGVyZXN0fSk7XHRcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJ5b1wiKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ21lc3NhZ2VSb29tUG9zdCcsIHsgcG9zdElkOiBtZXNzYWdlUm9vbS5wb3N0Ll9pZH0pO1x0XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9O1xyXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2Upe1xyXG5cdFx0XHR2YXIgbmV3TWVzc2FnZVJvb20gPSB7fTtcclxuXHRcdFx0bmV3TWVzc2FnZVJvb20ubmV3TWVzc2FnZSA9IHRydWU7XHJcblx0XHRcdG5ld01lc3NhZ2VSb29tLmxhc3RNZXNzYWdlID0ge1xyXG5cdFx0XHRcdF9pZDptZXNzYWdlLl9pZCxcclxuXHRcdFx0XHRtZXNzYWdlOm1lc3NhZ2UubWVzc2FnZSxcclxuXHRcdFx0XHR0eXBlOiBtZXNzYWdlLnR5cGVcclxuXHRcdFx0fTtcclxuXHRcdFxyXG5cclxuXHRcdFx0Zm9yKHZhciBjaD0wO2NoPGFjYy5tZXNzYWdlUm9vbXNMaXN0Lmxlbmd0aDtjaCsrKXtcclxuXHRcdFx0XHRpZihuZXdNZXNzYWdlUm9vbS5jcmVhdG9yMi5faWQ9PWFjYy5tZXNzYWdlUm9vbXNMaXN0W2NoXS5jcmVhdG9yMi5faWQpe1xyXG5cdFx0XHRcdFx0aWYgKG5ld01lc3NhZ2VSb29tLmxhc3RNZXNzYWdlLl9pZCAhPT0gYWNjLm1lc3NhZ2VSb29tc0xpc3RbY2hdLmxhc3RNZXNzYWdlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRhY2MubWVzc2FnZVJvb21zTGlzdC5zcGxpY2UoY2gsMSk7XHJcblx0XHRcdFx0XHRcdGFjYy5tZXNzYWdlUm9vbXNMaXN0LnVuc2hpZnQobmV3TWVzc2FnZVJvb20pO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoTWVzc2FnZXMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVNZXNzYWdlcygpIHtcclxuXHRcdFx0YWNjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldEFsbE1lc3NhZ2VSb29tcygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbE1lc3NhZ2VSb29tcygpIHtcclxuXHRcdFx0bWVzc2FnZVJvb21TZXJ2aWNlLmdldE1lc3NhZ2VSb29tcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFjYy5tZXNzYWdlUm9vbXNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFjYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhY2MubWVzc2FnZVJvb21zTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLm1lc3NhZ2VSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0QWxsTWVzc2FnZVJvb21zKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5tZXNzYWdlJylcclxuXHRcdC5zZXJ2aWNlKCdtZXNzYWdlUm9vbVNlcnZpY2UnLCBbJyRodHRwJywgJyRzdGF0ZVBhcmFtcycsICdob21lU2VydmljZScsIE1lc3NhZ2VSb29tU2VydmljZV0pO1xyXG5cclxuXHRmdW5jdGlvbiBNZXNzYWdlUm9vbVNlcnZpY2UoJGh0dHAsICRzdGF0ZVBhcmFtcywgaG9tZVNlcnZpY2UpIHtcclxuXHRcdHZhciBycyA9IHRoaXM7XHJcblx0XHRycy5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xyXG5cdFx0cnMuZ2V0TWVzc2FnZXMgPSBnZXRNZXNzYWdlcztcclxuXHRcdHJzLmdldE1lc3NhZ2VSb29tID0gZ2V0TWVzc2FnZVJvb207XHJcblx0XHRycy5nZXRNZXNzYWdlUm9vbXMgPSBnZXRNZXNzYWdlUm9vbXM7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnbWVzc2FnZS9jcmVhdGUvJyArIG1lc3NhZ2Uucm9vbUlkLCBtZXNzYWdlKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRNZXNzYWdlcyhtZXNzYWdlUm9vbUlkLHBhcmFtcykge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ21lc3NhZ2UvZ2V0TWVzc2FnZXMvJyArIG1lc3NhZ2VSb29tSWQse3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRNZXNzYWdlUm9vbShwYXJhbXMpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdtZXNzYWdlUm9vbS9nZXRSb29tLycse3BhcmFtczpwYXJhbXN9ICk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZVJvb21zKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ21lc3NhZ2VSb29tL2dldFJvb21zLycgKTtcclxuXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdFxyXG5cclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FsbFBlb3BsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncGVvcGxlU2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBBbGxQZW9wbGVDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIEFsbFBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0QWxsUGVvcGxlID0gZ2V0QWxsUGVvcGxlO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUGVvcGxlID0gcHVsbFJlZnJlc2hQZW9wbGU7XHJcblx0XHRhcGMubG9hZE1vcmVQZW9wbGUgPSBsb2FkTW9yZVBlb3BsZTtcclxuXHRcdGFwYy5zZWFyY2hDcm9zc1N1Ym1pdCA9IHNlYXJjaENyb3NzU3VibWl0O1xyXG5cdFx0YXBjLnBlb3BsZVNlYXJjaFRleHRTdWJtaXQgPSBwZW9wbGVTZWFyY2hUZXh0U3VibWl0O1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gc2VhcmNoQ3Jvc3NTdWJtaXQoKXtcclxuXHRcdFx0YXBjLnBlb3BsZVNlYXJjaFRleHQgPSAnJztcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IGZhbHNlO1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcGVvcGxlU2VhcmNoVGV4dFN1Ym1pdChpbnRlcmVzdCl7XHJcblx0XHRcdGFwYy5zaG93U2VhcmNoQ3Jvc3MgPSB0cnVlO1xyXG5cdFx0XHRpZihpbnRlcmVzdCl7XHJcblx0XHRcdFx0YXBjLnBlb3BsZVNlYXJjaFRleHQgPSBpbnRlcmVzdDtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQZW9wbGUoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxQZW9wbGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxQZW9wbGUoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0QWxsVXNlcnMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucGVvcGxlTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMjUsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZihhcGMucGVvcGxlU2VhcmNoVGV4dCl7XHJcblx0XHRcdFx0YXBjLnBhcmFtcy5pbnRlcmVzdCA9IFx0YXBjLnBlb3BsZVNlYXJjaFRleHQ7XHJcblx0XHRcdH1cclxuXHRcdFx0Z2V0QWxsUGVvcGxlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ05lYXJieVBlb3BsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncGVvcGxlU2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBOZWFyYnlQZW9wbGVDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIE5lYXJieVBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0TmVhcmJ5UGVvcGxlID0gZ2V0TmVhcmJ5UGVvcGxlO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUGVvcGxlID0gcHVsbFJlZnJlc2hQZW9wbGU7XHJcblx0XHRhcGMubG9hZE1vcmVQZW9wbGUgPSBsb2FkTW9yZVBlb3BsZTtcclxuXHRcdGFwYy5yZWxlYXNlUmFuZ2UgPSByZWxlYXNlUmFuZ2U7XHJcblx0XHRhcGMuZGlzdGFuY2UgPSAxMDtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0TmVhcmJ5UGVvcGxlKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZWxlYXNlUmFuZ2UoKXtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldE5lYXJieVBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXROZWFyYnlVc2VycyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Blb3BsZSA9IXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDI1LFxyXG5cdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0ZGlzdGFuY2U6IGFwYy5kaXN0YW5jZVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnZXROZWFyYnlQZW9wbGUoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdQZW9wbGVQYXJlbnRDb250cm9sbGVyJyxbUGVvcGxlUGFyZW50Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBQZW9wbGVQYXJlbnRDb250cm9sbGVyKCl7XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JlY2VpdmVkUGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIFJlY2VpdmVkUGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZWNlaXZlZFBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0UmVjZWl2ZWRQZW9wbGUgPSBnZXRSZWNlaXZlZFBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblxyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmVjZWl2ZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZWNlaXZlZFBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZWNlaXZlZFVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUGVvcGxlID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMTAsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnZXRSZWNlaXZlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdSZXF1ZXN0ZWRQZW9wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Blb3BsZVNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJywgUmVxdWVzdGVkUGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZXF1ZXN0ZWRQZW9wbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwZW9wbGVTZXJ2aWNlLCRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldFJlcXVlc3RlZFBlb3BsZSA9IGdldFJlcXVlc3RlZFBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblxyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmVxdWVzdGVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVxdWVzdGVkUGVvcGxlKCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlcXVlc3RlZFVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDI1LFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UmVxdWVzdGVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JldmVhbGVkUGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIFJldmVhbGVkUGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBSZXZlYWxlZFBlb3BsZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBlb3BsZVNlcnZpY2UsJGlvbmljTG9hZGluZykge1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0UmV2ZWFsZWRQZW9wbGUgPSBnZXRSZXZlYWxlZFBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblxyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQZW9wbGUoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZFBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZXZlYWxlZFVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUGVvcGxlID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMjUsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRnZXRSZXZlYWxlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5kaXJlY3RpdmUoJ3Blb3BsZUxpc3QnLCBbICd1c2VyRGF0YScscGVvcGxlTGlzdF0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gcGVvcGxlTGlzdCggdXNlckRhdGEpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9wZW9wbGVMaXN0VGVtcGxhdGUuaHRtbCcsXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0bGlzdFR5cGU6ICdAbGlzdFR5cGUnLFxyXG5cdFx0XHRcdHBlb3BsZUxpc3Q6ICc9cGVvcGxlTGlzdCcsXHJcblx0XHRcdFx0cGVvcGxlU2VhcmNoVGV4dFN1Ym1pdDogJyZwZW9wbGVTZWFyY2hUZXh0U3VibWl0J1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG5cdFx0XHRcdCRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJEYXRhLmdldFVzZXIoKTtcclxuXHRcdFx0XHQkc2NvcGUuc2V0UGVvcGxlU2VhcmNoID0gZnVuY3Rpb24oaW50ZXJlc3QsJGV2ZW50KXtcclxuXHRcdFx0XHRcdGlmKCRzY29wZS5wZW9wbGVTZWFyY2hUZXh0U3VibWl0KXtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCRzY29wZS5wZW9wbGVTZWFyY2hUZXh0U3VibWl0KHtpbnRlcmVzdDppbnRlcmVzdH0pO1x0XHJcblx0XHRcdFx0XHRcdCRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0JHNjb3BlLnJlbW92ZUFmdGVyRGVjaWRlZCA9IGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdCRzY29wZS5wZW9wbGVMaXN0LnNwbGljZShpbmRleCwxKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuZGlyZWN0aXZlKCdyZWNlaXZlZFBlb3BsZUxpc3QnLCBbICdwZW9wbGVTZXJ2aWNlJywgJyRpb25pY0xvYWRpbmcnLCByZWNlaXZlZFBlb3BsZUxpc3RdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIHJlY2VpdmVkUGVvcGxlTGlzdCggcGVvcGxlU2VydmljZSwgJGlvbmljTG9hZGluZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JlY2VpdmVkUGVvcGxlTGlzdC5odG1sJyxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAncnBjJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcblx0XHRcdFx0dmFyIHJwYyA9IHRoaXM7XHJcblx0XHRcdFx0cnBjLmdldFJlY2VpdmVkUGVvcGxlID0gZ2V0UmVjZWl2ZWRQZW9wbGU7XHJcblx0XHRcdFx0cnBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblx0XHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRmdW5jdGlvbiBnZXRSZWNlaXZlZFBlb3BsZSgpIHtcclxuXHRcdFx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVjZWl2ZWRVc2VycyhycGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHJwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0cnBjLm5vUGVvcGxlID0gIXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0XHRcdHJwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBycGMucGVvcGxlTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHRycGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRycGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cclxuXHRcdFx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRcdFx0cnBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdFx0XHRnZXRSZWNlaXZlZFBlb3BsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdFx0XHRycGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRycGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cnBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0XHRcdHJwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0XHRcdGxpbWl0OiAxMCxcclxuXHRcdFx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGdldFJlY2VpdmVkUGVvcGxlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdH1dXHJcblx0XHR9O1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5kaXJlY3RpdmUoJ3JlcXVlc3RlZFBlb3BsZUxpc3QnLCBbICdwZW9wbGVTZXJ2aWNlJywgJyRpb25pY0xvYWRpbmcnLCByZXF1ZXN0ZWRQZW9wbGVMaXN0XSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiByZXF1ZXN0ZWRQZW9wbGVMaXN0KCBwZW9wbGVTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvcmVxdWVzdGVkUGVvcGxlTGlzdC5odG1sJyxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0Y29udHJvbGxlckFzOiAncnBjJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcblx0XHRcdFx0dmFyIHJwYyA9IHRoaXM7XHJcblx0XHRcdFx0cnBjLmdldFJlcXVlc3RlZFBlb3BsZSA9IGdldFJlcXVlc3RlZFBlb3BsZTtcclxuXHRcdFx0XHRycGMubG9hZE1vcmVQZW9wbGUgPSBsb2FkTW9yZVBlb3BsZTtcclxuXHRcdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGZ1bmN0aW9uIGdldFJlcXVlc3RlZFBlb3BsZSgpIHtcclxuXHRcdFx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVxdWVzdGVkVXNlcnMocnBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRycGMucGVvcGxlTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHJwYy5ub1Blb3BsZSA9ICFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFx0XHRycGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gcnBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0cnBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cnBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0XHRcdHJwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRcdFx0Z2V0UmVxdWVzdGVkUGVvcGxlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0XHRcdHJwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHJwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRycGMucGVvcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRcdFx0cnBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDEwLFxyXG5cdFx0XHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0Z2V0UmVxdWVzdGVkUGVvcGxlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdH1dXHJcblx0XHR9O1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5kaXJlY3RpdmUoJ2NhbmNlbFJldmVhbCcsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAncmV2ZWFsU2VydmljZScsIGNhbmNlbFJldmVhbF0pXHJcblx0XHQuZGlyZWN0aXZlKCdkZWNpZGVSZXZlYWwnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ3JldmVhbFNlcnZpY2UnLCBkZWNpZGVSZXZlYWxdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVsZXRlUmV2ZWFsJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdyZXZlYWxTZXJ2aWNlJywgZGVsZXRlUmV2ZWFsXSlcclxuXHRcdC5kaXJlY3RpdmUoJ3NlbmRSZXZlYWwnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ3JldmVhbFNlcnZpY2UnLCBzZW5kUmV2ZWFsXSlcclxuXHRcdC5kaXJlY3RpdmUoJ2NyZWF0ZUJsb2NrJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdibG9ja1NlcnZpY2UnLCBjcmVhdGVCbG9ja10pXHJcblx0XHQuZGlyZWN0aXZlKCdkZWxldGVCbG9jaycsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAnYmxvY2tTZXJ2aWNlJywgZGVsZXRlQmxvY2tdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVsZXRlQ2hhdCcsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAnY2hhdFNlcnZpY2UnLCckc3RhdGUnLCBkZWxldGVDaGF0XSlcclxuXHRcdC5kaXJlY3RpdmUoJ2NoYXRQYWdlJywgWyckc3RhdGUnLCBjaGF0UGFnZV0pXHJcblx0XHQuZGlyZWN0aXZlKCd1c2VyU2V0dGluZ3MnLCBbJyRpb25pY1BvcG92ZXInLCB1c2VyU2V0dGluZ3NdKVxyXG5cdFx0LmRpcmVjdGl2ZSgndXNlclBhZ2UnLCBbJyRzdGF0ZScsIHVzZXJQYWdlXSk7XHJcblxyXG5cdFxyXG5cdGZ1bmN0aW9uIGRlbGV0ZUNoYXQoJGlvbmljQWN0aW9uU2hlZXQsIGNoYXRTZXJ2aWNlLCRzdGF0ZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRkZWxldGVDaGF0OiAnQCcsXHJcblx0XHRcdFx0YWZ0ZXJDYWxsYmFjazogJyYnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkaW9uaWNBY3Rpb25TaGVldC5zaG93KHtcclxuXHRcdFx0XHRcdFx0dGl0bGVUZXh0OiAnRGVsZXRlICcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IERlbGV0ZSBDaGF0ICdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNoYXRTZXJ2aWNlLmRlbGV0ZUNoYXRSb29tKHNjb3BlLmRlbGV0ZUNoYXQpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5hbGVydChyZXMuZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS5jaGF0LmFsbCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5hbGVydChKU09OLnN0cmluZ2lmeShlcnIpKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHVzZXJTZXR0aW5ncygkaW9uaWNQb3BvdmVyKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHVzZXJCbG9jazogJ0AnLFxyXG5cdFx0XHRcdGNoYXREZWxldGU6ICdAJyxcclxuXHRcdFx0XHRibG9ja0lkOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRzY29wZS51c2VyQmxvY2sgPSAoc2NvcGUudXNlckJsb2NrPT09XCJ0cnVlXCIpO1xyXG5cdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0c2NvcGUucG9wb3Zlci5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljUG9wb3Zlci5mcm9tVGVtcGxhdGVVcmwoJ2FwcC91c2VyL3ZpZXdzL3NldHRpbmdzVGVtcGxhdGUuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6IHNjb3BlXHJcblx0XHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uKHBvcG92ZXIpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIuc2hvdyhldmVudCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2hhdFBhZ2UoJHN0YXRlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGNoYXRQYWdlOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRzdGF0ZS5nbygnY2hhdEJveCcsIHsgdXNlcjogc2NvcGUuY2hhdFBhZ2UgfSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHVzZXJQYWdlKCRzdGF0ZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR1c2VyUGFnZTogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlclBhZ2UnLCB7IHVzZXI6IHNjb3BlLnVzZXJQYWdlIH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjYW5jZWxSZXZlYWwoJGlvbmljQWN0aW9uU2hlZXQsIHJldmVhbFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0YWZ0ZXJDYWxsYmFjazogJyYnLFxyXG5cdFx0XHRcdGNhbmNlbFJldmVhbDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkaW9uaWNBY3Rpb25TaGVldC5zaG93KHtcclxuXHRcdFx0XHRcdFx0dGl0bGVUZXh0OiAnUmV2ZWFsJyxcclxuXHRcdFx0XHRcdFx0YnV0dG9uczogW3tcclxuXHRcdFx0XHRcdFx0XHR0ZXh0OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1zaGFyZVwiPjwvaT4gQ2FuY2VsIFJldmVhbCBSZXF1ZXN0J1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0cmV2ZWFsU2VydmljZS5jYW5jZWwoc2NvcGUuY2FuY2VsUmV2ZWFsKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZGVjaWRlUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRkZWNpZGVSZXZlYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ1JldmVhbCcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IEFjY2VwdCBSZXZlYWwgUmVxdWVzdCdcclxuXHRcdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBEZW55IFJldmVhbCBSZXF1ZXN0J1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0NBTkNFTExFRCcpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuYWNjZXB0KHNjb3BlLmRlY2lkZVJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmIChpbmRleCA9PT0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV2ZWFsU2VydmljZS5pZ25vcmUoc2NvcGUuZGVjaWRlUmV2ZWFsKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZGVsZXRlUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRkZWxldGVSZXZlYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ1JldmVhbCcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IERlbGV0ZSBSZXZlYWwgJ1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0NBTkNFTExFRCcpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV2ZWFsU2VydmljZS5maW5pc2goc2NvcGUuZGVsZXRlUmV2ZWFsKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5hbGVydChKU09OLnN0cmluZ2lmeShlcnIpKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNlbmRSZXZlYWwoJGlvbmljQWN0aW9uU2hlZXQsIHJldmVhbFNlcnZpY2UpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0YWZ0ZXJDYWxsYmFjazogJyYnLFxyXG5cdFx0XHRcdHNlbmRSZXZlYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ1JldmVhbCcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IFNlbmQgUmV2ZWFsIFJlcXVlc3QnXHJcblx0XHRcdFx0XHRcdH0sIF0sXHJcblxyXG5cdFx0XHRcdFx0XHRjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuaW5pdGlhdGUoc2NvcGUuc2VuZFJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjcmVhdGVCbG9jaygkaW9uaWNBY3Rpb25TaGVldCwgYmxvY2tTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGNyZWF0ZUJsb2NrOiAnQCcsXHJcblx0XHRcdFx0YWZ0ZXJDYWxsYmFjazogJyYnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkaW9uaWNBY3Rpb25TaGVldC5zaG93KHtcclxuXHRcdFx0XHRcdFx0dGl0bGVUZXh0OiAnQmxvY2sgVXNlcicsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IEJsb2NrJ1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRibG9ja1NlcnZpY2UuY3JlYXRlKHNjb3BlLmNyZWF0ZUJsb2NrKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5hbGVydChcInVzZXIgYmxvY2tlZFwiKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHNjb3BlLmFmdGVyQ2FsbGJhY2spe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkZWxldGVCbG9jaygkaW9uaWNBY3Rpb25TaGVldCwgYmxvY2tTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRkZWxldGVCbG9jazogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkaW9uaWNBY3Rpb25TaGVldC5zaG93KHtcclxuXHRcdFx0XHRcdFx0dGl0bGVUZXh0OiAnQmxvY2snLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBVbmJsb2NrIFVzZXIgJ1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJ0NBTkNFTExFRCcpO1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YmxvY2tTZXJ2aWNlLnJlbW92ZShzY29wZS5kZWxldGVCbG9jaykudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdC8qXHJcblx0ICpTZXJ2aWNlIGZvciBnZXR0aW5nIGEgc2luZ2xlIHN0b3JlIHdpdGggaXRzIGlkXHJcblx0ICovXHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuc2VydmljZSgncGVvcGxlU2VydmljZScsIFtcIiRodHRwXCIsIFwiaG9tZVNlcnZpY2VcIiwgJ3VzZXJMb2NhdGlvblNlcnZpY2UnLCAnJHEnLCBQZW9wbGVTZXJ2aWNlXSk7XHJcblxyXG5cdC8qXHJcblx0ICogVGhpcyBzZXJ2aWMgaGFzIGEgZnVuY3Rpb24gbmFtZXMgZ2V0U3RvcmUgd2hpY2ggdGFrZXMgaWQgYXMgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgcHJvbWlzZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIFBlb3BsZVNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlLCB1c2VyTG9jYXRpb25TZXJ2aWNlLCAkcSkge1xyXG5cclxuXHRcdHRoaXMuZ2V0QWxsVXNlcnMgPSBnZXRBbGxVc2VycztcclxuXHRcdHRoaXMuZ2V0UmV2ZWFsZWRVc2VycyA9IGdldFJldmVhbGVkVXNlcnM7XHJcblx0XHR0aGlzLmdldE5lYXJieVVzZXJzID0gZ2V0TmVhcmJ5VXNlcnM7XHJcblx0XHR0aGlzLmdldFJlcXVlc3RlZFVzZXJzID0gZ2V0UmVxdWVzdGVkVXNlcnM7XHJcblx0XHR0aGlzLmdldFJlY2VpdmVkVXNlcnMgPSBnZXRSZWNlaXZlZFVzZXJzO1xyXG5cdFx0dGhpcy5nZXROZWFyYnlVc2VycyA9IGdldE5lYXJieVVzZXJzO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEFsbFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMuYWxsID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJldmVhbGVkVXNlcnMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5yZXZlYWxlZCA9IHRydWU7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZWNlaXZlZFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmVjZWl2ZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInVzZXIvZ2V0VXNlcnNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVxdWVzdGVkVXNlcnMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5yZXF1ZXN0ZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInVzZXIvZ2V0VXNlcnNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRGaWx0ZXJlZFVzZXJzKGRlZmVyLHBhcmFtcyl7XHJcblx0XHRcdCRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSkudGhlbihmdW5jdGlvbih1c2Vycykge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZSh1c2Vycyk7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldE5lYXJieVVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRpZiAocGFyYW1zLnBhZ2UgPT0gMSkge1xyXG5cdFx0XHRcdHVzZXJMb2NhdGlvblNlcnZpY2Uuc2V0VXNlckxvY2F0aW9uKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0cGFyYW1zLm5lYXJieSA9IHRydWU7XHJcblx0XHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLmdldFVzZXJMb2NhdGlvbigpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHRwYXJhbXMubGF0aXR1ZGUgPSBwb3NpdGlvbi5sYXRpdHVkZTtcclxuXHRcdFx0XHRwYXJhbXMubG9uZ2l0dWRlID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG5cdFx0XHRcdCRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSkudGhlbihmdW5jdGlvbih1c2Vycykge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZSh1c2Vycyk7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0Z2V0RmlsdGVyZWRVc2VycyhkZWZlcixwYXJhbXMpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdFx0fVxyXG5cclxuXHJcblxyXG5cclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JykuXHJcblx0c2VydmljZSgndXB2b3RlU2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLCAgVXB2b3RlU2VydmljZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gVXB2b3RlU2VydmljZSgkaHR0cCwgaG9tZVNlcnZpY2UpIHtcclxuXHRcdFxyXG5cdFx0dGhpcy5jcmVhdGVVcHZvdGUgPSBjcmVhdGVVcHZvdGU7XHJcblx0XHR0aGlzLmRlbGV0ZVVwdm90ZSA9IGRlbGV0ZVVwdm90ZTtcclxuXHRcdHRoaXMuZ2V0VXB2b3RlID0gZ2V0VXB2b3RlO1xyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRVcHZvdGUocG9zdElkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1cHZvdGUvZ2V0LycrcG9zdElkKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY3JlYXRlVXB2b3RlKHBvc3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3Vwdm90ZS9jcmVhdGUvJytwb3N0SWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZVVwdm90ZShwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1cHZvdGUvZGVsZXRlLycgKyBwb3N0SWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdFxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FsbFBvc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIEFsbFBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIEFsbFBvc3RDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRBbGxQb3N0cyA9IGdldEFsbFBvc3RzO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUG9zdHMgPSBwdWxsUmVmcmVzaFBvc3RzO1xyXG5cdFx0YXBjLmxvYWRNb3JlUG9zdHMgPSBsb2FkTW9yZVBvc3RzO1xyXG5cdFx0YXBjLnBvc3RTZWFyY2hUZXh0U3VibWl0ID0gcG9zdFNlYXJjaFRleHRTdWJtaXQ7XHJcblx0XHRhcGMuc2VhcmNoQ3Jvc3NTdWJtaXQgPSBzZWFyY2hDcm9zc1N1Ym1pdDtcclxuXHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDMsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQb3N0cygpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzZWFyY2hDcm9zc1N1Ym1pdCgpe1xyXG5cdFx0XHRhcGMucG9zdFNlYXJjaFRleHQgPSAnJztcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IGZhbHNlO1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcG9zdFNlYXJjaFRleHRTdWJtaXQoaW50ZXJlc3Qpe1xyXG5cdFx0XHRcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IHRydWU7XHJcblx0XHRcdGlmKGludGVyZXN0KXtcclxuXHRcdFx0XHRhcGMucG9zdFNlYXJjaFRleHQgPSBpbnRlcmVzdDtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGFwYy5wb3N0U2VhcmNoVGV4dCl7XHJcblx0XHRcdFx0YWN0aXZhdGUoKTtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQb3N0cygpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldEFsbFBvc3RzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5ub1Bvc3RzID0gZmFsc2U7XHRcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0QWxsUG9zdHMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogNSxcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYoYXBjLnBvc3RTZWFyY2hUZXh0KXtcclxuXHRcdFx0XHRhcGMucGFyYW1zLmludGVyZXN0ID0gXHRhcGMucG9zdFNlYXJjaFRleHQ7XHJcblx0XHRcdH1cclxuXHRcdFx0Z2V0QWxsUG9zdHMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0NyZWF0ZVBvc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsICdob21lU2VydmljZScsQ3JlYXRlUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQ3JlYXRlUG9zdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBvc3RTZXJ2aWNlLCRpb25pY0xvYWRpbmcsaG9tZVNlcnZpY2UpIHtcclxuXHRcdHZhciBjcGMgPSB0aGlzO1xyXG5cdFx0Y3BjLnN1Ym1pdFBvc3QgPSBzdWJtaXRQb3N0O1xyXG5cdFx0Y3BjLnBvc3QgPSB7fTtcclxuXHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0Y3BjLmdvQmFjayA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHRcdH07XHJcblx0XHQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiBjcGMucG9zdC5jb250ZW50O1xyXG5cdFx0fSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuXHRcdFx0aWYgKG5ld1ZhbCAmJiBuZXdWYWwubGVuZ3RoID4gMzAwKSB7XHJcblx0XHRcdFx0Y3BjLnBvc3QuY29udGVudCA9IG9sZFZhbDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3VibWl0UG9zdCgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLnN1Ym1pdFBvc3QoY3BjLnBvc3QpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUucG9zdC5sYXRlc3QnKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwb3N0IGNvbnRyb2xsZXIgZXJyb3JcIik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGNwYy5zZWxlY3RSYW5kb21JbWFnZSA9IGZ1bmN0aW9uKGltZyl7XHJcblx0XHRcdGNwYy5wb3N0LmltYWdlID0gaW1nO1xyXG5cdFx0fTtcclxuXHRcdGNwYy5sb2FkUmFuZG9tSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VUZXh0KXtcclxuXHRcdFx0Y3BjLmxvYWRpbmdSYW5kb21JbWFnZSA9IHRydWU7XHJcblx0XHRcdGNwYy5yYW5kb21JbWFnZXMgPSBbXTtcclxuXHRcdFx0aG9tZVNlcnZpY2UuZ2V0SW1hZ2VzKGltYWdlVGV4dCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0Y3BjLnJhbmRvbUltYWdlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0Y3BjLmxvYWRpbmdSYW5kb21JbWFnZSA9IGZhbHNlO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiaW1hZ2VzIGVyclwiKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjcGMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKGNwYy5wb3N0LmltYWdlSWQpe1xyXG5cdFx0XHRcdGhvbWVTZXJ2aWNlLmRlbGV0ZVVwbG9hZChjcGMucG9zdC5pbWFnZUlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlID0gJyc7XHJcblx0XHRcdFx0XHRjcGMucG9zdC5pbWFnZUlkID0gJyc7XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0Y3BjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKGZpbGUsIGVyckZpbGVzKSB7XHJcblx0XHRcdGlmKGNwYy5wb3N0LmltYWdlSWQpe1xyXG5cdFx0XHRcdGNwYy5jYW5jZWxVcGxvYWQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjcGMubG9hZGluZ0ltYWdlID0gdHJ1ZTtcclxuXHRcdFx0Y3BjLmZpbGUgPSBmaWxlO1xyXG5cdFx0XHRjcGMuZXJyRmlsZSA9IGVyckZpbGVzICYmIGVyckZpbGVzWzBdO1xyXG5cdFx0XHRpZiAoY3BjLmZpbGUpIHtcclxuXHRcdFx0XHRob21lU2VydmljZS5zdWJtaXRVcGxvYWQoY3BjLmZpbGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlID0gcmVzcG9uc2UuZGF0YS5pbWFnZTtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlSWQgPSByZXNwb25zZS5kYXRhLmltYWdlSWQ7XHJcblx0XHRcdFx0XHRjcGMubG9hZGluZ0ltYWdlID0gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0xhdGVzdFBvc3RDb250cm9sbGVyJyxbJyRzY29wZScsJyRzdGF0ZScsJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsTGF0ZXN0UG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTGF0ZXN0UG9zdENvbnRyb2xsZXIoJHNjb3BlLCRzdGF0ZSxwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nKXtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldExhdGVzdFBvc3RzID0gZ2V0TGF0ZXN0UG9zdHM7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQb3N0cyA9IHB1bGxSZWZyZXNoUG9zdHM7XHJcblx0XHRhcGMubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRMYXRlc3RQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhdGVzdFBvc3RzKCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRMYXRlc3RQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUG9zdHMgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wb3N0c0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMyxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGdldExhdGVzdFBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignTmVhcmJ5UG9zdENvbnRyb2xsZXInLFsnJHNjb3BlJywnJHN0YXRlJywncG9zdFNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJyxOZWFyYnlQb3N0Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBOZWFyYnlQb3N0Q29udHJvbGxlcigkc2NvcGUsJHN0YXRlLHBvc3RTZXJ2aWNlLCRpb25pY0xvYWRpbmcpe1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0TmVhcmJ5UG9zdHMgPSBnZXROZWFyYnlQb3N0cztcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBvc3RzID0gcHVsbFJlZnJlc2hQb3N0cztcclxuXHRcdGFwYy5sb2FkTW9yZVBvc3RzID0gbG9hZE1vcmVQb3N0cztcclxuXHRcdGFwYy5yZWxlYXNlUmFuZ2UgPSByZWxlYXNlUmFuZ2U7XHJcblx0XHRhcGMuZGlzdGFuY2UgPSAxMDtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQb3N0cygpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZWxlYXNlUmFuZ2UoKXtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXROZWFyYnlQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldE5lYXJieVBvc3RzKCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXROZWFyYnlQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUG9zdHMgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wb3N0c0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAxMCxcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cdFx0XHRcdGRpc3RhbmNlOiBhcGMuZGlzdGFuY2VcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0TmVhcmJ5UG9zdHMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdQb3B1bGFyUG9zdENvbnRyb2xsZXInLFsnJHNjb3BlJywnJHN0YXRlJywncG9zdFNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJyxQb3B1bGFyUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUG9wdWxhclBvc3RDb250cm9sbGVyKCRzY29wZSwkc3RhdGUscG9zdFNlcnZpY2UsJGlvbmljTG9hZGluZyl7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRQb3B1bGFyUG9zdHMgPSBnZXRQb3B1bGFyUG9zdHM7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQb3N0cyA9IHB1bGxSZWZyZXNoUG9zdHM7XHJcblx0XHRhcGMubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRQb3B1bGFyUG9zdHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQb3B1bGFyUG9zdHMoKSB7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldFBvcHVsYXJQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYoIXJlc3BvbnNlLmRhdGEudG90YWwpe1xyXG5cdFx0XHRcdFx0YXBjLm5vUG9zdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAzLFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UG9wdWxhclBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignUG9zdFBhcmVudENvbnRyb2xsZXInLFsnJHJvb3RTY29wZScsUG9zdFBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUG9zdFBhcmVudENvbnRyb2xsZXIoJHJvb3RTY29wZSl7XHJcblx0XHQvLyRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSB0cnVlO1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdTaW5nbGVQb3N0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwb3N0U2VydmljZScsICckc3RhdGVQYXJhbXMnLCckaW9uaWNIaXN0b3J5JywndXB2b3RlU2VydmljZScsU2luZ2xlUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gU2luZ2xlUG9zdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBvc3RTZXJ2aWNlLCRzdGF0ZVBhcmFtcywkaW9uaWNIaXN0b3J5LHVwdm90ZVNlcnZpY2UpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldFNpbmdsZVBvc3Q9IGdldFNpbmdsZVBvc3Q7XHJcblx0XHRhcGMuc3VibWl0UG9zdFVwdm90ZSA9IHN1Ym1pdFBvc3RVcHZvdGU7XHJcblx0XHRhcGMuZGVsZXRlUG9zdFVwdm90ZSA9IGRlbGV0ZVBvc3RVcHZvdGU7XHJcblx0XHRhcGMuZ2V0UG9zdERpc3RhbmNlID0gZ2V0UG9zdERpc3RhbmNlO1xyXG5cdFx0YXBjLmJhY2sgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcclxuXHRcdFx0d2luZG93Lmhpc3RvcnkuYmFjaygpOyBcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNpbmdsZVBvc3QoKSB7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldFBvc3QoJHN0YXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YXBjLnBvc3QgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGFwYy5kaXN0YW5jZU9iaiA9IHtcclxuXHRcdFx0XHRcdGxhdGl0dWRlOmFwYy5wb3N0LmxvY1sxXSxcclxuXHRcdFx0XHRcdGxvbmdpdHVkZTogYXBjLnBvc3QubG9jWzBdLFxyXG5cdFx0XHRcdFx0ZGlhdGFuY2U6IDBcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGdldFBvc3REaXN0YW5jZSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVja1Bvc3RVcHZvdGUoKXtcclxuXHRcdFx0dXB2b3RlU2VydmljZS5nZXRVcHZvdGUoYXBjLmN1cnJlbnRQb3N0KS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YXBjLnBvc3RVcHZvdGVkID0gcmVzLmRhdGEgfHwgZmFsc2U7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzdWJtaXRQb3N0VXB2b3RlKCl7XHJcblx0XHRcdHVwdm90ZVNlcnZpY2UuY3JlYXRlVXB2b3RlKGFwYy5jdXJyZW50UG9zdCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdGNoZWNrUG9zdFVwdm90ZSgpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlUG9zdFVwdm90ZSgpe1xyXG5cdFx0XHR1cHZvdGVTZXJ2aWNlLmRlbGV0ZVVwdm90ZShhcGMuY3VycmVudFBvc3QpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCl7XHJcblx0XHRcdGFwYy5jdXJyZW50UG9zdCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuXHRcdFx0Z2V0U2luZ2xlUG9zdCgpO1xyXG5cdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRQb3N0RGlzdGFuY2UoKXtcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0RGlzdGFuY2UoYXBjLmRpc3RhbmNlT2JqKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0dmFyIHBvc3RNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpO1xyXG5cdHBvc3RNb2R1bGUuZGlyZWN0aXZlKCdwb3N0U2VhcmNoTW9kYWwnLCBbJyRyb290U2NvcGUnLCckaW9uaWNNb2RhbCcsICdwb3N0U2VydmljZScscG9zdFNlYXJjaE1vZGFsXSk7XHJcblxyXG5cdGZ1bmN0aW9uIHBvc3RTZWFyY2hNb2RhbCgkcm9vdFNjb3BlLCRpb25pY01vZGFsLCBwb3N0U2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRwb3N0U2VhcmNoTW9kYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhID0ge307XHJcblx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEucG9zdFNlYXJjaE1vZGFsID0gc2NvcGUucG9zdFNlYXJjaE1vZGFsO1xyXG5cdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRcdHNjb3BlLm1vZGFsc0xpc3QgPSBbXTtcclxuXHRcdFx0XHRzY29wZS5jbGlja1Bvc3RTZWFyY2ggPSBjbGlja1Bvc3RTZWFyY2g7XHJcblx0XHRcdFx0c2NvcGUuc2hvd1Bvc3RNb2RhbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0bG9hZFBvc3RNb2RhbCgpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHNjb3BlLiRvbignbW9kYWwuaGlkZGVuJywgZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0JHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZihzY29wZS5tb2RhbCl7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnJlbW92ZSgpO1x0XHJcblx0XHRcdFx0XHR9XHJcbiAgIFx0XHRcdFx0XHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzY29wZS5nZXRQb3N0cyA9IGZ1bmN0aW9uKHBhcmFtcykge1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRwb3N0U2VydmljZS5nZXRBbGxQb3N0cyhwYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEubm9Qb3N0cyA9ICFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBzY29wZS5wb3N0U2VhcmNoRGF0YS5wb3N0c0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRmdW5jdGlvbiBjbGlja1Bvc3RTZWFyY2goKXtcclxuXHRcdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRcdFx0dmFyIHBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdFx0aW50ZXJlc3Q6IHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RTZWFyY2hNb2RhbCAsXHJcblx0XHRcdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0XHRcdGxpbWl0OiA1MFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdHNjb3BlLmdldFBvc3RzKHBhcmFtcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRQb3N0TW9kYWwoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdhcHAvcG9zdC92aWV3cy9wb3N0U2VhcmNoTW9kYWwuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6IHNjb3BlXHJcblx0XHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0dmFyIHBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdFx0aW50ZXJlc3Q6IHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RTZWFyY2hNb2RhbCAsXHJcblx0XHRcdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0XHRcdGxpbWl0OiA1MFxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdHNjb3BlLnNob3dQb3N0TW9kYWwoKTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0c2NvcGUuZ2V0UG9zdHMocGFyYW1zKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuZGlyZWN0aXZlKCdwb3N0c0xpc3QnLCBbJyRyb290U2NvcGUnLCckc3RhdGUnLCAndXNlckRhdGEnLCAncG9zdFNlcnZpY2UnLCAndXB2b3RlU2VydmljZScsICckaW9uaWNNb2RhbCcscG9zdHNMaXN0XSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBwb3N0c0xpc3QoICRyb290U2NvcGUsJHN0YXRlLCB1c2VyRGF0YSwgcG9zdFNlcnZpY2UsIHVwdm90ZVNlcnZpY2UsJGlvbmljTW9kYWwpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvcG9zdHNMaXN0VGVtcGxhdGUuaHRtbCcsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0cG9zdHNMaXN0OiAnPXBvc3RzTGlzdCcsXHJcblx0XHRcdFx0cG9zdFNlYXJjaFRleHRTdWJtaXQ6ICcmcG9zdFNlYXJjaFRleHRTdWJtaXQnXHJcblx0XHRcdH0sXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdC8vY29udHJvbGxlcjogWydzY29wZScsIF1cclxuXHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0c2NvcGUuZ2V0VGltZSA9IGZ1bmN0aW9uKHRpbWUpe1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudCh0aW1lKS5mcm9tTm93KCk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRzY29wZS5jdXJyZW50VXNlciA9IHVzZXJEYXRhLmdldFVzZXIoKTtcclxuXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0c2NvcGUudXNlclBhZ2UgPSB1c2VyUGFnZTtcclxuXHRcdFx0XHRmdW5jdGlvbiB1c2VyUGFnZShpZCl7XHJcblx0XHRcdFx0XHRzY29wZS5tb2RhbC5oaWRlKCk7XHJcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlclBhZ2UnLCB7IHVzZXI6IGlkIH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmdW5jdGlvbiBsb2FkUG9zdE1vZGFsKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnYXBwL3Bvc3Qvdmlld3MvcG9zdE1vZGFsLmh0bWwnLCB7XHJcblx0XHRcdFx0XHRcdHNjb3BlOiBzY29wZVxyXG5cdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbCA9IG1vZGFsO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNjb3BlLnBvc3RNb2RhbCA9IHt9O1xyXG5cdFx0XHRcdHNjb3BlLnBvc3RNb2RhbC51c2VyUGFnZSA9IHVzZXJQYWdlO1xyXG5cdFx0XHRcdHNjb3BlLnBvc3RNb2RhbC5jdXJyZW50VXNlciA9IHNjb3BlLmN1cnJlbnRVc2VyO1xyXG5cdFx0XHRcdHNjb3BlLnBvc3RNb2RhbC5kZWxldGVQb3N0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGlmKHNjb3BlLnBvc3RNb2RhbC5wb3N0LnVzZXIuX2lkIT09c2NvcGUuY3VycmVudFVzZXIuX2lkKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHBvc3RTZXJ2aWNlLmRlbGV0ZVBvc3Qoc2NvcGUucG9zdE1vZGFsLnBvc3QuX2lkKS50aGVuKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHBvc3RzTGVuZ3RoID0gc2NvcGUucG9zdHNMaXN0Lmxlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBvc3RzTGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiaGl0XCIraSk7XHJcblx0XHRcdFx0XHRcdFx0XHRpZihzY29wZS5wb3N0c0xpc3RbaV0uX2lkPT1zY29wZS5wb3N0TW9kYWwucG9zdC5faWQpe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImhpdCBkZWxldGVcIitpKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUucG9zdHNMaXN0LnNwbGljZShpLDEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5yZW1vdmUoKTtcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmKHNjb3BlLm1vZGFsKXtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG4gIFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZihzY29wZS5tb2RhbCl7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnJlbW92ZSgpO1x0XHJcblx0XHRcdFx0XHR9XHJcbiAgIFx0XHRcdFx0XHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzY29wZS5zaG93UG9zdE1vZGFsID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLnBvc3QgPSBwb3N0O1xyXG5cdFx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLnBvc3Qudmlld3MrPTE7XHJcblx0XHRcdFx0XHRsb2FkUG9zdE1vZGFsKCkudGhlbihmdW5jdGlvbigpe1xyXG5cclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwuc2hvdygpO1x0XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdHNjb3BlLiRvbignbW9kYWwuaGlkZGVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRcclxuICAgIFx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnJlbW92ZSgpO1xyXG4gIFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmRpcmVjdGl2ZSgncG9zdFVwdm90ZScsIFsnJHN0YXRlJywgJ3Vwdm90ZVNlcnZpY2UnLCckdGltZW91dCcscG9zdFVwdm90ZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gcG9zdFVwdm90ZSggJHN0YXRlLCB1cHZvdGVTZXJ2aWNlLCR0aW1lb3V0KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3Bvc3RVcHZvdGVUZW1wbGF0ZS5odG1sJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRwb3N0SWQ6ICc9cG9zdElkJyxcclxuXHRcdFx0XHR1cHZvdGVzTGVuZ3RoOiAnPXVwdm90ZXNMZW5ndGgnXHJcblx0XHRcdH0sXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xyXG5cdFx0XHRcdHNjb3BlLmNoZWNrUG9zdFVwdm90ZSA9IGNoZWNrUG9zdFVwdm90ZTtcclxuXHRcdFx0XHRzY29wZS5zdWJtaXRQb3N0VXB2b3RlID0gc3VibWl0UG9zdFVwdm90ZTtcclxuXHRcdFx0XHRzY29wZS5kZWxldGVQb3N0VXB2b3RlID0gZGVsZXRlUG9zdFVwdm90ZTtcclxuXHRcdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLmxvYWRpbmdVcHZvdGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0Y2hlY2tQb3N0VXB2b3RlKCk7XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGNoZWNrUG9zdFVwdm90ZSgpIHtcclxuXHRcdFx0XHRcdHVwdm90ZVNlcnZpY2UuZ2V0VXB2b3RlKHNjb3BlLnBvc3RJZCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvc3RVcHZvdGVkID0gcmVzLmRhdGE7XHJcblx0XHRcdFx0XHRcdHNjb3BlLmxvYWRpbmdVcHZvdGUgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiY2hlY2sgZXJyb3JcIik7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIHN1Ym1pdFBvc3RVcHZvdGUoKSB7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0VXB2b3RlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHVwdm90ZVNlcnZpY2UuY3JlYXRlVXB2b3RlKHNjb3BlLnBvc3RJZCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHNjb3BlLnVwdm90ZXNMZW5ndGgrPTE7XHRcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJzdWJtaXQgZXJyb3JcIik7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGRlbGV0ZVBvc3RVcHZvdGUoKSB7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0VXB2b3RlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0dXB2b3RlU2VydmljZS5kZWxldGVVcHZvdGUoc2NvcGUucG9zdElkKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUudXB2b3Rlc0xlbmd0aC09MTtcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KGVycik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdFxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JykuXHJcblx0c2VydmljZSgncG9zdFNlcnZpY2UnLCBbJyRodHRwJywgJ2hvbWVTZXJ2aWNlJywgJ3VzZXJMb2NhdGlvblNlcnZpY2UnLCAnJHEnLCBQb3N0U2VydmljZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gUG9zdFNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlLCB1c2VyTG9jYXRpb25TZXJ2aWNlLCAkcSkge1xyXG5cdFx0dGhpcy5nZXRBbGxQb3N0cyA9IGdldEFsbFBvc3RzO1xyXG5cdFx0dGhpcy5nZXROZWFyYnlQb3N0cyA9IGdldE5lYXJieVBvc3RzO1xyXG5cdFx0dGhpcy5nZXRMYXRlc3RQb3N0cyA9IGdldExhdGVzdFBvc3RzO1xyXG5cdFx0dGhpcy5nZXRQb3B1bGFyUG9zdHMgPSBnZXRQb3B1bGFyUG9zdHM7XHJcblx0XHR0aGlzLnN1Ym1pdFBvc3QgPSBzdWJtaXRQb3N0O1xyXG5cdFx0dGhpcy5kZWxldGVQb3N0ID0gZGVsZXRlUG9zdDtcclxuXHRcdHRoaXMuZ2V0UG9zdCA9IGdldFBvc3Q7XHJcblx0XHR0aGlzLmdldERpc3RhbmNlID0gZ2V0RGlzdGFuY2U7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsUG9zdHMocGFyYW1zKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9nZXRQb3N0cycsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRGaWx0ZXJlZFBvc3RzKGRlZmVyLHBhcmFtcyl7XHJcblx0XHRcdCRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJwb3N0L2dldFBvc3RzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSkudGhlbihmdW5jdGlvbihwb3N0cykge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJ3aXRob3V0IHBvc2l0aW9uXCIpO1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZShwb3N0cyk7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyMikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycjIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0TmVhcmJ5UG9zdHMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5uZWFyYnkgPSB0cnVlO1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYocGFyYW1zLnBhZ2U9PTEpe1xyXG5cdFx0XHRcdHVzZXJMb2NhdGlvblNlcnZpY2Uuc2V0VXNlckxvY2F0aW9uKCk7XHJcbiAgICAgIFx0XHRcdH1cclxuICAgICAgXHRcdFx0XHJcblx0XHRcdHVzZXJMb2NhdGlvblNlcnZpY2UuZ2V0VXNlckxvY2F0aW9uKCkudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xyXG5cdFx0XHRcdHBhcmFtcy5sYXRpdHVkZSA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG5cdFx0XHRcdHBhcmFtcy5sb25naXR1ZGUgPSBwb3NpdGlvbi5sb25naXR1ZGU7XHJcblx0XHRcdFx0JGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInBvc3QvZ2V0UG9zdHNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KS50aGVuKGZ1bmN0aW9uKHBvc3RzKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHBvc3RzKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlamVjdChlcnIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHR3aW5kb3cuY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRnZXRGaWx0ZXJlZFBvc3RzKGRlZmVyLHBhcmFtcyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhdGVzdFBvc3RzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMuc29ydCA9ICctdGltZSc7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2dldFBvc3RzJywgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQb3B1bGFyUG9zdHMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5zb3J0ID0gJy11cHZvdGVzTGVuZ3RoJztcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZ2V0UG9zdHMnLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHN1Ym1pdFBvc3QocG9zdCkge1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImVudGVyZWQgc3VibWl0IHBvc3RcIik7XHJcblx0XHRcdHVzZXJMb2NhdGlvblNlcnZpY2UuZ2V0VXNlckxvY2F0aW9uKCkudGhlbihmdW5jdGlvbihwb3NpdGlvbikge1xyXG5cdFx0XHRcdHBvc3QubGF0aXR1ZGUgPSBwb3NpdGlvbi5sYXRpdHVkZTtcclxuXHRcdFx0XHRwb3N0LmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHJcblx0XHRcdFx0JGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvY3JlYXRlJywgeyBwb3N0OiBwb3N0IH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlamVjdChlcnIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHQkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9jcmVhdGUnLCB7IHBvc3Q6IHBvc3QgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZShyZXNwb25zZSk7XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyMikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycjIpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlUG9zdChwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZShob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZGVsZXRlLycgKyBwb3N0SWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBvc3QocG9zdElkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2dldC8nICsgcG9zdElkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXREaXN0YW5jZShwb3NPYmopIHtcclxuXHRcdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0dmFyIGxhdDEgPSBwb3NPYmoubGF0aXR1ZGU7XHJcblx0XHRcdHZhciBsb24xID0gcG9zT2JqLmxvbmdpdHVkZTtcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0dmFyIGxhdDIgPSBwb3NpdGlvbi5sYXRpdHVkZTtcclxuXHRcdFx0XHR2YXIgbG9uMiA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHRcdFx0XHR2YXIgUiA9IDYzNzE7IC8vIFJhZGl1cyBvZiB0aGUgZWFydGggaW4ga21cclxuXHRcdFx0XHR2YXIgZExhdCA9IGRlZzJyYWQobGF0MiAtIGxhdDEpOyAvLyBkZWcycmFkIGJlbG93XHJcblx0XHRcdFx0dmFyIGRMb24gPSBkZWcycmFkKGxvbjIgLSBsb24xKTtcclxuXHRcdFx0XHR2YXIgYSA9XHJcblx0XHRcdFx0XHRNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgK1xyXG5cdFx0XHRcdFx0TWF0aC5jb3MoZGVnMnJhZChsYXQxKSkgKiBNYXRoLmNvcyhkZWcycmFkKGxhdDIpKSAqXHJcblx0XHRcdFx0XHRNYXRoLnNpbihkTG9uIC8gMikgKiBNYXRoLnNpbihkTG9uIC8gMik7XHJcblx0XHRcdFx0dmFyIGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG5cdFx0XHRcdHZhciBkID0gUiAqIGM7IC8vIERpc3RhbmNlIGluIGttXHJcblx0XHRcdFxyXG5cdFx0XHRcdGRlZmVyLnJlc29sdmUoTWF0aC5jZWlsKGQpKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWcycmFkKGRlZykge1xyXG5cdFx0XHRyZXR1cm4gZGVnICogKE1hdGguUEkgLyAxODApO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKS5cclxuXHRjb250cm9sbGVyKCdVc2VyRWRpdFBhZ2VDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2hvbWVTZXJ2aWNlJywgJ3VzZXJEYXRhJywgJ3VzZXJTZXJ2aWNlJywgJ1VwbG9hZCcsICckaW9uaWNMb2FkaW5nJywgVXNlckVkaXRQYWdlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBVc2VyRWRpdFBhZ2VDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBob21lU2VydmljZSwgdXNlckRhdGEsIHVzZXJTZXJ2aWNlLCBVcGxvYWQsICRpb25pY0xvYWRpbmcpIHtcclxuXHJcblx0XHR2YXIgdW1wYyA9IHRoaXM7XHJcblxyXG5cdFx0dW1wYy5hY3RpdmF0ZSA9IGFjdGl2YXRlO1xyXG5cclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0dW1wYy51c2VyID0gdXNlckRhdGEuZ2V0VXNlcigpO1xyXG5cdFx0XHQkc2NvcGUuZWRpdEZvcm0udXNlciA9IHVtcGMudXNlcjtcclxuXHRcdFx0JHNjb3BlLmVkaXRGb3JtLnVzZXIuZ2VuZGVyID0gdW1wYy51c2VyLmdlbmRlciB8fCAnT3RoZXInO1xyXG5cdFx0XHRpZiAodW1wYy51c2VyLmludGVyZXN0cy5sZW5ndGgpIHtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdEZvcm0udXNlci5pbnRlcmVzdHMgPSAnIycgKyB1bXBjLnVzZXIuaW50ZXJlc3RzLmpvaW4oJyMnKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0JHNjb3BlLmVkaXRGb3JtID0ge307XHJcblx0XHRcdGdldFVzZXIoKTtcclxuXHRcdFx0XHJcblx0XHR9XHJcblxyXG5cdFx0JHNjb3BlLmVkaXRGb3JtLnN1Ym1pdFVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdFxyXG5cdFx0XHR1c2VyU2VydmljZS51cGRhdGVVc2VyKCRzY29wZS5lZGl0Rm9ybS51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdHdpbmRvdy5hbGVydChcInVwZGF0ZWQgdXNlclwiKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlci51c2VyTWVQYWdlJyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHR1c2VyRGF0YS5zZXRVc2VyKCk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHRcdCRzY29wZS5lZGl0Rm9ybS51cGxvYWRVc2VyUGljdHVyZSA9IGZ1bmN0aW9uKGZpbGUsIGVyckZpbGVzKSB7XHJcblx0XHRcdCRzY29wZS5sb2FkaW5nSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHR1bXBjLmZpbGUgPSBmaWxlO1xyXG5cdFx0XHR1bXBjLmVyckZpbGUgPSBlcnJGaWxlcyAmJiBlcnJGaWxlc1swXTtcclxuXHRcdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0XHR1bXBjLmZpbGUudXBsb2FkID0gVXBsb2FkLnVwbG9hZCh7XHJcblx0XHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0XHRkYXRhOiB7IGZpbGU6IHVtcGMuZmlsZSB9XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHVtcGMuZmlsZS51cGxvYWQudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dW1wYy5maWxlLnJlc3VsdCA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdEZvcm0udXNlci5waWN0dXJlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRcdCRzY29wZS5sb2FkaW5nSW1hZ2UgPSBmYWxzZTtcclxuXHJcblxyXG5cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH07XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0Y29udHJvbGxlcignVXNlck1lUGFnZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGF1dGgnLCd1c2VyRGF0YScsICdwZW9wbGVTZXJ2aWNlJywncG9zdFNlcnZpY2UnLCckd2luZG93JywgJyRpb25pY0xvYWRpbmcnLFVzZXJNZVBhZ2VDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJNZVBhZ2VDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCAkYXV0aCx1c2VyRGF0YSwgcGVvcGxlU2VydmljZSxwb3N0U2VydmljZSwkd2luZG93LCRpb25pY0xvYWRpbmcpIHtcclxuXHJcblx0XHR2YXIgdW1wYyA9IHRoaXM7XHJcblx0XHR1bXBjLmxvZ291dCA9IGxvZ291dDtcclxuXHRcdHVtcGMuYWN0aXZhdGUgPSBhY3RpdmF0ZTtcclxuXHRcdFxyXG5cdFx0dW1wYy5hY3RpdmVUYWIgPSAxO1xyXG5cdFx0dW1wYy5hY3RpdmF0ZVRhYiA9IGFjdGl2YXRlVGFiO1xyXG5cdFx0dW1wYy5pc1RhYkFjdGl2ZSA9IGlzVGFiQWN0aXZlO1xyXG5cclxuXHRcdHVtcGMuc3ViQWN0aXZlVGFiID0gMTtcclxuXHRcdHVtcGMuc3ViQWN0aXZhdGVUYWIgPSBzdWJBY3RpdmF0ZVRhYjtcclxuXHRcdHVtcGMuaXNTdWJUYWJBY3RpdmUgPSBpc1N1YlRhYkFjdGl2ZTtcclxuXHJcblxyXG5cclxuXHRcdHVtcGMub3BlbkZhY2Vib29rID0gb3BlbkZhY2Vib29rO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdGZ1bmN0aW9uIG9wZW5GYWNlYm9vayhpZCl7XHJcblx0XHRcdCR3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycraWQsICdfc3lzdGVtJyk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cdFx0XHR1c2VyRGF0YS5zZXRVc2VyKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR1bXBjLnVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCk7XHJcblxyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJQb3N0cygpe1xyXG5cdFx0XHR1bXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cdFx0XHRcdGxpbWl0OiAxMDAsXHJcblx0XHRcdFx0dXNlcjogdXNlckRhdGEuZ2V0VXNlcigpLl9pZFxyXG5cdFx0XHR9O1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRMYXRlc3RQb3N0cyh1bXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdHVtcGMucG9zdHNMaXN0ID0gcmVzLmRhdGEuZG9jcztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZVRhYih0YWJJbmRleCl7XHJcblx0XHRcdHVtcGMuYWN0aXZlVGFiID0gdGFiSW5kZXg7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBpc1RhYkFjdGl2ZSh0YWJJbmRleCl7XHJcblx0XHRcdHJldHVybiB0YWJJbmRleCA9PT0gdW1wYy5hY3RpdmVUYWI7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzdWJBY3RpdmF0ZVRhYihzdWJUYWJJbmRleCl7XHJcblx0XHRcdHVtcGMuc3ViQWN0aXZlVGFiID0gc3ViVGFiSW5kZXg7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBpc1N1YlRhYkFjdGl2ZShzdWJUYWJJbmRleCl7XHJcblx0XHRcdHJldHVybiBzdWJUYWJJbmRleCA9PT0gdW1wYy5zdWJBY3RpdmVUYWI7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9nb3V0KCkge1xyXG5cdFx0XHQkYXV0aC5sb2dvdXQoKTtcclxuXHRcdFx0JHN0YXRlLmdvKCdhdXRoZW50aWNhdGUnKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0Z2V0VXNlcigpO1xyXG5cdFx0XHRnZXRSZXF1ZXN0ZWRMaXN0KCk7XHJcblx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdGdldFVzZXJQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlcXVlc3RlZExpc3QoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVxdWVzdGVkVXNlcnMoeyBwYWdlOiAxLCBsaW1pdDogMjUgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHVtcGMucGVvcGxlTGlzdCA9IHJlc3BvbnNlLmRhdGEuZG9jcztcclxuXHRcdFx0XHR1bXBjLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRSZWNlaXZlZExpc3QoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVjZWl2ZWRVc2Vycyh7IHBhZ2U6IDEsIGxpbWl0OiAyNSB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dW1wYy5wZW9wbGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5kb2NzO1xyXG5cdFx0XHRcdHVtcGMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFJldmVhbGVkTGlzdCgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZXZlYWxlZFVzZXJzKHsgcGFnZTogMSwgbGltaXQ6IDI1IH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR1bXBjLnBlb3BsZUxpc3QgPSByZXNwb25zZS5kYXRhLmRvY3M7XHJcblx0XHRcdFx0dW1wYy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0Y29udHJvbGxlcignVXNlclBhZ2VDb250cm9sbGVyJywgWyckc3RhdGUnLCAnJGF1dGgnLCAndXNlclNlcnZpY2UnLCAncmV2ZWFsU2VydmljZScsJyRzdGF0ZVBhcmFtcycsICdmcmllbmRzJywncG9zdFNlcnZpY2UnLCckd2luZG93JywnJGlvbmljTG9hZGluZycsVXNlclBhZ2VDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJQYWdlQ29udHJvbGxlcigkc3RhdGUsICRhdXRoLCB1c2VyU2VydmljZSwgcmV2ZWFsU2VydmljZSwkc3RhdGVQYXJhbXMsZnJpZW5kcyxwb3N0U2VydmljZSwkd2luZG93LCRpb25pY0xvYWRpbmcpIHtcclxuXHJcblx0XHR2YXIgdXBjID0gdGhpcztcclxuXHRcdHVwYy5jaGVja1JldmVhbCA9IGNoZWNrUmV2ZWFsO1xyXG5cdFx0dXBjLmdvQmFjayA9IGdvQmFjaztcclxuXHRcdHVwYy5hY3RpdmF0ZVRhYiA9IGFjdGl2YXRlVGFiO1xyXG5cdFx0dXBjLmlzVGFiQWN0aXZlID0gaXNUYWJBY3RpdmU7XHJcblx0XHR1cGMub3BlbkZhY2Vib29rID0gb3BlbkZhY2Vib29rO1xyXG5cdFx0dXBjLm9wZW5Hb29nbGUgPSBvcGVuR29vZ2xlO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gb3BlbkZhY2Vib29rKGlkKXtcclxuXHRcdFx0JHdpbmRvdy5vcGVuKCdodHRwczovL3d3dy5mYWNlYm9vay5jb20vJytpZCwgJ19zeXN0ZW0nKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIG9wZW5Hb29nbGUoaWQpe1xyXG5cdFx0XHQkd2luZG93Lm9wZW4oJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tLycraWQsICdfc3lzdGVtJyk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0Z2V0VXNlcigpO1xyXG5cdFx0XHR1cGMucmV2ZWFsQ2hvaWNlID0gZnJpZW5kcztcclxuXHRcdFx0dXBjLmFjdGl2ZVRhYiA9IDE7XHJcblx0XHRcdGdldFVzZXJQb3N0cygpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlclBvc3RzKCl7XHJcblx0XHRcdHVwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMTAwLFxyXG5cdFx0XHRcdHVzZXI6ICRzdGF0ZVBhcmFtcy51c2VyXHJcblx0XHRcdH07XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldExhdGVzdFBvc3RzKHVwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHR1cGMucG9zdHNMaXN0ID0gcmVzLmRhdGEuZG9jcztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZVRhYih0YWJJbmRleCl7XHJcblx0XHRcdHVwYy5hY3RpdmVUYWIgPSB0YWJJbmRleDtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGlzVGFiQWN0aXZlKHRhYkluZGV4KXtcclxuXHRcdFx0cmV0dXJuIHRhYkluZGV4ID09PSB1cGMuYWN0aXZlVGFiO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBjaGVja1JldmVhbCgpe1xyXG5cdFx0XHRyZXZlYWxTZXJ2aWNlLmNoZWNrKCRzdGF0ZVBhcmFtcy51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0dXBjLnJldmVhbENob2ljZSA9IHJlcy5kYXRhLnN0YXR1cztcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnb0JhY2soKXtcclxuXHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblxyXG5cdFx0XHR1c2VyU2VydmljZS5nZXRVc2VyKCRzdGF0ZVBhcmFtcy51c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dXBjLnVzZXIgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKS5cclxuXHRjb250cm9sbGVyKCdVc2VyUGFnZVBvc3RzQ29udHJvbGxlcicsIFsnJHN0YXRlJywgICckc3RhdGVQYXJhbXMnLCAnZnJpZW5kcycsVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXIoJHN0YXRlLCAgJHN0YXRlUGFyYW1zLGZyaWVuZHMpIHtcclxuXHRcdGFsZXJ0KGZyaWVuZHMpO1xyXG5cclxuXHJcblx0XHRcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdFx0Y29udHJvbGxlcignVXNlclBhcmVudENvbnRyb2xsZXInLFtVc2VyUGFyZW50Q29udHJvbGxlcl0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIFVzZXJQYXJlbnRDb250cm9sbGVyKCl7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpXHJcblx0XHQuZGlyZWN0aXZlKCdibG9ja2VkTGlzdCcsWydibG9ja1NlcnZpY2UnLGJsb2NrZWRMaXN0XSk7XHJcblxyXG5cdGZ1bmN0aW9uIGJsb2NrZWRMaXN0KGJsb2NrU2VydmljZSl7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL2Jsb2NrZWRMaXN0Lmh0bWwnLFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSl7XHJcblx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjayA9IGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdHNjb3BlLnBlb3BsZUxpc3Quc3BsaWNlKGluZGV4LDEpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0YmxvY2tTZXJ2aWNlLmdldEJsb2NrcygpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG5cdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdHNjb3BlLnBlb3BsZUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0c2VydmljZSgnYmxvY2tTZXJ2aWNlJywgWyckaHR0cCcsICdob21lU2VydmljZScsQmxvY2tTZXJ2aWNlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBCbG9ja1NlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmNyZWF0ZSA9IGNyZWF0ZTtcclxuXHRcdHRoaXMucmVtb3ZlID0gcmVtb3ZlO1xyXG5cdFx0dGhpcy5nZXRCbG9ja3MgPSBnZXRCbG9ja3M7XHJcblx0XHR0aGlzLmNoZWNrID0gY2hlY2s7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZShpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2NyZWF0ZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZW1vdmUoaWQpIHtcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2RlbGV0ZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVjayhpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnYmxvY2svZ2V0LycraWQpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0QmxvY2tzKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnYmxvY2svZ2V0QmxvY2tzLycpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0c2VydmljZSgncmV2ZWFsU2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLFJldmVhbFNlcnZpY2VdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIFJldmVhbFNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHR0aGlzLmluaXRpYXRlID0gaW5pdGlhdGU7XHJcblx0XHR0aGlzLmFjY2VwdCA9IGFjY2VwdDtcclxuXHRcdHRoaXMuaWdub3JlID0gaWdub3JlO1xyXG5cdFx0dGhpcy5jYW5jZWwgPSBjYW5jZWw7XHJcblx0XHR0aGlzLnJlY2VpdmVkID0gcmVjZWl2ZWQ7XHJcblx0XHR0aGlzLnJlcXVlc3RlZCA9IHJlcXVlc3RlZDtcclxuXHRcdHRoaXMucmV2ZWFsZWQgPSByZXZlYWxlZDtcclxuXHRcdHRoaXMuZmluaXNoID0gZmluaXNoO1xyXG5cdFx0dGhpcy5jaGVjayA9IGNoZWNrO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBhcmFtcyhpZCl7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0J3NlY29uZFVzZXInOiBpZFxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gaW5pdGlhdGUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvaW5pdGlhdGUnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjY2VwdChpZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvYWNjZXB0JywgeyBzZWNvbmRVc2VyOiBpZCB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpZ25vcmUoaWQpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2lnbm9yZScsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsKGlkKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9jYW5jZWwnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlY2VpdmVkKGlkKSB7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoaWQpO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL3JlY2VpdmVkJywge3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdFx0XHRcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZXF1ZXN0ZWQoaWQpIHtcclxuXHRcdFx0dmFyIHBhcmFtcyA9IGdldFBhcmFtcyhpZCk7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvcmVxdWVzdGVkJywge3BhcmFtczpwYXJhbXN9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZXZlYWxlZChpZCkge1xyXG5cdFx0XHR2YXIgcGFyYW1zID0gZ2V0UGFyYW1zKGlkKTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9yZXZlYWxlZCcsIHtwYXJhbXM6cGFyYW1zfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBmaW5pc2goaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvZmluaXNoJywge3NlY29uZFVzZXI6IGlkfSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVjayhpZCl7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoaWQpO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2NoZWNrJywge3BhcmFtczpwYXJhbXN9KTtcdFxyXG5cdFx0fVxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKVxyXG5cdFx0LnNlcnZpY2UoJ3VzZXJMb2NhdGlvblNlcnZpY2UnLCBbJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLCAndXNlclNlcnZpY2UnLCAnJHEnLCAnJGh0dHAnLCAndG9hc3RyJywgVXNlckxvY2F0aW9uU2VydmljZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gVXNlckxvY2F0aW9uU2VydmljZSgkY29yZG92YUdlb2xvY2F0aW9uLCB1c2VyU2VydmljZSwgJHEsICRodHRwLCB0b2FzdHIpIHtcclxuXHRcdHRoaXMuZ2V0VXNlckxvY2F0aW9uID0gZ2V0VXNlckxvY2F0aW9uO1xyXG5cdFx0dGhpcy5zZXRVc2VyTG9jYXRpb24gPSBzZXRVc2VyTG9jYXRpb247XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlckxvY2F0aW9uKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuXHRcdFx0dmFyIG9wdGlvbnMgPSB7IHRpbWVvdXQ6IDMwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogZmFsc2UgfTtcclxuXHJcblx0XHRcdCRjb3Jkb3ZhR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgcG9zaXRpb25zID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHBvc2l0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2dlb2xvY2F0aW9uL3YxL2dlb2xvY2F0ZT9rZXk9QUl6YVN5QTVicXZDcDF3WVg3RkdLaUR5ZDN3MER6dkpab1B3UXJRJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHtcclxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubGF0LFxyXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubG5nXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShjb29yZHMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKFwiZXJyb3IgZnJvbSBnb29nbGVcIik7XHJcblx0XHRcdFx0XHR3aW5kb3cuY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdCgnTm90IGFibGUgdG8gYWNjZXMgeW91ciBsb2NhdGlvbi5NYWtlIHN1cmUgbG9jYXRpb24gaXMgZW5hYmxlZC4nKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZXRVc2VyTG9jYXRpb24oKSB7XHJcblx0XHRcdHZhciBvcHRpb25zID0geyB0aW1lb3V0OiAzMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlIH07XHJcblx0XHRcdCRjb3Jkb3ZhR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgcG9zaXRpb25zID0geyBsYXRpdHVkZTogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBsb25naXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfTtcclxuXHRcdFx0XHR1c2VyU2VydmljZS51cGRhdGVVc2VyKHBvc2l0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2dlb2xvY2F0aW9uL3YxL2dlb2xvY2F0ZT9rZXk9QUl6YVN5QTVicXZDcDF3WVg3RkdLaUR5ZDN3MER6dkpab1B3UXJRJykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0dmFyIGNvb3JkcyA9IHtcclxuXHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubGF0LFxyXG5cdFx0XHRcdFx0XHRsb25naXR1ZGU6IHJlc3BvbnNlLmRhdGEubG9jYXRpb24ubG5nXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0dXNlclNlcnZpY2UudXBkYXRlVXNlcihjb29yZHMpO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyLmNvZGUgPT0gMykge1xyXG5cdFx0XHRcdFx0XHRcdHRvYXN0ci53YXJuaW5nKCdOb3QgYWJsZSB0byBhY2NlcyB5b3VyIGxvY2F0aW9uLk1ha2Ugc3VyZSBsb2NhdGlvbiBpcyBlbmFibGVkLicsICdXYXJuaW5nJywge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdG1heE9wZW5lZDogMSxcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZXJyLmNvZGUgPT0gMiB8fCBlcnIuY29kZSA9PSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0dG9hc3RyLndhcm5pbmcoJ05vdCBhYmxlIHRvIGFjY2VzIHlvdXIgbG9jYXRpb24uTWFrZSBzdXJlIGxvY2F0aW9uIGlzIGVuYWJsZWQuJywgJ1dhcm5pbmcnLCB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0bWF4T3BlbmVkOiAxLFxyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblxyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuICAndXNlIHN0cmljdCc7XHJcbiAgLypcclxuICAgKlNlcnZpY2UgZm9yIGdldHRpbmcgYSBzaW5nbGUgc3RvcmUgd2l0aCBpdHMgaWRcclxuICAgKi9cclxuICBhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpXHJcbiAgICAuc2VydmljZSgndXNlclNlcnZpY2UnLCBbXCIkaHR0cFwiLCBcImhvbWVTZXJ2aWNlXCIsIFVzZXJTZXJ2aWNlXSk7XHJcblxyXG4gIC8qXHJcbiAgICogVGhpcyBzZXJ2aWMgaGFzIGEgZnVuY3Rpb24gbmFtZXMgZ2V0U3RvcmUgd2hpY2ggdGFrZXMgaWQgYXMgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgcHJvbWlzZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIFVzZXJTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSkge1xyXG4gICAgdGhpcy51cGRhdGVVc2VyID0gdXBkYXRlVXNlcjtcclxuICAgIFxyXG4gICAgdGhpcy5nZXRVc2VyID0gZ2V0VXNlcjtcclxuICAgIFxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRVc2VyKGlkKSB7XHJcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXQvXCIgKyBpZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVVzZXIodXNlcikge1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3VzZXIvdXBkYXRlLycsIHsgdXNlcjogdXNlciB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbiAgfVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiJdfQ==
