!function(e){"use strict";function t(t,o,n,a){n.tabs.position("bottom"),n.scrolling.jsScrolling(!1),n.views.transition("platform"),t.otherwise("/home/post/nearby"),e.extend(a,{autoDismiss:!0,maxOpened:1})}var o=e.module("petal",["ionic","ngAnimate","satellizer","ngFileUpload","btford.socket-io","ngCordova","toastr","petal.home","petal.post","petal.chat","petal.user","petal.people","petal.message"]);o.config(["$urlRouterProvider","$stateProvider","$ionicConfigProvider","toastrConfig",t]),o.run(["$rootScope","$state","$ionicPlatform","$ionicLoading","RequestsService","$cordovaPushV5","$ionicHistory",function(e,t,o,n,a,s,i){function r(){o.registerBackButtonAction(function(t){return e.backButtonPressedOnceToExit?ionic.Platform.exitApp():i.backView()?i.goBack():(e.backButtonPressedOnceToExit=!0,window.plugins.toast.showShortCenter("Press back button again to exit",function(e){},function(e){}),window.setTimeout(function(){e.backButtonPressedOnceToExit=!1},2e3)),t.preventDefault(),!1},101)}function c(){a.register(),e.$on("$cordovaPushV5:notificationReceived",function(e,t){console.log(t),console.log(e)}),e.$on("$cordovaPushV5:errorOcurred",function(e,t){})}o.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0),c(),r()),window.StatusBar&&StatusBar.styleDefault(),window.onerror=function(e,t,o){return!1},e.$on("$stateChangeError",function(){t.go("home.post.nearby"),n.hide()})})}])}(window.angular),function(e){"use strict";function t(e){e.state("home.chat",{url:"/chat",abstract:!0,views:{"chat-tab":{templateUrl:"app/chat/views/chatParent.html",controller:"ChatParentController",controllerAs:"ppc"}}}).state("home.chat.all",{url:"/all",views:{"chat-tab":{templateUrl:"app/chat/views/allChat.html",controller:"AllChatController",controllerAs:"acc"}}}).state("home.chat.revealed",{url:"/revealed",views:{"chat-tab":{templateUrl:"app/chat/views/revealedChat.html",controller:"RevealedChatController",controllerAs:"rpc"}}}).state("home.chat.messageroom",{url:"/messageRoom",views:{"chat-tab":{templateUrl:"app/message/views/messageRoomList.html",controller:"MessageRoomListController",controllerAs:"mrlc"}}}).state("chatBox",{url:"/chatBox/:user",templateUrl:"app/chat/views/chatBox.html",controller:"ChatBoxController",controllerAs:"cbc",resolve:{blocked:["$stateParams","blockService","$q",o]}})}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.blocked)}).catch(function(){n.resolve()}),n.promise}e.module("petal.chat",["ngFileUpload"]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t){var n="https://banana-surprise-31332.herokuapp.com/authenticate";t.facebook({clientId:"1134208830041632",url:n+"/auth/facebook",redirectUri:"https://banana-surprise-31332.herokuapp.com/"}),t.google({clientId:"742676837265-33jntkd60p87gkrh48nqe6cdd8ntsfl5.apps.googleusercontent.com",url:n+"/auth/google",redirectUri:"http://localhost:8100"}),e.state("authenticate",{url:"/authenticate",controller:"AuthenticationController",controllerAs:"ac",templateUrl:"app/home/views/authenticationPage.html"}).state("home",{url:"/home",abstract:!0,templateUrl:"app/home/views/tabs.html",controller:"HomeController",controllerAs:"hc",resolve:{redirectIfUserNotAuthenticated:["$q","$auth","$state","$timeout",o]}})}function o(e,t,o,n){var a=e.defer();return t.isAuthenticated()?a.resolve():n(function(){o.go("authenticate")}),a.promise}e.module("petal.home",[]).config(["$stateProvider","$authProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("messageRoomInterest",{url:"/messageRoom/interest/:interest",templateUrl:"app/message/views/messageRoom.html",controller:"MessageRoomController",controllerAs:"mrc",resolve:{messageRoom:["$stateParams","$q","messageRoomService",o]}}).state("messageRoomPost",{url:"/messageRoom/post/:postId",templateUrl:"app/message/views/messageRoom.html",controller:"MessageRoomController",controllerAs:"mrc",resolve:{messageRoom:["$stateParams","$q","messageRoomService",o]}})}function o(e,t,o){var n=t.defer(),a={};return e.postId?a.postId=e.postId:a.interest=e.interest,o.getMessageRoom(a).then(function(e){console.log("resolve response"),console.log(e),n.resolve(e.data.foundMessageRoom)}).catch(function(e){console.log("Resolve mesage Room"),console.log(e)}),n.promise}e.module("petal.message",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e){e.state("home.people",{url:"/people",abstract:!0,views:{"people-tab":{templateUrl:"app/people/views/peopleParent.html",controller:"PeopleParentController",controllerAs:"ppc"}}}).state("home.people.all",{url:"/all",views:{"people-tab":{templateUrl:"app/people/views/allPeople.html",controller:"AllPeopleController",controllerAs:"apc"}}}).state("home.people.revealed",{url:"/revealed",views:{"people-tab":{templateUrl:"app/people/views/revealedPeople.html",controller:"RevealedPeopleController",controllerAs:"rpc"}}}).state("home.people.received",{url:"/received",views:{"people-tab":{templateUrl:"app/people/views/receivedPeople.html",controller:"ReceivedPeopleController",controllerAs:"rpc"}}}).state("home.people.nearby",{url:"/nearby",views:{"people-tab":{templateUrl:"app/people/views/nearbyPeople.html",controller:"NearbyPeopleController",controllerAs:"npc"}}})}e.module("petal.people",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){e.data.blocked===!0?(window.alert("Blocked profile"),window.history.back()):n.resolve()}).catch(function(){n.resolve()}),n.promise}function o(e,t,o){var n=o.defer();return t.check(e.user).then(function(e){n.resolve(e.data.status)}).catch(function(){}),n.promise}e.module("petal.user",[]).config(["$stateProvider",function(e){e.state("home.user",{url:"/user",abstract:!0,views:{"user-tab":{templateUrl:"app/user/views/userParentPage.html",controller:"UserParentController",controllerAs:"upc"}}}).state("home.user.userMePage",{url:"/userMePage",views:{"user-tab":{templateUrl:"app/user/views/userMePage.html",controller:"UserMePageController",controllerAs:"umpc"}}}).state("home.userPage",{url:"/userPage/:user",resolve:{blocked:["$stateParams","blockService","$q",t],friends:["$stateParams","revealService","$q",o]},views:{"extra-tab":{templateUrl:"app/user/views/userProfilePage.html",controller:"UserPageController",controllerAs:"upc"}}}).state("home.userEditPage",{url:"/userEditPage",views:{"extra-tab":{templateUrl:"app/user/views/userEditPage.html",controller:"UserEditPageController",controllerAs:"uepc"}}})}])}(window.angular),function(e){"use strict";function t(e){e.state("home.post",{url:"/post",abstract:!0,views:{"post-tab":{templateUrl:"app/post/views/postParent.html",controller:"PostParentController",controllerAs:"ppc"}}}).state("home.post.all",{url:"/all",views:{"post-tab":{templateUrl:"app/post/views/allPost.html",controller:"AllPostController",controllerAs:"apc"}}}).state("home.post.latest",{url:"/latest",views:{"post-tab":{templateUrl:"app/post/views/latestPost.html",controller:"LatestPostController",controllerAs:"lpc"}}}).state("home.post.popular",{url:"/popular",views:{"post-tab":{templateUrl:"app/post/views/popularPost.html",controller:"PopularPostController",controllerAs:"ppc"}}}).state("home.post.nearby",{url:"/nearby",views:{"post-tab":{templateUrl:"app/post/views/nearbyPost.html",controller:"NearbyPostController",controllerAs:"npc"}}}).state("postSubmit",{url:"/submit",templateUrl:"app/post/views/createPost.html",controller:"CreatePostController",controllerAs:"cpc"}).state("singlePost",{url:"/post/:id",templateUrl:"app/post/views/singlePost.html",controller:"SinglePostController",controllerAs:"spc"})}e.module("petal.post",[]).config(["$stateProvider",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function r(){u()}function c(){p.params.page+=1,l()}function l(){n.getAllChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getAllChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=r,u(),s.on("newMessageReceived",i),p.chatPage=function(e){o.go("chatBox",{user:e})}}e.module("petal.chat").controller("AllChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s,i,r,c,l,u,p,d,f){function m(){b.params.page+=1,v()}function g(){l.getUser(b.receiverUserID).then(function(e){b.receiverUser=e.data}).catch(function(e){console.log(e)})}function h(){o(function(){c.scrollBottom(!0)})}function v(){r.getChatMessages(b.chatRoomId,b.params).then(function(t){e.forEach(t.data.docs,function(e){b.chatList.unshift(e)})}).catch(function(e){console.log(e)}).finally(function(){h(),t.$broadcast("scroll.refreshComplete"),p.hide()})}function w(){n.emit("addToChatRoom",{roomId:b.chatRoomId}),n.on("messageReceived",function(e){b.chatList.push(e),h(),b.messageLoading=!1})}var b=this;b.isBlocked=f,b.isBlocked===!0&&window.alert("blocked profile"),b.currentUser=s.getUser()._id,b.receiverUserID=a.user,b.chatList=[],b.chatRoomId="",b.loadMoreChats=m,b.scrollBottom=h,b.messageLoading=!1,b.messageTryCount=0,b.params={page:1,limit:5},function(){p.show(),r.getChatRoom(b.receiverUserID).then(function(e){b.chatRoom=e.data,b.chatRoomId=e.data._id,w(),v()},function(e){console.log(e)}),g()}(),b.clickSubmit=function(e){b.messageLoading=!0,b.focusInput=!0,window.cordova&&(window.cordova.plugins.Keyboard.show(),window.cordova.plugins.Keyboard.isVisible=!0),h();var t={message:b.myMsg,receiver:a.user,roomId:b.chatRoomId};r.sendChatMessage(t).then(function(e){b.myMsg="",b.chatList.push(e.data.message),h(),b.messageTryCount=0}).catch(function(e){b.messageTryCount+=1,b.messageTryCount<=3&&b.clickSubmit()}).finally(function(){b.messageLoading=!1}),e.preventDefault()},b.submitUpload=function(){b.messageLoading=!0,b.file.upload=u.upload({url:i.baseURL+"upload/singleUpload",data:{file:b.file}}),b.file.upload.then(function(e){b.file.result=e.data,b.uploadedImage=e.data,b.cancelUpload();var t={message:b.uploadedImage,receiver:a.user,roomId:b.chatRoomId,type:"img"};r.sendChatMessage(t).then(function(e){h(),b.chatList.push(e.data.message),b.messageLoading=!1}).catch(function(e){console.log(e)})})},b.cancelUpload=function(){b.showTempImage=!1,b.tempImageUrl=""},b.uploadSingleImage=function(e,t){b.file=e,b.errFile=t&&t[0],e&&(b.showTempImage=!0,b.tempImageUrl=e,h())},b.leaveChatBox=function(){n.emit("removeFromRoom",{roomId:b.chatRoomId}),r.updateChatRoom(b.chatRoomId).then(function(e){}).catch(function(e){}).finally(function(){}),d.history.back()}}e.module("petal.chat").controller("ChatBoxController",["$scope","$timeout","Socket","$stateParams","userData","homeService","chatService","$ionicScrollDelegate","userService","Upload","$ionicLoading","$window","blocked",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.chat").controller("ChatParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(){u()}function r(e){var t={};t.creator2=e.user,t.newChat=!0,t.lastMessage={user:e.user._id,_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.chatRoomsList.length;o++)if(t.creator2._id==p.chatRoomsList[o].creator2._id&&t.lastMessage._id!==p.chatRoomsList[o].lastMessage._id)return p.chatRoomsList.splice(o,1),void p.chatRoomsList.unshift(t)}function c(){p.params.page+=1,l()}function l(){n.getRevealedChatRooms(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.chatRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.chatRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.chatRoomsList=[],l()}var p=this;p.getRevealedChatRooms=l,p.loadMoreChats=c,p.pullRefreshChats=i,u(),s.on("newMessageReceived",r)}e.module("petal.chat").controller("RevealedChatController",["$scope","$state","chatService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(e,t,o){function n(t){return e.post(o.baseURL+"chatRoom/delete/"+t)}function a(t){return e.post(o.baseURL+"chat/create/"+t.roomId,t)}function s(t,n){return e.get(o.baseURL+"chat/getChats/"+t,{params:n})}function i(t){return e.get(o.baseURL+"chatRoom/get/"+t)}function r(t){return t.revealed=!1,e.get(o.baseURL+"chatRoom/all/",{params:t})}function c(t){return t.revealed=!0,e.get(o.baseURL+"chatRoom/all/",{params:t})}function l(t){return e.post(o.baseURL+"chatRoom/update/"+t)}var u=this;u.sendChatMessage=a,u.getChatMessages=s,u.getChatRoom=i,u.getAllChatRooms=r,u.getRevealedChatRooms=c,u.updateChatRoom=l,u.deleteChatRoom=n}e.module("petal.chat").service("chatService",["$http","$stateParams","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){return e({prefix:"",ioSocket:io.connect(t.baseURL)})}e.module("petal.chat").factory("Socket",["socketFactory","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o){return e({prefix:"",ioSocket:io.connect(o.baseURL+t.getUser()._id)})}e.module("petal.chat").factory("SocketUserService",["socketFactory","userData","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r){function c(e){n.setUser(e),a.setUserLocation(),i.register(),e.device_token?o.go("home.post.popular"):o.go("home.userEditPage")}function l(e){s.show(),t.authenticate(e).then(function(e){c(e.data.user)}).catch(function(e){s.hide()}).finally(function(){})}function u(){r.fromTemplateUrl("app/home/views/policy.html",{scope:e}).then(function(t){e.modal=t,e.modal.show()})}function p(){t.logout(),n.removeUser(),o.go("authenticate")}var d=this;d.isAuth=t.isAuthenticated(),d.isAuth&&o.go("home.post.all"),window.cordova&&(d.webSignIn=!0),d.authLogout=p,d.loadPostModal=u,d.socialAuthenticate=l,e.googleSignIn=function(){s.show({template:"Logging in..."}),window.plugins.googleplus.login({webClientId:"792068565007-rdm7nrlfmc29jvlqo5l0tkgu6ci0vboa.apps.googleusercontent.com"},function(e){var o={};o.id=e.userId,o.displayName=e.displayName,o.imageUrl=e.imageUrl,i.googleSignIn(o).then(function(e){t.setToken(e.data.token),c(e.data.user)}).catch(function(e){console.log("error"),console.log(e),s.hide()})},function(e){alert("missed"),console.log(e),s.hide()})}}e.module("petal.home").controller("AuthenticationController",["$scope","$auth","$state","userData","userLocationService","$ionicLoading","RequestsService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i){function r(e){var n=e.message;e.type&&"img"==e.type&&(n="New image");var s=e.user.anonName||e.user.facebookName||e.user.googleName;e.user._id==o.getUser()._id||("chatBox"==t.current.name?t.params.user!=e.user._id&&a.info("<p>"+s+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}):(a.info("<p>"+s+"</p><p>"+n+"</p>",{allowHtml:!0,onTap:function(){t.go("chatBox",{user:e.user._id})}}),l.badgeValue=1))}function c(){l.badgeValue=""}var l=this;l.badgeValue="",l.chatClicked=c,i.slideHeader=!1,i.slideHeaderPrevious=0,n.on("connect",function(){n.emit("addToSingleRoom",{roomId:o.getUser()._id}),n.on("newMessageReceived",r)}),l.goForward=function(){var e=s.selectedIndex();e!=-1&&(1===e?s.select(e+2):s.select(e+1))},l.goBack=function(){var e=s.selectedIndex();e!==-1&&0!==e&&(3===e?s.select(e-2):s.select(e-1))}}e.module("petal.home").controller("HomeController",["$scope","$state","userData","Socket","toastr","$ionicTabsDelegate","$rootScope",t])}(window.angular),function(e){"use strict";function t(){return{templateUrl:"app/home/views/ionicCustomSpinner.html"}}e.module("petal.home").directive("distanceView",["postService","$timeout",function(e,t){return{restrict:"E",templateUrl:"app/home/views/distanceViewTemplate.html",scope:{positionCords:"="},replace:!0,link:function(o){function n(){o.positionCords?(o.distanceObj={latitude:o.positionCords[1],longitude:o.positionCords[0]},e.getDistance(o.distanceObj).then(function(e){o.distanceObj.distance=e+" mi"}).catch(function(e){o.distanceObj.distance=""})):(o.distanceObj={},o.distanceObj.distance="")}t(n,1e3)}}}]).directive("ionicCustomSpinner",[t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"A",link:function(t,o){o.bind("scroll",function(t){var o=t.srcElement.scrollTop;e.slideHeader=o-0>150,e.slideHeaderPrevious>o-0&&(e.slideHeader=!1),e.slideHeaderPrevious=o-0,e.$apply()})}}}var o=function(e){return{restrict:"A",scope:{imageModal:"@"},link:function(t,o){function n(e){a().then(function(){t.currentImage=e,t.modal.show()})}function a(){return e.fromTemplateUrl("app/chat/views/chatImageModal.html",{scope:t}).then(function(e){t.modal=e})}o.bind("click",function(e){n(t.imageModal),e.stopPropagation()})}}};e.module("petal.home").directive("keepScroll",["$state","$timeout","ScrollPositions","$ionicScrollDelegate",function(e,t,o,n){return{restrict:"A",link:function(a){a.$on("$stateChangeStart",function(){o[e.current.name]=n.getScrollPosition()}),t(function(){var t;(t=o[e.current.name])&&n.scrollTo(t.left,t.top)})}}}]).factory("ScrollPositions",[function(){return{}}]).directive("isFocused",["$timeout",function(e){return{scope:{trigger:"@isFocused"},link:function(t,o){t.$watch("trigger",function(t){"true"===t&&e(function(){o[0].focus(),o.on("blur",function(){o[0].focus()})})})}}}]).directive("lazyImg",function(){return{replace:!0,template:'<div class="lazy-img"><div class="sm"><img src="{{imgSmall}}" class="small"/></div><div style="padding-bottom: 75%;"></div><img src="{{imgLarge}}" class="large"/></div>',scope:{imgLarge:"@srcLarge",imgSmall:"@srcSmall"},link:function(e,t){var o=new Image,n=new Image;o.src=e.imgSmall,o.onload=function(){t.children(".sm").find("img").css("opacity","1"),n.src=e.imgLarge,n.onload=function(){t.find("img").css("opacity","1")}}}}}).directive("imageModal",["$ionicModal",o]).directive("watchScroll",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t){function o(t){return e.post(s.baseURL+"upload/deleteUpload",{data:{public_id:t}})}function n(t){return e.get(s.baseURL+"upload/getImages",{params:{imageText:t}})}function a(e){return t.upload({url:s.baseURL+"upload/singleUploadId",data:{file:e}})}this.baseURL="https://banana-surprise-31332.herokuapp.com/",this.deleteUpload=o,this.submitUpload=a,this.getImages=n;var s=this}e.module("petal.home").service("homeService",["$http","Upload",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){function i(){var e=o.defer(),i={android:{senderID:"679461840115",vibrate:"true"},browser:{},ios:{alert:"true",badge:"true",sound:"true"},windows:{}};return a.initialize(i).then(function(){a.onNotification(function(){console.log("insideeee notification"),console.log(arguments)}),a.onError(),s.isAuthenticated()&&a.register().then(function(o){t.post(c+"notification/register",{device_token:o}).then(function(t){e.resolve(t)}).catch(function(t){e.reject(t)}).finally(function(){n.hide()})})}),e.promise}function r(e){return t.post(c+"authenticate/auth/nativeGoogle",{profile:e})}var c=e.baseURL;return{googleSignIn:r,register:i}}e.module("petal.home").service("RequestsService",["homeService","$http","$q","$ionicLoading","$cordovaPushV5","$auth",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){var s=e.localStorage,i={},r={setUser:function(e){if(e)s.setItem("user",JSON.stringify(e));else{var t=o.getPayload().sub;if(t)return n.get(a.baseURL+"user/get/"+t).then(function(e){s.setItem("user",JSON.stringify(e.data))})}},getUser:function(){return JSON.parse(s.getItem("user"))},removeUser:function(){i=null,s.removeItem("user")},isUserExists:function(){return!!r.getUser()}};return r}e.module("petal.home").factory("userData",["$window","$state","$auth","$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s,i,r,c,l,u,p,d,f){function m(){w.params.page+=1,h()}function g(){o(function(){c.scrollBottom(!0)})}function h(){r.getMessages(f._id,w.params).then(function(t){console.log("get messages"),console.log(t),e.forEach(t.data.docs,function(e){w.messageList.unshift(e)}),g()}).catch(function(e){console.log(e)}).finally(function(){g(),t.$broadcast("scroll.refreshComplete"),p.hide()})}function v(){n.emit("addToMessagetRoom",{roomId:f._id}),n.on("roomMessageReceived",function(e){console.log("received message"),console.log(e),w.messageList.push(e),g(),w.messageLoading=!1})}var w=this;w.currentUser=s.getUser()._id,w.messageList=[],w.messageRoom=f,w.loadMoreMessages=m,w.scrollBottom=g,w.messageLoading=!1,w.formatMessageDate=function(e){return window.moment(e).format(" MMM Do, h:mm a")},w.params={page:1,limit:5},function(){p.show(),h(),v()}(),w.clickSubmit=function(e){w.messageLoading=!0,w.focusInput=!0,window.cordova&&(window.cordova.plugins.Keyboard.show(),window.cordova.plugins.Keyboard.isVisible=!0);var t={message:w.myMsg,roomId:w.messageRoom._id};r.sendMessage(t).then(function(e){w.myMsg="",g()}).catch(function(e){console.log(e)}).finally(function(){w.messageLoading=!1}),e.preventDefault()},w.submitUpload=function(){w.messageLoading=!0,w.file.upload=u.upload({url:i.baseURL+"upload/singleUpload",data:{file:w.file}}),w.file.upload.then(function(e){w.file.result=e.data,w.uploadedImage=e.data,w.cancelUpload();var t={message:w.uploadedImage,roomId:w.messageRoom._id,type:"img"};r.sendMessage(t).then(function(e){g(),w.messageLoading=!1}).catch(function(e){console.log(e)})})},w.cancelUpload=function(){w.showTempImage=!1,w.tempImageUrl=""},w.uploadSingleImage=function(e,t){w.file=e,w.errFile=t&&t[0],e&&(w.showTempImage=!0,w.tempImageUrl=e,g())},w.leaveMessageRoom=function(){n.emit("removeFromMessageRoom",{roomId:w.messageRoom._id}),d.history.back()}}e.module("petal.message").controller("MessageRoomController",["$scope","$timeout","Socket","$stateParams","userData","homeService","messageRoomService","$ionicScrollDelegate","userService","Upload","$ionicLoading","$window","messageRoom",t])}(window.angular),function(e){"use strict";function t(t,o,n,a,s){function i(e){var t={};t.newMessage=!0,t.lastMessage={_id:e._id,message:e.message,type:e.type};for(var o=0;o<p.messageRoomsList.length;o++)if(t.creator2._id==p.messageRoomsList[o].creator2._id&&t.lastMessage._id!==p.messageRoomsList[o].lastMessage._id)return p.messageRoomsList.splice(o,1),void p.messageRoomsList.unshift(t)}function r(){u()}function c(){p.params.page+=1,l()}function l(){n.getMessageRooms().then(function(t){console.log(t),e.forEach(t.data.docs,function(e){p.messageRoomsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.messageRoomsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.params={page:1,limit:25},p.messageRoomsList=[],l()}var p=this;p.getAllMessageRooms=l,p.loadMoreMessages=c,p.pullRefreshMessages=r,u(),s.on("newRoomMessageReceived",i),p.messageRoomPage=function(e){console.log(e),e.interest?o.go("messageRoomInterest",{interest:e.interest}):(console.log("yo"),o.go("messageRoomPost",{postId:e.post._id}))}}e.module("petal.message").controller("MessageRoomListController",["$scope","$state","messageRoomService","$ionicLoading","Socket",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"A",scope:{messageRoomId:"@messageRoomId"},link:function(n,a){function s(e){t.fromTemplateUrl("app/message/views/messageRoomSettings.html",{scope:n}).then(function(t){n.popover=t,n.popover.show(e)}).catch(function(e){window.console.log("error pops"),window.console.log(e)})}n.openMessageSettings=s,a.bind("click",function(e){n.openMessageSettings(e)}),n.leaveRoom=function(){e.leaveMessageRoom(n.messageRoomId).then(function(){n.popover.remove(),o.history.back()}).catch(function(e){window.console.log(e),o.history.back()})}}}}e.module("petal.message").directive("messageRoomSettings",["messageRoomService","$ionicPopover","$window",t])}(window.angular),function(e){"use strict";function t(e,t,o){function n(t){return e.post(o.baseURL+"message/create/"+t.roomId,t)}function a(t,n){return e.get(o.baseURL+"message/getMessages/"+t,{params:n})}function s(t){return e.get(o.baseURL+"messageRoom/getRoom/",{params:t})}function i(t){return e.post(o.baseURL+"messageRoom/leaveRoom/",{messageRoomId:t})}function r(){return e.get(o.baseURL+"messageRoom/getRooms/")}var c=this;c.sendMessage=n,c.getMessages=a,c.getMessageRoom=s,c.getMessageRooms=r,c.leaveMessageRoom=i}e.module("petal.message").service("messageRoomService",["$http","$stateParams","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){u()}function i(){p.peopleSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.peopleSearchText=e),u()}function c(){p.params.page+=1,l()}function l(){n.getAllUsers(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.peopleList.push(e)}),p.initialSearchCompleted=!0,t.data.total>p.peopleList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.peopleList=[],p.params={limit:25,page:1},p.peopleSearchText&&(p.params.interest=p.peopleSearchText),l()}var p=this;p.getAllPeople=l,p.pullRefreshPeople=s,p.loadMorePeople=c,p.searchCrossSubmit=i,p.peopleSearchTextSubmit=r,u()}e.module("petal.people").controller("AllPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){l()}function i(){u.params.page+=1,c()}function r(){l()}function c(){n.getNearbyUsers(u.params).then(function(o){e.forEach(o.data.docs,function(e){u.peopleList.push(e)}),u.noPeople=!o.data.total,u.initialSearchCompleted=!0,o.data.total>u.peopleList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1,t.$broadcast("scroll.infiniteScrollComplete")}).catch(function(e){console.log(e)}).finally(function(){u.initialSearchCompleted=!0,t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.peopleList=[],u.params={limit:25,page:1,distance:u.distance},c()}var u=this;u.getNearbyPeople=c,u.pullRefreshPeople=s,u.loadMorePeople=i,u.releaseRange=r,u.distance=10,l()}e.module("petal.people").controller("NearbyPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.people").controller("PeopleParentController",[t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getReceivedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:10,page:1},r()}var l=this;l.getReceivedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("ReceivedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getRequestedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRequestedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("RequestedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getRevealedUsers(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.peopleList.push(e)}),l.noPeople=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.peopleList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.peopleList=[],l.params={limit:25,page:1},r()}var l=this;l.getRevealedPeople=r,l.pullRefreshPeople=s,l.loadMorePeople=i,c()}e.module("petal.people").controller("RevealedPeopleController",["$scope","$state","peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",templateUrl:"app/people/views/peopleListTemplate.html",replace:!0,scope:{listType:"@listType",peopleList:"=peopleList",peopleSearchTextSubmit:"&peopleSearchTextSubmit"},controller:["$scope",function(t){t.currentUser=e.getUser(),t.setPeopleSearch=function(e,o){t.peopleSearchTextSubmit&&(t.peopleSearchTextSubmit({interest:e}),o.stopPropagation())},t.removeAfterDecided=function(e){t.peopleList.splice(e,1)}}]}}e.module("petal.people").directive("peopleList",["userData",t])}(window.angular),function(e){"use strict";function t(t,o){return{restrict:"E",templateUrl:"app/people/views/receivedPeopleList.html",replace:!0,controllerAs:"rpc",scope:{},controller:["$scope",function(n){function a(){t.getReceivedUsers(i.params).then(function(t){e.forEach(t.data.docs,function(e){i.peopleList.push(e)}),i.noPeople=!t.data.total,i.initialSearchCompleted=!0,t.data.total>i.peopleList.length?i.canLoadMoreResults=!0:i.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){n.$broadcast("scroll.infiniteScrollComplete"),o.hide()})}function s(){i.params.page+=1,a()}var i=this;i.getReceivedPeople=a,i.loadMorePeople=s,function(){i.canLoadMoreResults=!1,i.initialSearchCompleted=!1,i.peopleList=[],i.params={limit:10,page:1},a()}()}]}}e.module("petal.people").directive("receivedPeopleList",["peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o){return{restrict:"E",templateUrl:"app/people/views/requestedPeopleList.html",replace:!0,controllerAs:"rpc",scope:{},controller:["$scope",function(n){function a(){t.getRequestedUsers(i.params).then(function(t){e.forEach(t.data.docs,function(e){i.peopleList.push(e)}),i.noPeople=!t.data.total,i.initialSearchCompleted=!0,
t.data.total>i.peopleList.length?i.canLoadMoreResults=!0:i.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){n.$broadcast("scroll.infiniteScrollComplete"),o.hide()})}function s(){i.params.page+=1,a()}var i=this;i.getRequestedPeople=a,i.loadMorePeople=s,function(){i.canLoadMoreResults=!1,i.initialSearchCompleted=!1,i.peopleList=[],i.params={limit:10,page:1},a()}()}]}}e.module("petal.people").directive("requestedPeopleList",["peopleService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"A",scope:{deleteChat:"@",afterCallback:"&"},link:function(n,a){a.bind("click",function(a){e.show({titleText:"Delete ",buttons:[{text:'<i class="icon ion-share"></i> Delete Chat '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.deleteChatRoom(n.deleteChat).then(function(e){n.afterCallback&&n.afterCallback(),window.alert(e.data),o.go("home.chat.all")}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),a.stopPropagation()})}}}function o(e){return{scope:{userBlock:"@",chatDelete:"@",blockId:"@"},link:function(t,o){t.userBlock="true"===t.userBlock,t.afterCallback=function(){t.popover.remove(),window.history.back()},o.bind("click",function(o){e.fromTemplateUrl("app/user/views/settingsTemplate.html",{scope:t}).then(function(e){t.popover=e,t.popover.show(o)}),o.stopPropagation()})}}}function n(e){return{scope:{chatPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("chatBox",{user:t.chatPage}),o.stopPropagation()})}}}function a(e){return{scope:{userPage:"@"},link:function(t,o){o.bind("click",function(o){e.go("home.userPage",{user:t.userPage}),o.stopPropagation()})}}}function s(e,t){return{restrict:"A",scope:{afterCallback:"&",cancelReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Cancel Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.cancel(o.cancelReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function i(e,t){return{restrict:"A",scope:{afterCallback:"&",decideReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Accept Reveal Request'},{text:'<i class="icon ion-share"></i> Deny Reveal Request'}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e?t.accept(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}):1===e&&t.ignore(o.decideReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function r(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Delete Reveal '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.finish(o.deleteReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function c(e,t){return{restrict:"A",scope:{afterCallback:"&",sendReveal:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Reveal",buttons:[{text:'<i class="icon ion-share"></i> Send Reveal Request'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.initiate(o.sendReveal).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function l(e,t){return{restrict:"A",scope:{createBlock:"@",afterCallback:"&"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block User",buttons:[{text:'<i class="icon ion-share"></i> Block'}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(e){return t.create(o.createBlock).then(function(e){window.alert("user blocked"),o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}function u(e,t){return{restrict:"A",scope:{afterCallback:"&",deleteBlock:"@"},link:function(o,n){n.bind("click",function(n){e.show({titleText:"Block",buttons:[{text:'<i class="icon ion-share"></i> Unblock User '}],cancelText:"Cancel",cancel:function(){console.log("CANCELLED")},buttonClicked:function(e){return 0===e&&t.remove(o.deleteBlock).then(function(e){o.afterCallback&&o.afterCallback()}).catch(function(e){window.alert(JSON.stringify(e))}),!0}}),n.stopPropagation()})}}}e.module("petal.people").directive("cancelReveal",["$ionicActionSheet","revealService",s]).directive("decideReveal",["$ionicActionSheet","revealService",i]).directive("deleteReveal",["$ionicActionSheet","revealService",r]).directive("sendReveal",["$ionicActionSheet","revealService",c]).directive("createBlock",["$ionicActionSheet","blockService",l]).directive("deleteBlock",["$ionicActionSheet","blockService",u]).directive("deleteChat",["$ionicActionSheet","chatService","$state",t]).directive("chatPage",["$state",n]).directive("userSettings",["$ionicPopover",o]).directive("userPage",["$state",a])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return o.all=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function s(o){return o.revealed=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function i(o){return o.received=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function r(o){return o.requested=!0,e.get(t.baseURL+"user/getUsers",{params:o})}function c(o,n){e.get(t.baseURL+"user/getUsers",{params:n}).then(function(e){o.resolve(e)}).catch(function(e){o.reject(e)})}function l(a){1==a.page&&o.setUserLocation(),a.nearby=!0;var s=n.defer();return o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"user/getUsers",{params:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}).catch(function(e){window.console.log(e),c(s,a)}),s.promise}this.getAllUsers=a,this.getRevealedUsers=s,this.getNearbyUsers=l,this.getRequestedUsers=r,this.getReceivedUsers=i,this.getNearbyUsers=l}e.module("petal.people").service("peopleService",["$http","homeService","userLocationService","$q",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"upvote/get/"+o)}function n(o){return e.post(t.baseURL+"upvote/create/"+o)}function a(o){return e.post(t.baseURL+"upvote/delete/"+o)}this.createUpvote=n,this.deleteUpvote=a,this.getUpvote=o}e.module("petal.post").service("upvoteService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i){function r(){l.user=n.getUser(),e.editForm.user=l.user,e.editForm.user.gender=l.user.gender||"Other",l.user.interests.length&&(e.editForm.user.interests="#"+l.user.interests.join("#"))}function c(){i.hide(),e.editForm={},r()}var l=this;l.activate=c,c(),e.editForm.submitUser=function(){i.show(),a.updateUser(e.editForm.user).then(function(e){window.alert("updated user"),t.go("home.user.userMePage")}).catch(function(e){}).finally(function(){n.setUser(),i.hide()})},e.editForm.uploadUserPicture=function(t,n){e.loadingImage=!0,l.file=t,l.errFile=n&&n[0],t&&(l.file.upload=s.upload({url:o.baseURL+"upload/singleUpload",data:{file:l.file}}),l.file.upload.then(function(t){l.file.result=t.data,e.editForm.user.picture=t.data,e.loadingImage=!1}))}}e.module("petal.user").controller("UserEditPageController",["$scope","$state","homeService","userData","userService","Upload","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r){function c(e){i.open("https://www.facebook.com/"+e,"_system")}function l(){n.setUser().then(function(){w.user=n.getUser()}).catch(function(e){window.console.log(e)}).finally(function(){r.hide()})}function u(){w.params={page:1,limit:100,user:n.getUser()._id},s.getLatestPosts(w.params).then(function(e){w.postsList=e.data.docs})}function p(e){w.activeTab=e}function d(e){return e===w.activeTab}function f(e){w.subActiveTab=e}function m(e){return e===w.subActiveTab}function g(){o.logout(),t.go("authenticate")}function h(){l(),v(),e.$broadcast("scroll.refreshComplete"),u()}function v(){a.getRequestedUsers({page:1,limit:25}).then(function(e){w.peopleList=e.data.docs,w.total=e.data.total})}var w=this;w.logout=g,w.activate=h,w.activeTab=1,w.activateTab=p,w.isTabActive=d,w.subActiveTab=1,w.subActivateTab=f,w.isSubTabActive=m,w.openFacebook=c,h()}e.module("petal.user").controller("UserMePageController",["$scope","$state","$auth","userData","peopleService","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s,i,r,c){function l(e){r.open("https://www.facebook.com/"+e,"_system")}function u(e){r.open("https://plus.google.com/"+e,"_system")}function p(){v.params={page:1,limit:100,user:a.user},i.getLatestPosts(v.params).then(function(e){v.postsList=e.data.docs})}function d(e){v.activeTab=e}function f(e){return e===v.activeTab}function m(){n.check(a.user).then(function(e){v.revealChoice=e.data.status})}function g(){r.history.back()}function h(){o.getUser(a.user).then(function(e){v.user=e.data}).catch(function(e){}).finally(function(){c.hide()})}var v=this;v.checkReveal=m,v.goBack=g,v.activateTab=d,v.isTabActive=f,v.openFacebook=l,v.openGoogle=u,function(){h(),v.revealChoice=s,v.activeTab=1,p()}()}e.module("petal.user").controller("UserPageController",["$state","$auth","userService","revealService","$stateParams","friends","postService","$window","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o){alert(o)}e.module("petal.user").controller("UserPagePostsController",["$state","$stateParams","friends",t])}(window.angular),function(e){"use strict";function t(){}e.module("petal.user").controller("UserParentController",[t])}(window.angular),function(e){"use strict";function t(e){return{restrict:"E",replace:!0,templateUrl:"app/user/views/blockedList.html",link:function(t){t.afterCallback=function(e){t.peopleList.splice(e,1)},e.getBlocks().then(function(e){window.console.log(e),t.peopleList=e.data})}}}e.module("petal.user").directive("blockedList",["blockService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.post(t.baseURL+"block/create",{secondUser:o})}function n(o){return e.post(t.baseURL+"block/delete",{secondUser:o})}function a(o){return e.get(t.baseURL+"block/get/"+o)}function s(){return e.get(t.baseURL+"block/getBlocks/")}this.create=o,this.remove=n,this.getBlocks=s,this.check=a}e.module("petal.user").service("blockService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t){function o(e){return{secondUser:e}}function n(o){return e.post(t.baseURL+"reveal/initiate",{secondUser:o})}function a(o){return e.post(t.baseURL+"reveal/accept",{secondUser:o})}function s(o){return e.post(t.baseURL+"reveal/ignore",{secondUser:o})}function i(o){return e.post(t.baseURL+"reveal/cancel",{secondUser:o})}function r(n){var a=o(n);return e.get(t.baseURL+"reveal/received",{params:a})}function c(n){var a=o(n);return e.get(t.baseURL+"reveal/requested",{params:a})}function l(n){var a=o(n);return e.get(t.baseURL+"reveal/revealed",{params:a})}function u(o){return e.post(t.baseURL+"reveal/finish",{secondUser:o})}function p(n){var a=o(n);return e.get(t.baseURL+"reveal/check",{params:a})}this.initiate=n,this.accept=a,this.ignore=s,this.cancel=i,this.received=r,this.requested=c,this.revealed=l,this.finish=u,this.check=p}e.module("petal.user").service("revealService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function s(){var t=o.defer(),a={timeout:3e3,enableHighAccuracy:!1};return e.getCurrentPosition(a).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.resolve(o)}).catch(function(){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.resolve(o)}).catch(function(e){window.console.log("error from google"),window.console.log(e),t.reject("Not able to acces your location.Make sure location is enabled.")})}),t.promise}function i(){var o={timeout:3e3,enableHighAccuracy:!1};e.getCurrentPosition(o).then(function(e){var o={latitude:e.coords.latitude,longitude:e.coords.longitude};t.updateUser(o)}).catch(function(e){n.post("https://www.googleapis.com/geolocation/v1/geolocate?key=AIzaSyA5bqvCp1wYX7FGKiDyd3w0DzvJZoPwQrQ").then(function(e){var o={latitude:e.data.location.lat,longitude:e.data.location.lng};t.updateUser(o)}).catch(function(){3==e.code?a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1}):2!=e.code&&1!=e.code||a.warning("Not able to acces your location.Make sure location is enabled.","Warning",{maxOpened:1})})})}this.getUserLocation=s,this.setUserLocation=i}e.module("petal.user").service("userLocationService",["$cordovaGeolocation","userService","$q","$http","toastr",t])}(window.angular),function(e){"use strict";function t(e,t){function o(o){return e.get(t.baseURL+"user/get/"+o)}function n(o){return e.post(t.baseURL+"user/update/",{user:o})}this.updateUser=n,this.getUser=o}e.module("petal.user").service("userService",["$http","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n){return{restrict:"A",scope:{postSearchModal:"@"},link:function(a,s){function i(){a.postSearchData.postsList=[];var e={interest:a.postSearchData.postSearchModal,page:1,limit:50};a.getPosts(e)}function r(){return o.fromTemplateUrl("app/post/views/postSearchModal.html",{scope:a}).then(function(e){a.modal=e})}a.postSearchData={},a.postSearchData.postSearchModal=a.postSearchModal,a.postSearchData.postsList=[],a.modalsList=[],a.clickPostSearch=i,a.showPostModal=function(){r().then(function(){a.modal.show()}),a.$on("modal.hidden",function(){a.modal.remove()})},t.$on("$stateChangeStart",function(){a.modal&&a.modal.remove()}),a.getPosts=function(t){n.getAllPosts(t).then(function(t){e.forEach(t.data.docs,function(e){a.postSearchData.postsList.push(e)}),a.postSearchData.noPosts=!t.data.total,a.postSearchData.initialSearchCompleted=!0,t.data.total>a.postSearchData.postsList.length?a.postSearchData.canLoadMoreResults=!0:a.postSearchData.canLoadMoreResults=!1})},s.bind("click",function(e){var t={interest:a.postSearchData.postSearchModal,page:1,limit:50};a.showPostModal(),e.stopPropagation(),a.getPosts(t)})}}}e.module("petal.post").directive("postSearchModal",["$rootScope","$ionicModal","postService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){return{restrict:"E",templateUrl:"app/post/views/postsListTemplate.html",scope:{postsList:"=postsList",postSearchTextSubmit:"&postSearchTextSubmit"},replace:!0,link:function(a){function i(e){a.modal.hide(),t.go("home.userPage",{user:e})}function r(){return s.fromTemplateUrl("app/post/views/postModal.html",{scope:a}).then(function(e){a.modal=e})}a.getTime=function(e){return moment(e).fromNow()},a.currentUser=o.getUser(),a.userPage=i,a.postModal={},a.postModal.userPage=i,a.postModal.currentUser=a.currentUser,a.postModal.deletePost=function(){a.postModal.post.user._id===a.currentUser._id&&n.deletePost(a.postModal.post._id).then(function(){for(var e=a.postsList.length,t=0;t<e;t++)if(console.log("hit"+t),a.postsList[t]._id==a.postModal.post._id){console.log("hit delete"+t),a.postsList.splice(t,1),a.modal.remove();break}})},a.$on("$destroy",function(){a.modal&&a.modal.remove()}),e.$on("$stateChangeStart",function(){a.modal&&a.modal.remove()}),a.showPostModal=function(e){a.postModal.post=e,a.postModal.post.views+=1,r().then(function(){a.modal.show()}),a.$on("modal.hidden",function(){a.modal.remove()})}}}}e.module("petal.post").directive("postsList",["$rootScope","$state","userData","postService","upvoteService","$ionicModal",t])}(window.angular),function(e){"use strict";function t(e,t,o){return{restrict:"E",templateUrl:"app/post/views/postUpvoteTemplate.html",scope:{postId:"=postId",upvotesLength:"=upvotesLength"},replace:!0,link:function(e){function o(){t.getUpvote(e.postId).then(function(t){e.postUpvoted=t.data,e.loadingUpvote=!1}).catch(function(e){console.log("check error"),console.log(e)})}function n(){e.postUpvoted=!0,t.createUpvote(e.postId).then(function(){e.upvotesLength+=1}).catch(function(e){console.log("submit error"),console.log(e)})}function a(){e.postUpvoted=!1,t.deleteUpvote(e.postId).then(function(){e.upvotesLength-=1}).catch(function(e){window.alert(e)})}e.checkPostUpvote=o,e.submitPostUpvote=n,e.deletePostUpvote=a,function(){e.loadingUpvote=!0,o()}()}}}e.module("petal.post").directive("postUpvote",["$state","upvoteService","$timeout",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){u()}function i(){p.postSearchText="",p.showSearchCross=!1,u()}function r(e){p.showSearchCross=!0,e&&(p.postSearchText=e),p.postSearchText&&u()}function c(){p.params.page+=1,l()}function l(){p.noPosts=!1,n.getAllPosts(p.params).then(function(t){e.forEach(t.data.docs,function(e){p.postsList.push(e)}),p.noPosts=!t.data.total,p.initialSearchCompleted=!0,t.data.total>p.postsList.length?p.canLoadMoreResults=!0:p.canLoadMoreResults=!1}).catch(function(e){}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function u(){p.canLoadMoreResults=!1,p.initialSearchCompleted=!1,p.postsList=[],p.params={limit:5,page:1},p.postSearchText&&(p.params.interest=p.postSearchText),l()}var p=this;p.getAllPosts=l,p.pullRefreshPosts=s,p.loadMorePosts=c,p.postSearchTextSubmit=r,p.searchCrossSubmit=i,p.params={limit:3,page:1},u()}e.module("petal.post").controller("AllPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a){function s(){n.show(),o.submitPost(i.post).then(function(e){n.hide(),t.go("home.post.latest")}).catch(function(e){console.log("post controller error"),console.log(e)}).finally(function(){n.hide()})}var i=this;i.submitPost=s,i.post={},n.hide(),i.goBack=function(){window.history.back()},e.$watch(function(){return i.post.content},function(e,t){e&&e.length>300&&(i.post.content=t)}),i.selectRandomImage=function(e){i.post.image=e},i.loadRandomImages=function(e){i.loadingRandomImage=!0,i.randomImages=[],a.getImages(e).then(function(e){i.randomImages=e.data,i.loadingRandomImage=!1}).catch(function(e){console.log("images err"),console.log(e)})},i.cancelUpload=function(){i.post.imageId&&a.deleteUpload(i.post.imageId).then(function(e){i.post.image="",i.post.imageId=""})},i.submitUpload=function(e,t){i.post.imageId&&i.cancelUpload(),i.loadingImage=!0,i.file=e,i.errFile=t&&t[0],i.file&&a.submitUpload(i.file).then(function(e){i.post.image=e.data.image,i.post.imageId=e.data.imageId,i.loadingImage=!1})}}e.module("petal.post").controller("CreatePostController",["$scope","$state","postService","$ionicLoading","homeService",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getLatestPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),l.noPosts=!t.data.total,l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getLatestPosts=r,l.pullRefreshPosts=s,l.loadMorePosts=i,c()}e.module("petal.post").controller("LatestPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){l()}function i(){l()}function r(){u.params.page+=1,c()}function c(){n.getNearbyPosts(u.params).then(function(t){e.forEach(t.data.docs,function(e){u.postsList.push(e)}),u.noPosts=!t.data.total,u.initialSearchCompleted=!0,t.data.total>u.postsList.length?u.canLoadMoreResults=!0:u.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide(),u.initialSearchCompleted=!0})}function l(){u.canLoadMoreResults=!1,u.initialSearchCompleted=!1,u.postsList=[],u.params={limit:10,page:1,distance:u.distance},c()}var u=this;u.getNearbyPosts=c,u.pullRefreshPosts=s,u.loadMorePosts=r,u.releaseRange=i,u.distance=10,l()}e.module("petal.post").controller("NearbyPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(t,o,n,a){function s(){c()}function i(){l.params.page+=1,r()}function r(){n.getPopularPosts(l.params).then(function(t){e.forEach(t.data.docs,function(e){l.postsList.push(e)}),t.data.total||(l.noPosts=!0),l.initialSearchCompleted=!0,t.data.total>l.postsList.length?l.canLoadMoreResults=!0:l.canLoadMoreResults=!1}).catch(function(e){console.log(e)}).finally(function(){t.$broadcast("scroll.refreshComplete"),t.$broadcast("scroll.infiniteScrollComplete"),a.hide()})}function c(){l.canLoadMoreResults=!1,l.initialSearchCompleted=!1,l.postsList=[],l.params={limit:3,page:1},r()}var l=this;l.getPopularPosts=r,l.pullRefreshPosts=s,l.loadMorePosts=i,c()}e.module("petal.post").controller("PopularPostController",["$scope","$state","postService","$ionicLoading",t])}(window.angular),function(e){"use strict";function t(e){}e.module("petal.post").controller("PostParentController",["$rootScope",t])}(window.angular),function(e){"use strict";function t(e,t,o,n,a,s){function i(){o.getPost(n.id).then(function(e){p.post=e.data,p.distanceObj={latitude:p.post.loc[1],longitude:p.post.loc[0],diatance:0},u()})}function r(){s.getUpvote(p.currentPost).then(function(e){p.postUpvoted=e.data||!1}).catch(function(e){console.log(e)})}function c(){s.createUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function l(){s.deleteUpvote(p.currentPost).then(function(e){r()}).catch(function(e){console.log(e)})}function u(){o.getDistance(p.distanceObj)}var p=this;p.getSinglePost=i,p.submitPostUpvote=c,p.deletePostUpvote=l,p.getPostDistance=u,p.back=function(){window.history.back()},function(){p.currentPost=n.id,i(),r()}()}e.module("petal.post").controller("SinglePostController",["$scope","$state","postService","$stateParams","$ionicHistory","upvoteService",t])}(window.angular),function(e){"use strict";function t(e,t,o,n){function a(o){return e.get(t.baseURL+"post/getPosts",{params:o})}function s(o,n){e.get(t.baseURL+"post/getPosts",{params:n}).then(function(e){console.log("without position"),o.resolve(e)}).catch(function(e){o.reject(e)})}function i(a){a.nearby=!0;var i=n.defer();return 1==a.page&&o.setUserLocation(),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.get(t.baseURL+"post/getPosts",{params:a}).then(function(e){i.resolve(e)}).catch(function(e){i.reject(e)})}).catch(function(e){window.console.log(e),s(i,a)}),i.promise}function r(o){return o.sort="-time",e.get(t.baseURL+"post/getPosts",{params:o})}function c(o){return o.sort="-upvotesLength",e.get(t.baseURL+"post/getPosts",{params:o})}function l(a){var s=n.defer();return console.log("entered submit post"),o.getUserLocation().then(function(o){a.latitude=o.latitude,a.longitude=o.longitude,e.post(t.baseURL+"post/create",{post:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}).catch(function(o){e.post(t.baseURL+"post/create",{post:a}).then(function(e){s.resolve(e)}).catch(function(e){s.reject(e)})}),s.promise}function u(o){return e.delete(t.baseURL+"post/delete/"+o)}function p(o){return e.get(t.baseURL+"post/get/"+o)}function d(e){var t=n.defer(),a=e.latitude,s=e.longitude;return o.getUserLocation().then(function(e){var o=e.latitude,n=e.longitude,i=f(o-a),r=f(n-s),c=Math.sin(i/2)*Math.sin(i/2)+Math.cos(f(a))*Math.cos(f(o))*Math.sin(r/2)*Math.sin(r/2),l=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),u=6371*l;t.resolve(Math.ceil(u))}).catch(function(e){console.log(e)}),t.promise}function f(e){return e*(Math.PI/180)}this.getAllPosts=a,this.getNearbyPosts=i,this.getLatestPosts=r,this.getPopularPosts=c,this.submitPost=l,this.deletePost=u,this.getPost=p,this.getDistance=d}e.module("petal.post").service("postService",["$http","homeService","userLocationService","$q",t])}(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJjaGF0L2NoYXRNb2R1bGUuanMiLCJob21lL2hvbWVNb2R1bGUuanMiLCJtZXNzYWdlL21lc3NhZ2VNb2R1bGUuanMiLCJwZW9wbGUvcGVvcGxlTW9kdWxlLmpzIiwidXNlci91c2VyTW9kdWxlLmpzIiwicG9zdC9wb3N0TW9kdWxlLmpzIiwiY2hhdC9jb250cm9sbGVyL2FsbENoYXRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRCb3hDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL2NoYXRQYXJlbnRDb250cm9sbGVyLmpzIiwiY2hhdC9jb250cm9sbGVyL3JldmVhbGVkQ2hhdENvbnRyb2xsZXIuanMiLCJjaGF0L3NlcnZpY2UvY2hhdFNlcnZpY2UuanMiLCJjaGF0L3NlcnZpY2Uvc29ja2V0LmpzIiwiY2hhdC9zZXJ2aWNlL3NvY2tldFVzZXJTZXJ2aWNlLmpzIiwiaG9tZS9jb250cm9sbGVyL2F1dGhlbnRpY2F0aW9uQ29udHJvbGxlci5qcyIsImhvbWUvY29udHJvbGxlci9ob21lQ29udHJvbGxlci5qcyIsImhvbWUvZGlyZWN0aXZlL2Rpc3RhbmNlVmlld0RpcmVjdGl2ZS5qcyIsImhvbWUvZGlyZWN0aXZlL2tlZXBTY3JvbGxEaXJlY3RpdmUuanMiLCJob21lL3NlcnZpY2UvaG9tZVNlcnZpY2UuanMiLCJob21lL3NlcnZpY2Uvbm90aWZpY2F0aW9uU2VydmljZS5qcyIsImhvbWUvc2VydmljZS91c2VyZGF0YS5qcyIsIm1lc3NhZ2UvY29udHJvbGxlci9tZXNzYWdlUm9vbUNvbnRyb2xsZXIuanMiLCJtZXNzYWdlL2NvbnRyb2xsZXIvbWVzc2FnZVJvb21MaXN0Q29udHJvbGxlci5qcyIsIm1lc3NhZ2UvZGlyZWN0aXZlL21lc3NhZ2VSb29tU2V0dGluZ0RpcmVjdGl2ZS5qcyIsIm1lc3NhZ2Uvc2VydmljZS9tZXNzYWdlUm9vbVNlcnZpY2UuanMiLCJwZW9wbGUvY29udHJvbGxlci9hbGxQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2NvbnRyb2xsZXIvbmVhcmJ5UGVvcGxlQ29udHJvbGxlci5qcyIsInBlb3BsZS9jb250cm9sbGVyL3Blb3BsZVBhcmVudENvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9yZWNlaXZlZFBlb3BsZUNvbnRyb2xsZXIuanMiLCJwZW9wbGUvY29udHJvbGxlci9yZXF1ZXN0ZWRQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2NvbnRyb2xsZXIvcmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyLmpzIiwicGVvcGxlL2RpcmVjdGl2ZS9wZW9wbGVMaXN0RGlyZWN0aXZlLmpzIiwicGVvcGxlL2RpcmVjdGl2ZS9yZWNlaXZlZFBlb3BsZUxpc3QuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3JlcXVlc3RlZFBlb3BsZUxpc3QuanMiLCJwZW9wbGUvZGlyZWN0aXZlL3JldmVhbERpcmVjdGl2ZS5qcyIsInBlb3BsZS9zZXJ2aWNlL3Blb3BsZVNlcnZpY2UuanMiLCJwZW9wbGUvc2VydmljZS91cHZvdGVTZXJ2aWNlLmpzIiwidXNlci9jb250cm9sbGVyL3VzZXJFZGl0UGFnZUNvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlck1lUGFnZUNvbnRyb2xsZXIuanMiLCJ1c2VyL2NvbnRyb2xsZXIvdXNlclBhZ2VDb250cm9sbGVyLmpzIiwidXNlci9jb250cm9sbGVyL3VzZXJQYWdlUG9zdHNDb250cm9sbGVyLmpzIiwidXNlci9jb250cm9sbGVyL3VzZXJQYXJlbnRDb250cm9sbGVyLmpzIiwidXNlci9kaXJlY3RpdmUvYmxvY2tlZExpc3REaXJlY3RpdmUuanMiLCJ1c2VyL3NlcnZpY2UvYmxvY2tTZXJ2aWNlLmpzIiwidXNlci9zZXJ2aWNlL3JldmVhbFNlcnZpY2UuanMiLCJ1c2VyL3NlcnZpY2UvdXNlckxvY2F0aW9uU2VydmljZS5qcyIsInVzZXIvc2VydmljZS91c2VyU2VydmljZS5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RTZWFyY2hNb2RhbC5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RzTGlzdERpcmVjdGl2ZS5qcyIsInBvc3QvZGlyZWN0aXZlL3Bvc3RVcHZvdGVEaXJlY3RpdmUuanMiLCJwb3N0L2NvbnRyb2xsZXIvYWxsUG9zdENvbnRyb2xsZXIuanMiLCJwb3N0L2NvbnRyb2xsZXIvY3JlYXRlUG9zdENvbnRyb2xsZXIuanMiLCJwb3N0L2NvbnRyb2xsZXIvbGF0ZXN0UG9zdENvbnRyb2xsZXIuanMiLCJwb3N0L2NvbnRyb2xsZXIvbmVhcmJ5UG9zdENvbnRyb2xsZXIuanMiLCJwb3N0L2NvbnRyb2xsZXIvcG9wdWxhclBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL3Bvc3RQYXJlbnRDb250cm9sbGVyLmpzIiwicG9zdC9jb250cm9sbGVyL3NpbmdsZVBvc3RDb250cm9sbGVyLmpzIiwicG9zdC9zZXJ2aWNlL3Bvc3RTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJjb25maWdGdW5jdGlvbiIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJ0b2FzdHJDb25maWciLCJ0YWJzIiwicG9zaXRpb24iLCJzY3JvbGxpbmciLCJqc1Njcm9sbGluZyIsInZpZXdzIiwidHJhbnNpdGlvbiIsIm90aGVyd2lzZSIsImV4dGVuZCIsImF1dG9EaXNtaXNzIiwibWF4T3BlbmVkIiwiYXBwIiwibW9kdWxlIiwiY29uZmlnIiwicnVuIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIiRpb25pY1BsYXRmb3JtIiwiJGlvbmljTG9hZGluZyIsIlJlcXVlc3RzU2VydmljZSIsIiRjb3Jkb3ZhUHVzaFY1IiwiJGlvbmljSGlzdG9yeSIsImJhY2tCdXR0b25FeGl0IiwicmVnaXN0ZXJCYWNrQnV0dG9uQWN0aW9uIiwiZSIsImJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCIsImlvbmljIiwiUGxhdGZvcm0iLCJleGl0QXBwIiwiYmFja1ZpZXciLCJnb0JhY2siLCJ3aW5kb3ciLCJwbHVnaW5zIiwidG9hc3QiLCJzaG93U2hvcnRDZW50ZXIiLCJhIiwiYiIsInNldFRpbWVvdXQiLCJwcmV2ZW50RGVmYXVsdCIsIm5vdGlmaWNhdGlvbkZ1bmN0aW9uIiwicmVnaXN0ZXIiLCIkb24iLCJldmVudCIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwicmVhZHkiLCJjb3Jkb3ZhIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJkaXNhYmxlU2Nyb2xsIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0Iiwib25lcnJvciIsImVycm9yTXNnIiwidXJsIiwibGluZU51bWJlciIsImdvIiwiaGlkZSIsInN0YXRlIiwiYWJzdHJhY3QiLCJjaGF0LXRhYiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlc29sdmUiLCJibG9ja2VkIiwiJHN0YXRlUGFyYW1zIiwiYmxvY2tTZXJ2aWNlIiwiJHEiLCJkZWZlciIsImNoZWNrIiwidXNlciIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwicHJvbWlzZSIsIiRhdXRoUHJvdmlkZXIiLCJhdXRoZW50aWNhdGVVcmwiLCJyZWRpcmVjdFVybDIiLCJmYWNlYm9vayIsImNsaWVudElkIiwicmVkaXJlY3RVcmkiLCJnb29nbGUiLCJyZWRpcmVjdElmVXNlck5vdEF1dGhlbnRpY2F0ZWQiLCIkYXV0aCIsIiR0aW1lb3V0IiwiaXNBdXRoZW50aWNhdGVkIiwibWVzc2FnZVJvb20iLCJtZXNzYWdlUm9vbVNlcnZpY2UiLCJwYXJhbXMiLCJwb3N0SWQiLCJpbnRlcmVzdCIsImdldE1lc3NhZ2VSb29tIiwiZm91bmRNZXNzYWdlUm9vbSIsInBlb3BsZS10YWIiLCJhbGVydCIsImhpc3RvcnkiLCJiYWNrIiwiZnJpZW5kcyIsInJldmVhbFNlcnZpY2UiLCJzdGF0dXMiLCJ1c2VyLXRhYiIsImV4dHJhLXRhYiIsInBvc3QtdGFiIiwiQWxsQ2hhdENvbnRyb2xsZXIiLCIkc2NvcGUiLCJjaGF0U2VydmljZSIsIlNvY2tldCIsIm1lc3NhZ2VSZWNlaXZlZCIsIm1lc3NhZ2UiLCJuZXdDaGF0Um9vbSIsImNyZWF0b3IyIiwibmV3Q2hhdCIsImxhc3RNZXNzYWdlIiwiX2lkIiwidHlwZSIsImNoIiwiYWNjIiwiY2hhdFJvb21zTGlzdCIsImxlbmd0aCIsInNwbGljZSIsInVuc2hpZnQiLCJwdWxsUmVmcmVzaENoYXRzIiwiYWN0aXZhdGUiLCJsb2FkTW9yZUNoYXRzIiwicGFnZSIsImdldEFsbENoYXRSb29tcyIsImZvckVhY2giLCJkb2NzIiwidmFsdWUiLCJwdXNoIiwibm9Qb3N0cyIsInRvdGFsIiwiaW5pdGlhbFNlYXJjaENvbXBsZXRlZCIsImNhbkxvYWRNb3JlUmVzdWx0cyIsImZpbmFsbHkiLCIkYnJvYWRjYXN0IiwibGltaXQiLCJ0aGlzIiwib24iLCJjaGF0UGFnZSIsInVzZXJJZCIsIkNoYXRCb3hDb250cm9sbGVyIiwidXNlckRhdGEiLCJob21lU2VydmljZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwidXNlclNlcnZpY2UiLCJVcGxvYWQiLCIkd2luZG93IiwiY2JjIiwiZ2V0Q2hhdE1lc3NhZ2VzIiwiZ2V0UmVjZWl2ZXIiLCJnZXRVc2VyIiwicmVjZWl2ZXJVc2VySUQiLCJyZWNlaXZlclVzZXIiLCJlcnIiLCJzY3JvbGxCb3R0b20iLCJjaGF0Um9vbUlkIiwicmVzIiwiY2hhdCIsImNoYXRMaXN0Iiwic29ja2V0Sm9pbiIsImVtaXQiLCJyb29tSWQiLCJtZXNzYWdlTG9hZGluZyIsImlzQmxvY2tlZCIsImN1cnJlbnRVc2VyIiwibWVzc2FnZVRyeUNvdW50Iiwic2hvdyIsImdldENoYXRSb29tIiwiY2hhdFJvb20iLCJjbGlja1N1Ym1pdCIsIiRldmVudCIsImZvY3VzSW5wdXQiLCJpc1Zpc2libGUiLCJjaGF0T2JqIiwibXlNc2ciLCJyZWNlaXZlciIsInNlbmRDaGF0TWVzc2FnZSIsInN1Ym1pdFVwbG9hZCIsImZpbGUiLCJ1cGxvYWQiLCJiYXNlVVJMIiwicmVzdWx0IiwidXBsb2FkZWRJbWFnZSIsImNhbmNlbFVwbG9hZCIsInNob3dUZW1wSW1hZ2UiLCJ0ZW1wSW1hZ2VVcmwiLCJ1cGxvYWRTaW5nbGVJbWFnZSIsImVyckZpbGVzIiwiZXJyRmlsZSIsImxlYXZlQ2hhdEJveCIsInVwZGF0ZUNoYXRSb29tIiwiQ2hhdFBhcmVudENvbnRyb2xsZXIiLCJSZXZlYWxlZENoYXRDb250cm9sbGVyIiwiZ2V0UmV2ZWFsZWRDaGF0Um9vbXMiLCJSZXZpZXdTZXJ2aWNlIiwiJGh0dHAiLCJkZWxldGVDaGF0Um9vbSIsImlkIiwicG9zdCIsImdldCIsInJldmVhbGVkIiwicnMiLCJzZXJ2aWNlIiwiU29ja2V0RmFjdG9yeSIsInNvY2tldEZhY3RvcnkiLCJwcmVmaXgiLCJpb1NvY2tldCIsImlvIiwiY29ubmVjdCIsImZhY3RvcnkiLCJzb2NrZXRGYWN0b3J5RnVuY3Rpb24iLCJBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIiLCJ1c2VyTG9jYXRpb25TZXJ2aWNlIiwiJGlvbmljTW9kYWwiLCJzdWNjZXNzZnVsQXV0aGVudGljYXRpb24iLCJzZXRVc2VyIiwic2V0VXNlckxvY2F0aW9uIiwiZGV2aWNlX3Rva2VuIiwic29jaWFsQXV0aGVudGljYXRlIiwicHJvdmlkZXIiLCJhdXRoZW50aWNhdGUiLCJsb2FkUG9zdE1vZGFsIiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJtb2RhbCIsImF1dGhMb2dvdXQiLCJsb2dvdXQiLCJyZW1vdmVVc2VyIiwicGhjIiwiaXNBdXRoIiwid2ViU2lnbkluIiwiZ29vZ2xlU2lnbkluIiwidGVtcGxhdGUiLCJnb29nbGVwbHVzIiwibG9naW4iLCJ3ZWJDbGllbnRJZCIsInVzZXJfZGF0YSIsInByb2ZpbGUiLCJkaXNwbGF5TmFtZSIsImltYWdlVXJsIiwic2V0VG9rZW4iLCJ0b2tlbiIsIm1zZyIsIkhvbWVDb250cm9sbGVyIiwidG9hc3RyIiwiJGlvbmljVGFic0RlbGVnYXRlIiwibWVzc2FnZVN0cmluZyIsInVzZXJOYW1lIiwiYW5vbk5hbWUiLCJmYWNlYm9va05hbWUiLCJnb29nbGVOYW1lIiwiY3VycmVudCIsIm5hbWUiLCJpbmZvIiwiYWxsb3dIdG1sIiwib25UYXAiLCJoYyIsImJhZGdlVmFsdWUiLCJjaGF0Q2xpY2tlZCIsInNsaWRlSGVhZGVyIiwic2xpZGVIZWFkZXJQcmV2aW91cyIsImdvRm9yd2FyZCIsInNlbGVjdGVkIiwic2VsZWN0ZWRJbmRleCIsInNlbGVjdCIsImlvbmljQ3VzdG9tU3Bpbm5lciIsImRpcmVjdGl2ZSIsInBvc3RTZXJ2aWNlIiwicmVzdHJpY3QiLCJwb3NpdGlvbkNvcmRzIiwicmVwbGFjZSIsImxpbmsiLCJnZXREaXN0YW5jZSIsImRpc3RhbmNlT2JqIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJkaXN0YW5jZSIsIndhdGNoU2Nyb2xsIiwiZWxlbSIsImJpbmQiLCJzY3JvbGxUb3AiLCJzcmNFbGVtZW50IiwiJGFwcGx5IiwiaW1hZ2VNb2RhbCIsInNob3dJbWFnZU1vZGFsIiwiaW1hZ2UiLCJsb2FkTW9kYWwiLCJjdXJyZW50SW1hZ2UiLCJzdG9wUHJvcGFnYXRpb24iLCJTY3JvbGxQb3NpdGlvbnMiLCJnZXRTY3JvbGxQb3NpdGlvbiIsIm9mZnNldCIsInNjcm9sbFRvIiwibGVmdCIsInRvcCIsInRyaWdnZXIiLCJlbGVtZW50IiwiJHdhdGNoIiwiZm9jdXMiLCJpbWdMYXJnZSIsImltZ1NtYWxsIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJjaGlsZHJlbiIsImZpbmQiLCJjc3MiLCJIb21lU2VydmljZSIsImRlbGV0ZVVwbG9hZCIsInRoYXQiLCJwdWJsaWNfaWQiLCJnZXRJbWFnZXMiLCJpbWFnZVRleHQiLCJkZWZlcnJlZCIsIm9wdGlvbnMiLCJhbmRyb2lkIiwic2VuZGVySUQiLCJ2aWJyYXRlIiwiYnJvd3NlciIsImlvcyIsImJhZGdlIiwic291bmQiLCJ3aW5kb3dzIiwiaW5pdGlhbGl6ZSIsIm9uTm90aWZpY2F0aW9uIiwiYXJndW1lbnRzIiwib25FcnJvciIsInJlZ2lzdHJhdGlvbklkIiwiYmFzZV91cmwiLCJyZWplY3QiLCJzdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiY2FjaGVkVXNlciIsIm9iajEiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldFBheWxvYWQiLCJzdWIiLCJwYXJzZSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwiaXNVc2VyRXhpc3RzIiwiTWVzc2FnZVJvb21Db250cm9sbGVyIiwibG9hZE1vcmVNZXNzYWdlcyIsImdldE1lc3NhZ2VzIiwibWVzc2FnZUxpc3QiLCJmb3JtYXRNZXNzYWdlRGF0ZSIsIm1lc3NhZ2VEYXRlIiwibW9tZW50IiwiZm9ybWF0IiwibWVzc2FnZU9iaiIsInNlbmRNZXNzYWdlIiwibGVhdmVNZXNzYWdlUm9vbSIsIk1lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXIiLCJuZXdNZXNzYWdlUm9vbSIsIm5ld01lc3NhZ2UiLCJtZXNzYWdlUm9vbXNMaXN0IiwicHVsbFJlZnJlc2hNZXNzYWdlcyIsImdldEFsbE1lc3NhZ2VSb29tcyIsImdldE1lc3NhZ2VSb29tcyIsIm1lc3NhZ2VSb29tUGFnZSIsIm1lc3NhZ2VSb29tU2V0dGluZ3MiLCIkaW9uaWNQb3BvdmVyIiwibWVzc2FnZVJvb21JZCIsIm9wZW5NZXNzYWdlU2V0dGluZ3MiLCJwb3BvdmVyIiwibGVhdmVSb29tIiwicmVtb3ZlIiwiTWVzc2FnZVJvb21TZXJ2aWNlIiwiQWxsUGVvcGxlQ29udHJvbGxlciIsInBlb3BsZVNlcnZpY2UiLCJwdWxsUmVmcmVzaFBlb3BsZSIsInNlYXJjaENyb3NzU3VibWl0IiwiYXBjIiwicGVvcGxlU2VhcmNoVGV4dCIsInNob3dTZWFyY2hDcm9zcyIsInBlb3BsZVNlYXJjaFRleHRTdWJtaXQiLCJsb2FkTW9yZVBlb3BsZSIsImdldEFsbFBlb3BsZSIsImdldEFsbFVzZXJzIiwicGVvcGxlTGlzdCIsIk5lYXJieVBlb3BsZUNvbnRyb2xsZXIiLCJnZXROZWFyYnlQZW9wbGUiLCJyZWxlYXNlUmFuZ2UiLCJnZXROZWFyYnlVc2VycyIsIm5vUGVvcGxlIiwiUGVvcGxlUGFyZW50Q29udHJvbGxlciIsIlJlY2VpdmVkUGVvcGxlQ29udHJvbGxlciIsImdldFJlY2VpdmVkUGVvcGxlIiwiZ2V0UmVjZWl2ZWRVc2VycyIsIlJlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXIiLCJnZXRSZXF1ZXN0ZWRQZW9wbGUiLCJnZXRSZXF1ZXN0ZWRVc2VycyIsIlJldmVhbGVkUGVvcGxlQ29udHJvbGxlciIsImdldFJldmVhbGVkUGVvcGxlIiwiZ2V0UmV2ZWFsZWRVc2VycyIsImxpc3RUeXBlIiwic2V0UGVvcGxlU2VhcmNoIiwicmVtb3ZlQWZ0ZXJEZWNpZGVkIiwiaW5kZXgiLCJyZWNlaXZlZFBlb3BsZUxpc3QiLCJycGMiLCJyZXF1ZXN0ZWRQZW9wbGVMaXN0IiwiZGVsZXRlQ2hhdCIsIiRpb25pY0FjdGlvblNoZWV0IiwiYWZ0ZXJDYWxsYmFjayIsInRpdGxlVGV4dCIsImJ1dHRvbnMiLCJ0ZXh0IiwiY2FuY2VsVGV4dCIsImNhbmNlbCIsImJ1dHRvbkNsaWNrZWQiLCJ1c2VyU2V0dGluZ3MiLCJ1c2VyQmxvY2siLCJjaGF0RGVsZXRlIiwiYmxvY2tJZCIsInVzZXJQYWdlIiwiY2FuY2VsUmV2ZWFsIiwiZGVjaWRlUmV2ZWFsIiwiYWNjZXB0IiwiaWdub3JlIiwiZGVsZXRlUmV2ZWFsIiwiZmluaXNoIiwic2VuZFJldmVhbCIsImluaXRpYXRlIiwiY3JlYXRlQmxvY2siLCJjcmVhdGUiLCJkZWxldGVCbG9jayIsIlBlb3BsZVNlcnZpY2UiLCJhbGwiLCJyZWNlaXZlZCIsInJlcXVlc3RlZCIsImdldEZpbHRlcmVkVXNlcnMiLCJ1c2VycyIsIm5lYXJieSIsImdldFVzZXJMb2NhdGlvbiIsIlVwdm90ZVNlcnZpY2UiLCJnZXRVcHZvdGUiLCJjcmVhdGVVcHZvdGUiLCJkZWxldGVVcHZvdGUiLCJVc2VyRWRpdFBhZ2VDb250cm9sbGVyIiwidW1wYyIsImVkaXRGb3JtIiwiZ2VuZGVyIiwiaW50ZXJlc3RzIiwiam9pbiIsInN1Ym1pdFVzZXIiLCJ1cGRhdGVVc2VyIiwidXBsb2FkVXNlclBpY3R1cmUiLCJsb2FkaW5nSW1hZ2UiLCJwaWN0dXJlIiwiVXNlck1lUGFnZUNvbnRyb2xsZXIiLCJvcGVuRmFjZWJvb2siLCJvcGVuIiwiZ2V0VXNlclBvc3RzIiwiZ2V0TGF0ZXN0UG9zdHMiLCJwb3N0c0xpc3QiLCJhY3RpdmF0ZVRhYiIsInRhYkluZGV4IiwiYWN0aXZlVGFiIiwiaXNUYWJBY3RpdmUiLCJzdWJBY3RpdmF0ZVRhYiIsInN1YlRhYkluZGV4Iiwic3ViQWN0aXZlVGFiIiwiaXNTdWJUYWJBY3RpdmUiLCJnZXRSZXF1ZXN0ZWRMaXN0IiwiVXNlclBhZ2VDb250cm9sbGVyIiwib3Blbkdvb2dsZSIsInVwYyIsImNoZWNrUmV2ZWFsIiwicmV2ZWFsQ2hvaWNlIiwiVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXIiLCJVc2VyUGFyZW50Q29udHJvbGxlciIsImJsb2NrZWRMaXN0IiwiZ2V0QmxvY2tzIiwiQmxvY2tTZXJ2aWNlIiwic2Vjb25kVXNlciIsIlJldmVhbFNlcnZpY2UiLCJnZXRQYXJhbXMiLCJVc2VyTG9jYXRpb25TZXJ2aWNlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbnMiLCJjb29yZHMiLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImNvZGUiLCJ3YXJuaW5nIiwiVXNlclNlcnZpY2UiLCJwb3N0U2VhcmNoTW9kYWwiLCJjbGlja1Bvc3RTZWFyY2giLCJwb3N0U2VhcmNoRGF0YSIsImdldFBvc3RzIiwibW9kYWxzTGlzdCIsInNob3dQb3N0TW9kYWwiLCJnZXRBbGxQb3N0cyIsInVwdm90ZVNlcnZpY2UiLCJwb3N0U2VhcmNoVGV4dFN1Ym1pdCIsImdldFRpbWUiLCJ0aW1lIiwiZnJvbU5vdyIsInBvc3RNb2RhbCIsImRlbGV0ZVBvc3QiLCJwb3N0c0xlbmd0aCIsImkiLCJwb3N0VXB2b3RlIiwidXB2b3Rlc0xlbmd0aCIsImNoZWNrUG9zdFVwdm90ZSIsInBvc3RVcHZvdGVkIiwibG9hZGluZ1Vwdm90ZSIsInN1Ym1pdFBvc3RVcHZvdGUiLCJkZWxldGVQb3N0VXB2b3RlIiwiQWxsUG9zdENvbnRyb2xsZXIiLCJwdWxsUmVmcmVzaFBvc3RzIiwicG9zdFNlYXJjaFRleHQiLCJsb2FkTW9yZVBvc3RzIiwiQ3JlYXRlUG9zdENvbnRyb2xsZXIiLCJzdWJtaXRQb3N0IiwiY3BjIiwiY29udGVudCIsIm5ld1ZhbCIsIm9sZFZhbCIsInNlbGVjdFJhbmRvbUltYWdlIiwiaW1nIiwibG9hZFJhbmRvbUltYWdlcyIsImxvYWRpbmdSYW5kb21JbWFnZSIsInJhbmRvbUltYWdlcyIsImltYWdlSWQiLCJMYXRlc3RQb3N0Q29udHJvbGxlciIsIk5lYXJieVBvc3RDb250cm9sbGVyIiwiZ2V0TmVhcmJ5UG9zdHMiLCJQb3B1bGFyUG9zdENvbnRyb2xsZXIiLCJnZXRQb3B1bGFyUG9zdHMiLCJQb3N0UGFyZW50Q29udHJvbGxlciIsIlNpbmdsZVBvc3RDb250cm9sbGVyIiwiZ2V0U2luZ2xlUG9zdCIsImdldFBvc3QiLCJsb2MiLCJkaWF0YW5jZSIsImdldFBvc3REaXN0YW5jZSIsImN1cnJlbnRQb3N0IiwiUG9zdFNlcnZpY2UiLCJnZXRGaWx0ZXJlZFBvc3RzIiwicG9zdHMiLCJlcnIyIiwic29ydCIsImRlbGV0ZSIsInBvc09iaiIsImxhdDEiLCJsb24xIiwibGF0MiIsImxvbjIiLCJkTGF0IiwiZGVnMnJhZCIsImRMb24iLCJNYXRoIiwic2luIiwiY29zIiwiYyIsImF0YW4yIiwic3FydCIsImQiLCJjZWlsIiwiZGVnIiwiUEkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBRUEsWUFRQSxTQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxLQUFBQyxTQUFBLFVBQ0FILEVBQUFJLFVBQUFDLGFBQUEsR0FDQUwsRUFBQU0sTUFBQUMsV0FBQSxZQUNBVCxFQUFBVSxVQUFBLHFCQUNBWixFQUFBYSxPQUFBUixHQUNBUyxhQUFBLEVBQ0FDLFVBQUEsSUFa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SUFBQUosRUFBQSxHQUFBRyxLQUFBQyxJQUFBSixFQUFBLEdBQ0FHLEtBQUFFLElBQUFKLEVBQUFMLElBQUFPLEtBQUFFLElBQUFKLEVBQUFILElBQ0FLLEtBQUFDLElBQUFGLEVBQUEsR0FBQUMsS0FBQUMsSUFBQUYsRUFBQSxHQUNBSSxFQUFBLEVBQUFILEtBQUFJLE1BQUFKLEtBQUFLLEtBQUFwaEIsR0FBQStnQixLQUFBSyxLQUFBLEVBQUFwaEIsSUFDQXFoQixFQVJBLEtBUUFILENBRUEvZSxHQUFBTCxRQUFBaWYsS0FBQU8sS0FBQUQsTUFDQTdlLE1BQUEsU0FBQWlGLEdBQ0FoSCxRQUFBQyxJQUFBK0csS0FFQXRGLEVBQUFNLFFBSUEsUUFBQW9lLEdBQUFVLEdBQ0EsTUFBQUEsSUFBQVIsS0FBQVMsR0FBQSxLQWxIQWhiLEtBQUEyVyxZQUFBQSxFQUNBM1csS0FBQThZLGVBQUFBLEVBQ0E5WSxLQUFBZ1UsZUFBQUEsRUFDQWhVLEtBQUFnWixnQkFBQUEsRUFDQWhaLEtBQUFpWSxXQUFBQSxFQUNBalksS0FBQWtYLFdBQUFBLEVBQ0FsWCxLQUFBb1osUUFBQUEsRUFDQXBaLEtBQUF3SSxZQUFBQSxFQVpBeFIsRUFBQWlCLE9BQUEsY0FDQWlNLFFBQUEsZUFBQSxRQUFBLGNBQUEsc0JBQUEsS0FBQXVWLEtBMEhBcmdCLE9BQUFwQyIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblxyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG5cdHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwnLCBbJ2lvbmljJywgJ25nQW5pbWF0ZScsJ3NhdGVsbGl6ZXInLCAnbmdGaWxlVXBsb2FkJywgJ2J0Zm9yZC5zb2NrZXQtaW8nLFxyXG5cdFx0J25nQ29yZG92YScsICd0b2FzdHInLCAncGV0YWwuaG9tZScsICdwZXRhbC5wb3N0JywgJ3BldGFsLmNoYXQnLCAncGV0YWwudXNlcicsICdwZXRhbC5wZW9wbGUnLCdwZXRhbC5tZXNzYWdlJ1xyXG5cdF0pO1xyXG5cdGFwcC5jb25maWcoWyckdXJsUm91dGVyUHJvdmlkZXInLCAnJHN0YXRlUHJvdmlkZXInLCAnJGlvbmljQ29uZmlnUHJvdmlkZXInLCAndG9hc3RyQ29uZmlnJywgY29uZmlnRnVuY3Rpb25dKTtcclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnRnVuY3Rpb24oJHVybFJvdXRlclByb3ZpZGVyLCAkc3RhdGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIsIHRvYXN0ckNvbmZpZykge1xyXG5cdFx0JGlvbmljQ29uZmlnUHJvdmlkZXIudGFicy5wb3NpdGlvbihcImJvdHRvbVwiKTtcclxuXHRcdCRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyhmYWxzZSk7XHJcblx0XHQkaW9uaWNDb25maWdQcm92aWRlci52aWV3cy50cmFuc2l0aW9uKCdwbGF0Zm9ybScpO1xyXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2hvbWUvcG9zdC9uZWFyYnknKTtcclxuXHRcdGFuZ3VsYXIuZXh0ZW5kKHRvYXN0ckNvbmZpZywge1xyXG5cdFx0XHRhdXRvRGlzbWlzczogdHJ1ZSxcclxuXHRcdFx0bWF4T3BlbmVkOiAxLFxyXG5cdFx0fSk7XHJcblx0XHRcclxuXHJcblx0fVxyXG5cclxuXHRhcHAucnVuKFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJGlvbmljUGxhdGZvcm0nLCAnJGlvbmljTG9hZGluZycsICdSZXF1ZXN0c1NlcnZpY2UnLCAnJGNvcmRvdmFQdXNoVjUnLCAnJGlvbmljSGlzdG9yeScsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgJGlvbmljUGxhdGZvcm0sICRpb25pY0xvYWRpbmcsIFJlcXVlc3RzU2VydmljZSwgJGNvcmRvdmFQdXNoVjUsICRpb25pY0hpc3RvcnkpIHtcclxuXHJcblx0XHQkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxyXG5cdFx0XHQvLyBmb3IgZm9ybSBpbnB1dHMpXHJcblx0XHRcdGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcclxuXHRcdFx0XHRjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xyXG5cdFx0XHRcdGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKHRydWUpO1xyXG5cdFx0XHRcdC8vd2luZG93LnB1c2hOb3RpZmljYXRpb24gPSB3aW5kb3cucGx1Z2lucy5wdXNoTm90aWZpY2F0aW9uO1xyXG5cdFx0XHRcdC8vYXBwU3RhdHVzKCk7XHJcblx0XHRcdFx0bm90aWZpY2F0aW9uRnVuY3Rpb24oKTtcclxuXHRcdFx0XHRiYWNrQnV0dG9uRXhpdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAod2luZG93LlN0YXR1c0Jhcikge1xyXG5cdFx0XHRcdC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcclxuXHRcdFx0XHRTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHdpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oZXJyb3JNc2csIHVybCwgbGluZU51bWJlcikge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fTtcclxuXHRcdFx0XHJcblx0XHRcdCRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlRXJyb3JcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnBvc3QubmVhcmJ5Jyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gYmFja0J1dHRvbkV4aXQoKSB7XHJcblx0XHRcdCRpb25pY1BsYXRmb3JtLnJlZ2lzdGVyQmFja0J1dHRvbkFjdGlvbihmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0aWYgKCRyb290U2NvcGUuYmFja0J1dHRvblByZXNzZWRPbmNlVG9FeGl0KSB7XHJcblx0XHRcdFx0XHRpb25pYy5QbGF0Zm9ybS5leGl0QXBwKCk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICgkaW9uaWNIaXN0b3J5LmJhY2tWaWV3KCkpIHtcclxuXHRcdFx0XHRcdCRpb25pY0hpc3RvcnkuZ29CYWNrKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCRyb290U2NvcGUuYmFja0J1dHRvblByZXNzZWRPbmNlVG9FeGl0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdHdpbmRvdy5wbHVnaW5zLnRvYXN0LnNob3dTaG9ydENlbnRlcihcclxuXHRcdFx0XHRcdFx0XCJQcmVzcyBiYWNrIGJ1dHRvbiBhZ2FpbiB0byBleGl0XCIsXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uKGEpIHt9LFxyXG5cdFx0XHRcdFx0XHRmdW5jdGlvbihiKSB7fVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLmJhY2tCdXR0b25QcmVzc2VkT25jZVRvRXhpdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fSwgMjAwMCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH0sIDEwMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbm90aWZpY2F0aW9uRnVuY3Rpb24oKSB7XHJcblx0XHRcdFJlcXVlc3RzU2VydmljZS5yZWdpc3RlcigpO1xyXG5cclxuXHRcdFx0JHJvb3RTY29wZS4kb24oJyRjb3Jkb3ZhUHVzaFY1Om5vdGlmaWNhdGlvblJlY2VpdmVkJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhldmVudCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gdHJpZ2dlcmVkIGV2ZXJ5IHRpbWUgZXJyb3Igb2NjdXJzXHJcblx0XHRcdCRyb290U2NvcGUuJG9uKCckY29yZG92YVB1c2hWNTplcnJvck9jdXJyZWQnLCBmdW5jdGlvbihldmVudCwgZSkge1xyXG5cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fV0pO1xyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4vLyByZWQsIHBpbmssIHB1cnBsZSwgZGVlcC1wdXJwbGUsIGluZGlnbywgYmx1ZSwgbGlnaHQtYmx1ZSwgY3lhbiwgdGVhbCwgZ3JlZW4sLFxyXG4vL2xpZ2h0LWdyZWVuLCBsaW1lLCB5ZWxsb3csIGFtYmVyLCBvcmFuZ2UsIGRlZXAtb3JhbmdlLCBicm93biwgZ3JleSwgYmx1ZS1ncmV5XHJcbi8vIC5jb25maWcoZnVuY3Rpb24oJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbi8vICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcclxuLy8gICAgIC5wcmltYXJ5UGFsZXR0ZSgncGluaycpXHJcbi8vICAgICAuYWNjZW50UGFsZXR0ZSgnb3JhbmdlJyk7XHJcbi8vIH0pOy8vXCJhbmd1bGFyLW1hdGVyaWFsXCI6IFwibWFzdGVyXCIsXCJuZy1kaXJlY3RpdmUtbGF6eS1pbWFnZVwiOiBcImFma2wtbGF6eS1pbWFnZSNeMC4zLjFcIlxyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcsIFsnbmdGaWxlVXBsb2FkJ10pXHJcblx0XHQuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdob21lLmNoYXQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYXQnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnY2hhdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2NoYXQvdmlld3MvY2hhdFBhcmVudC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NoYXRQYXJlbnRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncHBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLnN0YXRlKCdob21lLmNoYXQuYWxsJywge1xyXG5cdFx0XHRcdHVybDogJy9hbGwnLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NoYXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9jaGF0L3ZpZXdzL2FsbENoYXQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxDaGF0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2FjYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLmNoYXQucmV2ZWFsZWQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3JldmVhbGVkJyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdjaGF0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvY2hhdC92aWV3cy9yZXZlYWxlZENoYXQuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZXZlYWxlZENoYXRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2hvbWUuY2hhdC5tZXNzYWdlcm9vbScsIHtcclxuXHRcdFx0XHR1cmw6ICcvbWVzc2FnZVJvb20nLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2NoYXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9tZXNzYWdlL3ZpZXdzL21lc3NhZ2VSb29tTGlzdC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ01lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdtcmxjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuc3RhdGUoJ2NoYXRCb3gnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYXRCb3gvOnVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2NoYXQvdmlld3MvY2hhdEJveC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQ2hhdEJveENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NiYycsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0YmxvY2tlZDogWyAnJHN0YXRlUGFyYW1zJywgJ2Jsb2NrU2VydmljZScsJyRxJywgYmxvY2tlZF1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBibG9ja2VkKCRzdGF0ZVBhcmFtcyxibG9ja1NlcnZpY2UsJHEpe1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHRcdGJsb2NrU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdGRlZmVyLnJlc29sdmUocmVzcG9uc2UuZGF0YS5ibG9ja2VkKTtcdFx0XHRcdFx0XHJcblx0XHR9KS5jYXRjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKCk7XHRcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblx0fVxyXG5cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScsIFtdKVxyXG5cdFx0LmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyRhdXRoUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkYXV0aFByb3ZpZGVyKSB7XHJcblx0XHR2YXIgZmJDbGllbnRJZCA9ICcxMTM0MjA4ODMwMDQxNjMyJztcclxuXHRcdHZhciByZWRpcmVjdFVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MTAwXCI7XHJcblx0XHR2YXIgcmVkaXJlY3RVcmwyID0gXCJodHRwczovL2JhbmFuYS1zdXJwcmlzZS0zMTMzMi5oZXJva3VhcHAuY29tXCI7XHJcblx0XHR2YXIgYXV0aGVudGljYXRlVXJsID0gcmVkaXJlY3RVcmwyICsgJy9hdXRoZW50aWNhdGUnO1xyXG5cdFx0JGF1dGhQcm92aWRlci5mYWNlYm9vayh7XHJcblx0XHRcdGNsaWVudElkOiBmYkNsaWVudElkLFxyXG5cdFx0XHR1cmw6IGF1dGhlbnRpY2F0ZVVybCArICcvYXV0aC9mYWNlYm9vaycsXHJcblx0XHRcdHJlZGlyZWN0VXJpOiBcImh0dHBzOi8vYmFuYW5hLXN1cnByaXNlLTMxMzMyLmhlcm9rdWFwcC5jb20vXCJcclxuXHRcdH0pO1xyXG5cdFx0JGF1dGhQcm92aWRlci5nb29nbGUoe1xyXG5cdFx0XHRjbGllbnRJZDogJzc0MjY3NjgzNzI2NS0zM2pudGtkNjBwODdna3JoNDhucWU2Y2RkOG50c2ZsNS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScsXHJcblx0XHRcdHVybDogYXV0aGVudGljYXRlVXJsICsgJy9hdXRoL2dvb2dsZScsXHJcblx0XHRcdHJlZGlyZWN0VXJpOiByZWRpcmVjdFVybFxyXG5cdFx0fSk7XHJcblx0XHQkc3RhdGVQcm92aWRlci5zdGF0ZSgnYXV0aGVudGljYXRlJywge1xyXG5cdFx0XHR1cmw6ICcvYXV0aGVudGljYXRlJyxcclxuXHRcdFx0Y29udHJvbGxlcjogJ0F1dGhlbnRpY2F0aW9uQ29udHJvbGxlcicsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ2FjJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvaG9tZS92aWV3cy9hdXRoZW50aWNhdGlvblBhZ2UuaHRtbCcsXHJcblx0XHRcdFxyXG5cclxuXHRcdH0pLnN0YXRlKCdob21lJywge1xyXG5cdFx0XHR1cmw6IFwiL2hvbWVcIixcclxuXHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiBcImFwcC9ob21lL3ZpZXdzL3RhYnMuaHRtbFwiLFxyXG5cdFx0XHRjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxyXG5cdFx0XHRjb250cm9sbGVyQXM6ICdoYycsXHJcblx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRyZWRpcmVjdElmVXNlck5vdEF1dGhlbnRpY2F0ZWQ6IFsnJHEnLCAnJGF1dGgnLCAnJHN0YXRlJywgJyR0aW1lb3V0JywgcmVkaXJlY3RJZlVzZXJOb3RBdXRoZW50aWNhdGVkXVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cclxuXHJcblx0ZnVuY3Rpb24gcmVkaXJlY3RJZlVzZXJOb3RBdXRoZW50aWNhdGVkKCRxLCAkYXV0aCwgJHN0YXRlLCAkdGltZW91dCkge1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHJcblx0XHRpZiAoJGF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcclxuXHJcblx0XHRcdGRlZmVyLnJlc29sdmUoKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly9kZWZlci5yZWplY3QoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHRmdW5jdGlvbiByZWRpcmVjdElmVXNlckF1dGhlbnRpY2F0ZWQoJHEsICRhdXRoKSB7XHJcblx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cclxuXHRcdGlmICgkYXV0aC5pc0F1dGhlbnRpY2F0ZWQoKSkge1xyXG5cdFx0XHRkZWZlci5yZWplY3QoKTtcclxuXHRcdFx0LyokdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2F1dGhlbnRpY2F0ZScpO1xyXG5cdFx0XHR9KTsqL1xyXG5cdFx0XHRcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIm5vdCBhdWRzbmZcIik7XHJcblx0XHRcdGRlZmVyLnJlc29sdmUoKTtcclxuXHRcdFx0Ly9kZWZlci5yZWplY3QoKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0dmFyIG1lc3NhZ2VNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGV0YWwubWVzc2FnZScsW10pO1xyXG5cdG1lc3NhZ2VNb2R1bGUuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBjb25maWddKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdtZXNzYWdlUm9vbUludGVyZXN0Jywge1xyXG5cdFx0XHRcdHVybDogJy9tZXNzYWdlUm9vbS9pbnRlcmVzdC86aW50ZXJlc3QnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL21lc3NhZ2Uvdmlld3MvbWVzc2FnZVJvb20uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ01lc3NhZ2VSb29tQ29udHJvbGxlcicsXHJcblx0XHRcdFx0Y29udHJvbGxlckFzOiAnbXJjJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRtZXNzYWdlUm9vbTogWyAnJHN0YXRlUGFyYW1zJywgJyRxJywgJ21lc3NhZ2VSb29tU2VydmljZScsbWVzc2FnZVJvb21dXHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLnN0YXRlKCdtZXNzYWdlUm9vbVBvc3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnL21lc3NhZ2VSb29tL3Bvc3QvOnBvc3RJZCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvbWVzc2FnZS92aWV3cy9tZXNzYWdlUm9vbS5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnTWVzc2FnZVJvb21Db250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICdtcmMnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdG1lc3NhZ2VSb29tOiBbICckc3RhdGVQYXJhbXMnLCAnJHEnLCAnbWVzc2FnZVJvb21TZXJ2aWNlJyxtZXNzYWdlUm9vbV1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBtZXNzYWdlUm9vbSgkc3RhdGVQYXJhbXMsJHEsbWVzc2FnZVJvb21TZXJ2aWNlKXtcclxuXHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHR2YXIgcGFyYW1zID0ge307XHJcblx0XHRpZigkc3RhdGVQYXJhbXMucG9zdElkKXtcclxuXHRcdFx0cGFyYW1zLnBvc3RJZCA9ICRzdGF0ZVBhcmFtcy5wb3N0SWQ7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0cGFyYW1zLmludGVyZXN0ID0gJHN0YXRlUGFyYW1zLmludGVyZXN0O1xyXG5cdFx0fVxyXG5cdFx0bWVzc2FnZVJvb21TZXJ2aWNlLmdldE1lc3NhZ2VSb29tKHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwicmVzb2x2ZSByZXNwb25zZVwiKTtcclxuXHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEuZm91bmRNZXNzYWdlUm9vbSk7XHRcdFx0XHRcdFxyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiUmVzb2x2ZSBtZXNhZ2UgUm9vbVwiKTtcclxuXHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblx0XHRcdC8vZGVmZXIucmVzb2x2ZSgpO1x0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnLCBbXSlcclxuXHRcdC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGNvbmZpZ10pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ2hvbWUucGVvcGxlJyx7XHJcblx0XHRcdFx0dXJsOiAnL3Blb3BsZScsXHJcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvcGVvcGxlUGFyZW50Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUGVvcGxlUGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3BwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBlb3BsZS5hbGwnLHtcclxuXHRcdFx0XHR1cmw6ICcvYWxsJyxcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Blb3BsZS10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9hbGxQZW9wbGUuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnYXBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmV2ZWFsZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmV2ZWFsZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JldmVhbGVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUucmVjZWl2ZWQnLHtcclxuXHRcdFx0XHR1cmw6ICcvcmVjZWl2ZWQnLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncGVvcGxlLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JlY2VpdmVkUGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncnBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFx0XHRcdFxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wZW9wbGUubmVhcmJ5Jyx7XHJcblx0XHRcdFx0dXJsOiAnL25lYXJieScsXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwZW9wbGUtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvbmVhcmJ5UGVvcGxlLmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTmVhcmJ5UGVvcGxlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ25wYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHRcdFx0XHRcclxuXHRcdFx0fSk7XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJywgW10pLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJyxcclxuXHRcdGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdCRzdGF0ZVByb3ZpZGVyLlxyXG5cdFx0XHRzdGF0ZSgnaG9tZS51c2VyJywge1xyXG5cdFx0XHRcdHVybDogJy91c2VyJyxcclxuXHRcdFx0XHQnYWJzdHJhY3QnOiB0cnVlLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQndXNlci10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3VzZXIvdmlld3MvdXNlclBhcmVudFBhZ2UuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVc2VyUGFyZW50Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3VwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5cclxuXHRcdFx0c3RhdGUoJ2hvbWUudXNlci51c2VyTWVQYWdlJywge1xyXG5cdFx0XHRcdHVybDogJy91c2VyTWVQYWdlJyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3VzZXItdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL3VzZXJNZVBhZ2UuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVc2VyTWVQYWdlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3VtcGMnLFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9KS5cclxuXHRcdFx0c3RhdGUoJ2hvbWUudXNlclBhZ2UnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VzZXJQYWdlLzp1c2VyJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRibG9ja2VkOiBbICckc3RhdGVQYXJhbXMnLCAnYmxvY2tTZXJ2aWNlJywnJHEnLCBibG9ja2VkXSxcclxuXHRcdFx0XHRcdGZyaWVuZHM6IFsgJyRzdGF0ZVBhcmFtcycsICdyZXZlYWxTZXJ2aWNlJywnJHEnLCBmcmllbmRzXVxyXG5cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQnZXh0cmEtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC91c2VyL3ZpZXdzL3VzZXJQcm9maWxlUGFnZS5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1VzZXJQYWdlQ29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3VwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fSlcclxuXHRcdFx0LnN0YXRlKCdob21lLnVzZXJFZGl0UGFnZScsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlckVkaXRQYWdlJyxcclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J2V4dHJhLXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy91c2VyRWRpdFBhZ2UuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVc2VyRWRpdFBhZ2VDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndWVwYycsXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdF0pO1xyXG5cdGZ1bmN0aW9uIGJsb2NrZWQoJHN0YXRlUGFyYW1zLGJsb2NrU2VydmljZSwkcSl7XHJcblx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0YmxvY2tTZXJ2aWNlLmNoZWNrKCRzdGF0ZVBhcmFtcy51c2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuXHRcdFx0XHJcblx0XHRcdGlmKHJlc3BvbnNlLmRhdGEuYmxvY2tlZD09PXRydWUpe1xyXG5cdFx0XHRcdHdpbmRvdy5hbGVydChcIkJsb2NrZWQgcHJvZmlsZVwiKTtcclxuXHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRkZWZlci5yZXNvbHZlKCk7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHR9KS5jYXRjaChmdW5jdGlvbigpe1xyXG5cdFx0XHRkZWZlci5yZXNvbHZlKCk7XHRcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGZyaWVuZHMoJHN0YXRlUGFyYW1zLHJldmVhbFNlcnZpY2UsJHEpe1xyXG5cdFx0dmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuXHJcblxyXG5cdFx0cmV2ZWFsU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFxyXG5cdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEuc3RhdHVzKTtcclxuXHRcdFx0Ly9yZXR1cm4gO1xyXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oKXtcclxuXHRcdFx0XHJcblx0XHR9KTtcclxuXHRcdHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdH1cclxuXHJcblx0XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnLCBbXSlcclxuXHRcdC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGNvbmZpZ10pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcblxyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdob21lLnBvc3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3Bvc3QnLFxyXG5cdFx0XHRcdGFic3RyYWN0OiB0cnVlLFxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncG9zdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvcG9zdFBhcmVudC5odG1sJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1Bvc3RQYXJlbnRDb250cm9sbGVyJyxcclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncHBjJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBvc3QuYWxsJywge1xyXG5cdFx0XHRcdHVybDogJy9hbGwnLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL2FsbFBvc3QuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGxQb3N0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2FwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBvc3QubGF0ZXN0Jywge1xyXG5cdFx0XHRcdHVybDogJy9sYXRlc3QnLFxyXG5cclxuXHRcdFx0XHR2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3QtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL2xhdGVzdFBvc3QuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdMYXRlc3RQb3N0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2xwYydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLnN0YXRlKCdob21lLnBvc3QucG9wdWxhcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcG9wdWxhcicsXHJcblxyXG5cdFx0XHRcdHZpZXdzOiB7XHJcblx0XHRcdFx0XHQncG9zdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvcG9wdWxhclBvc3QuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdQb3B1bGFyUG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdwcGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgnaG9tZS5wb3N0Lm5lYXJieScsIHtcclxuXHRcdFx0XHR1cmw6ICcvbmVhcmJ5JyxcclxuXHJcblx0XHRcdFx0dmlld3M6IHtcclxuXHRcdFx0XHRcdCdwb3N0LXRhYic6IHtcclxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9uZWFyYnlQb3N0Lmh0bWwnLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTmVhcmJ5UG9zdENvbnRyb2xsZXInLFxyXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICducGMnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5zdGF0ZSgncG9zdFN1Ym1pdCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvc3VibWl0JyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL2NyZWF0ZVBvc3QuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0NyZWF0ZVBvc3RDb250cm9sbGVyJyxcclxuXHRcdFx0XHRjb250cm9sbGVyQXM6ICdjcGMnXHJcblx0XHRcdFx0Lyp2aWV3czoge1xyXG5cdFx0XHRcdFx0J3Bvc3RTdWJtaXQtdGFiJzoge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9Ki9cclxuXHRcdFx0fSkuc3RhdGUoJ3NpbmdsZVBvc3QnLCB7XHJcblx0XHRcdFx0dXJsOiAnL3Bvc3QvOmlkJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wb3N0L3ZpZXdzL3NpbmdsZVBvc3QuaHRtbCcsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdTaW5nbGVQb3N0Q29udHJvbGxlcicsXHJcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3NwYydcclxuXHRcdFx0XHQvKnZpZXdzOiB7XHJcblx0XHRcdFx0XHQnc2luZ2xlUG9zdC10YWInOiB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0qL1xyXG5cclxuXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHRcdC5jb250cm9sbGVyKCdBbGxDaGF0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdjaGF0U2VydmljZScsICckaW9uaWNMb2FkaW5nJywgJ1NvY2tldCcsQWxsQ2hhdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQWxsQ2hhdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGNoYXRTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLFNvY2tldCkge1xyXG5cdFx0dmFyIGFjYyA9IHRoaXM7XHJcblx0XHRhY2MuZ2V0QWxsQ2hhdFJvb21zID0gZ2V0QWxsQ2hhdFJvb21zO1xyXG5cdFx0YWNjLmxvYWRNb3JlQ2hhdHMgPSBsb2FkTW9yZUNoYXRzO1xyXG5cdFx0YWNjLnB1bGxSZWZyZXNoQ2hhdHMgPSBwdWxsUmVmcmVzaENoYXRzO1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFNvY2tldC5vbignbmV3TWVzc2FnZVJlY2VpdmVkJywgbWVzc2FnZVJlY2VpdmVkKTtcclxuXHRcdFxyXG5cdFx0YWNjLmNoYXRQYWdlID0gZnVuY3Rpb24odXNlcklkKXtcclxuXHRcdFx0JHN0YXRlLmdvKCdjaGF0Qm94JywgeyB1c2VyOiB1c2VySWR9KTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBtZXNzYWdlUmVjZWl2ZWQobWVzc2FnZSl7XHJcblx0XHRcdHZhciBuZXdDaGF0Um9vbSA9IHt9O1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5jcmVhdG9yMiA9IG1lc3NhZ2UudXNlcjtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubmV3Q2hhdCA9IHRydWU7XHJcblx0XHRcdG5ld0NoYXRSb29tLmxhc3RNZXNzYWdlID0ge1xyXG5cdFx0XHRcdHVzZXI6bWVzc2FnZS51c2VyLl9pZCxcclxuXHRcdFx0XHRfaWQ6bWVzc2FnZS5faWQsXHJcblx0XHRcdFx0bWVzc2FnZTptZXNzYWdlLm1lc3NhZ2UsXHJcblx0XHRcdFx0dHlwZTogbWVzc2FnZS50eXBlXHJcblx0XHRcdH07XHJcblx0XHRcclxuXHJcblx0XHRcdGZvcih2YXIgY2g9MDtjaDxhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGg7Y2grKyl7XHJcblx0XHRcdFx0aWYobmV3Q2hhdFJvb20uY3JlYXRvcjIuX2lkPT1hY2MuY2hhdFJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKXtcclxuXHRcdFx0XHRcdGlmIChuZXdDaGF0Um9vbS5sYXN0TWVzc2FnZS5faWQgIT09IGFjYy5jaGF0Um9vbXNMaXN0W2NoXS5sYXN0TWVzc2FnZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0YWNjLmNoYXRSb29tc0xpc3Quc3BsaWNlKGNoLDEpO1xyXG5cdFx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC51bnNoaWZ0KG5ld0NoYXRSb29tKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaENoYXRzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlQ2hhdHMoKSB7XHJcblx0XHRcdGFjYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxDaGF0Um9vbXMoKSB7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldEFsbENoYXRSb29tcyhhY2MucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFjYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhY2MuY2hhdFJvb21zTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLmNoYXRSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0QWxsQ2hhdFJvb21zKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5jaGF0JylcclxuXHJcblx0LmNvbnRyb2xsZXIoJ0NoYXRCb3hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU29ja2V0JywgJyRzdGF0ZVBhcmFtcycsICd1c2VyRGF0YScsICdob21lU2VydmljZScsICdjaGF0U2VydmljZScsICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsICd1c2VyU2VydmljZScsICdVcGxvYWQnLCAnJGlvbmljTG9hZGluZycsICckd2luZG93JywgJ2Jsb2NrZWQnLCBDaGF0Qm94Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBDaGF0Qm94Q29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCBTb2NrZXQsICRzdGF0ZVBhcmFtcywgdXNlckRhdGEsIGhvbWVTZXJ2aWNlLCBjaGF0U2VydmljZSwgJGlvbmljU2Nyb2xsRGVsZWdhdGUsIHVzZXJTZXJ2aWNlLCBVcGxvYWQsICRpb25pY0xvYWRpbmcsICR3aW5kb3csIGJsb2NrZWQpIHtcclxuXHRcdHZhciBjYmMgPSB0aGlzO1xyXG5cdFx0Y2JjLmlzQmxvY2tlZCA9IGJsb2NrZWQ7XHJcblx0XHRpZiAoY2JjLmlzQmxvY2tlZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHR3aW5kb3cuYWxlcnQoXCJibG9ja2VkIHByb2ZpbGVcIik7XHJcblx0XHR9XHJcblx0XHRjYmMuY3VycmVudFVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkO1xyXG5cdFx0Y2JjLnJlY2VpdmVyVXNlcklEID0gJHN0YXRlUGFyYW1zLnVzZXI7XHJcblx0XHRjYmMuY2hhdExpc3QgPSBbXTtcclxuXHRcdGNiYy5jaGF0Um9vbUlkID0gJyc7XHJcblx0XHRjYmMubG9hZE1vcmVDaGF0cyA9IGxvYWRNb3JlQ2hhdHM7XHJcblx0XHRjYmMuc2Nyb2xsQm90dG9tID0gc2Nyb2xsQm90dG9tO1xyXG5cdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRjYmMubWVzc2FnZVRyeUNvdW50ID0gMDtcclxuXHRcdGNiYy5wYXJhbXMgPSB7XHJcblx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdGxpbWl0OiA1XHJcblx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZUNoYXRzKCkge1xyXG5cdFx0XHRjYmMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0Q2hhdE1lc3NhZ2VzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZXIoKSB7XHJcblx0XHRcdHVzZXJTZXJ2aWNlLmdldFVzZXIoY2JjLnJlY2VpdmVyVXNlcklEKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y2JjLnJlY2VpdmVyVXNlciA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzY3JvbGxCb3R0b20oKSB7XHJcblx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRpb25pY1Njcm9sbERlbGVnYXRlLnNjcm9sbEJvdHRvbSh0cnVlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcygpIHtcclxuXHRcdFx0Y2hhdFNlcnZpY2UuZ2V0Q2hhdE1lc3NhZ2VzKGNiYy5jaGF0Um9vbUlkLCBjYmMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzLmRhdGEuZG9jcywgZnVuY3Rpb24oY2hhdCkge1xyXG5cdFx0XHRcdFx0Y2JjLmNoYXRMaXN0LnVuc2hpZnQoY2hhdCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdGNoYXRTZXJ2aWNlLmdldENoYXRSb29tKGNiYy5yZWNlaXZlclVzZXJJRCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb20gPSByZXMuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2hhdFJvb21JZCA9IHJlcy5kYXRhLl9pZDtcclxuXHJcblx0XHRcdFx0c29ja2V0Sm9pbigpO1xyXG5cdFx0XHRcdGdldENoYXRNZXNzYWdlcygpO1xyXG5cclxuXHRcdFx0fSwgZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGdldFJlY2VpdmVyKCk7XHJcblxyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIHNvY2tldEpvaW4oKSB7XHJcblx0XHRcdFNvY2tldC5lbWl0KCdhZGRUb0NoYXRSb29tJywgeyAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfSk7XHJcblx0XHRcdFNvY2tldC5vbignbWVzc2FnZVJlY2VpdmVkJywgZnVuY3Rpb24obWVzc2FnZSkge1xyXG5cclxuXHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChtZXNzYWdlKTtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSBmYWxzZTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGNiYy5jbGlja1N1Ym1pdCA9IGZ1bmN0aW9uKCRldmVudCkge1xyXG5cclxuXHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gdHJ1ZTtcclxuXHRcdFx0Y2JjLmZvY3VzSW5wdXQgPSB0cnVlO1xyXG5cclxuXHRcdFx0aWYgKHdpbmRvdy5jb3Jkb3ZhICkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuc2hvdygpO1xyXG5cdFx0XHRcdC8vd2luZG93LmNvcmRvdmEuZmlyZVdpbmRvd0V2ZW50KCduYXRpdmUua2V5Ym9hcmRzaG93JywgeydrZXlib2FyZEhlaWdodCc6ICsyNjJ9KTtcclxuICAgICAgICAgICAgXHRcdFx0XHR3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmlzVmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdHZhciBjaGF0T2JqID0geyAnbWVzc2FnZSc6IGNiYy5teU1zZywgcmVjZWl2ZXI6ICRzdGF0ZVBhcmFtcy51c2VyLCAncm9vbUlkJzogY2JjLmNoYXRSb29tSWQgfTtcclxuXHRcdFx0Y2hhdFNlcnZpY2Uuc2VuZENoYXRNZXNzYWdlKGNoYXRPYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0Y2JjLm15TXNnID0gJyc7XHJcblx0XHRcdFx0Y2JjLmNoYXRMaXN0LnB1c2gocmVzLmRhdGEubWVzc2FnZSk7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VUcnlDb3VudCA9IDA7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRjYmMubWVzc2FnZVRyeUNvdW50ICs9IDE7XHJcblxyXG5cdFx0XHRcdGlmIChjYmMubWVzc2FnZVRyeUNvdW50IDw9IDMpIHtcclxuXHRcdFx0XHRcdGNiYy5jbGlja1N1Ym1pdCgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Y2JjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRjYmMuZmlsZS51cGxvYWQgPSBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0ZGF0YTogeyBmaWxlOiBjYmMuZmlsZSB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y2JjLmZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYmMuZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNiYy51cGxvYWRlZEltYWdlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2FuY2VsVXBsb2FkKCk7XHJcblx0XHRcdFx0dmFyIGNoYXRPYmogPSB7ICdtZXNzYWdlJzogY2JjLnVwbG9hZGVkSW1hZ2UsIHJlY2VpdmVyOiAkc3RhdGVQYXJhbXMudXNlciwgJ3Jvb21JZCc6IGNiYy5jaGF0Um9vbUlkLCB0eXBlOiAnaW1nJyB9O1xyXG5cdFx0XHRcdGNoYXRTZXJ2aWNlLnNlbmRDaGF0TWVzc2FnZShjaGF0T2JqKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0XHRjYmMuY2hhdExpc3QucHVzaChyZXMuZGF0YS5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjYmMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNiYy5zaG93VGVtcEltYWdlID0gZmFsc2U7XHJcblx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSAnJztcclxuXHRcdH07XHJcblx0XHRjYmMudXBsb2FkU2luZ2xlSW1hZ2UgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHRjYmMuZmlsZSA9IGZpbGU7XHJcblx0XHRcdGNiYy5lcnJGaWxlID0gZXJyRmlsZXMgJiYgZXJyRmlsZXNbMF07XHJcblx0XHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdFx0Y2JjLnNob3dUZW1wSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSBmaWxlO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y2JjLmxlYXZlQ2hhdEJveCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgncmVtb3ZlRnJvbVJvb20nLCB7ICdyb29tSWQnOiBjYmMuY2hhdFJvb21JZCB9KTtcclxuXHJcblx0XHRcdGNoYXRTZXJ2aWNlLnVwZGF0ZUNoYXRSb29tKGNiYy5jaGF0Um9vbUlkKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHJcblxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcblxyXG4vKnVzZXJTZXJ2aWNlLmdldFVzZXJEZXRhaWxzKGNiYy5yZWNlaXZlclVzZXJJRElkLCB7ICdmaWVsZHMnOiAnZGlzcGxheU5hbWUgZmlyc3ROYW1lJyB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInRoZSByZWNlaXZlclwiKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG5cdFx0XHRcdFx0Y2JjLnJlY2VpdmVyVXNlcklEID0gcmVzcG9uc2UuZGF0YS5kaXNwbGF5TmFtZSB8fCAocmVzcG9uc2UuZGF0YS5maXJzdE5hbWUpO1xyXG5cdFx0XHRcdH0pOyovXHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0NoYXRQYXJlbnRDb250cm9sbGVyJyxbQ2hhdFBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQ2hhdFBhcmVudENvbnRyb2xsZXIoKXtcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ1JldmVhbGVkQ2hhdENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnY2hhdFNlcnZpY2UnLCAnJGlvbmljTG9hZGluZycsICdTb2NrZXQnLCBSZXZlYWxlZENoYXRDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJldmVhbGVkQ2hhdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIGNoYXRTZXJ2aWNlLCAkaW9uaWNMb2FkaW5nLCBTb2NrZXQpIHtcclxuXHRcdHZhciBhY2MgPSB0aGlzO1xyXG5cdFx0YWNjLmdldFJldmVhbGVkQ2hhdFJvb21zID0gZ2V0UmV2ZWFsZWRDaGF0Um9vbXM7XHJcblx0XHRhY2MubG9hZE1vcmVDaGF0cyA9IGxvYWRNb3JlQ2hhdHM7XHJcblx0XHRhY2MucHVsbFJlZnJlc2hDaGF0cyA9IHB1bGxSZWZyZXNoQ2hhdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoQ2hhdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRTb2NrZXQub24oJ25ld01lc3NhZ2VSZWNlaXZlZCcsIG1lc3NhZ2VSZWNlaXZlZCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpIHtcclxuXHRcdFx0dmFyIG5ld0NoYXRSb29tID0ge307XHJcblx0XHRcdG5ld0NoYXRSb29tLmNyZWF0b3IyID0gbWVzc2FnZS51c2VyO1xyXG5cdFx0XHRuZXdDaGF0Um9vbS5uZXdDaGF0ID0gdHJ1ZTtcclxuXHRcdFx0bmV3Q2hhdFJvb20ubGFzdE1lc3NhZ2UgPSB7XHJcblx0XHRcdFx0dXNlcjogbWVzc2FnZS51c2VyLl9pZCxcclxuXHRcdFx0XHRfaWQ6IG1lc3NhZ2UuX2lkLFxyXG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UubWVzc2FnZSxcclxuXHRcdFx0XHR0eXBlOiBtZXNzYWdlLnR5cGVcclxuXHRcdFx0fTtcclxuXHJcblxyXG5cdFx0XHRmb3IgKHZhciBjaCA9IDA7IGNoIDwgYWNjLmNoYXRSb29tc0xpc3QubGVuZ3RoOyBjaCsrKSB7XHJcblx0XHRcdFx0aWYgKG5ld0NoYXRSb29tLmNyZWF0b3IyLl9pZCA9PSBhY2MuY2hhdFJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKSB7XHJcblx0XHRcdFx0XHRpZiAobmV3Q2hhdFJvb20ubGFzdE1lc3NhZ2UuX2lkICE9PSBhY2MuY2hhdFJvb21zTGlzdFtjaF0ubGFzdE1lc3NhZ2UuX2lkKSB7XHJcblx0XHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnNwbGljZShjaCwgMSk7XHJcblx0XHRcdFx0XHRcdGFjYy5jaGF0Um9vbXNMaXN0LnVuc2hpZnQobmV3Q2hhdFJvb20pO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZUNoYXRzKCkge1xyXG5cdFx0XHRhY2MucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZENoYXRSb29tcygpIHtcclxuXHRcdFx0Y2hhdFNlcnZpY2UuZ2V0UmV2ZWFsZWRDaGF0Um9vbXMoYWNjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhY2MuY2hhdFJvb21zTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhY2Mubm9Qb3N0cyA9ICFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFjYy5jaGF0Um9vbXNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFjYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFjYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMjVcclxuXHRcdFx0fTtcclxuXHRcdFx0YWNjLmNoYXRSb29tc0xpc3QgPSBbXTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRDaGF0Um9vbXMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmNoYXQnKVxyXG5cdFx0LnNlcnZpY2UoJ2NoYXRTZXJ2aWNlJywgWyckaHR0cCcsICckc3RhdGVQYXJhbXMnLCAnaG9tZVNlcnZpY2UnLCBSZXZpZXdTZXJ2aWNlXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFJldmlld1NlcnZpY2UoJGh0dHAsICRzdGF0ZVBhcmFtcywgaG9tZVNlcnZpY2UpIHtcclxuXHRcdHZhciBycyA9IHRoaXM7XHJcblx0XHRycy5zZW5kQ2hhdE1lc3NhZ2UgPSBzZW5kQ2hhdE1lc3NhZ2U7XHJcblx0XHRycy5nZXRDaGF0TWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXM7XHJcblx0XHRycy5nZXRDaGF0Um9vbSA9IGdldENoYXRSb29tO1xyXG5cdFx0cnMuZ2V0QWxsQ2hhdFJvb21zID0gZ2V0QWxsQ2hhdFJvb21zO1xyXG5cdFx0cnMuZ2V0UmV2ZWFsZWRDaGF0Um9vbXMgPSBnZXRSZXZlYWxlZENoYXRSb29tcztcclxuXHRcdHJzLnVwZGF0ZUNoYXRSb29tID0gdXBkYXRlQ2hhdFJvb207XHJcblx0XHRycy5kZWxldGVDaGF0Um9vbSA9IGRlbGV0ZUNoYXRSb29tO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUNoYXRSb29tKGlkKXtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9kZWxldGUvJyArIGlkKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHNlbmRDaGF0TWVzc2FnZShjaGF0KSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ2NoYXQvY3JlYXRlLycgKyBjaGF0LnJvb21JZCwgY2hhdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q2hhdE1lc3NhZ2VzKGNoYXRSb29tSWQscGFyYW1zKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdC9nZXRDaGF0cy8nICsgY2hhdFJvb21JZCx7cGFyYW1zOnBhcmFtc30pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENoYXRSb29tKHVzZXIpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9nZXQvJyArIHVzZXIpO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldEFsbENoYXRSb29tcyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnJldmVhbGVkID0gZmFsc2U7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdjaGF0Um9vbS9hbGwvJyx7cGFyYW1zOnBhcmFtc30pO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFJldmVhbGVkQ2hhdFJvb21zKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmV2ZWFsZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnY2hhdFJvb20vYWxsLycse3BhcmFtczpwYXJhbXN9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDaGF0Um9vbShpZCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwrJ2NoYXRSb29tL3VwZGF0ZS8nK2lkKTtcclxuXHRcdH1cclxuXHJcblx0XHRcclxuXHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4ndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcpLmZhY3RvcnkoJ1NvY2tldCcsIFsnc29ja2V0RmFjdG9yeScsJ2hvbWVTZXJ2aWNlJyxTb2NrZXRGYWN0b3J5XSk7XG4gICAgXG4gICAgZnVuY3Rpb24gU29ja2V0RmFjdG9yeShzb2NrZXRGYWN0b3J5LGhvbWVTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBzb2NrZXRGYWN0b3J5KHtcbiAgICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgICBpb1NvY2tldDogaW8uY29ubmVjdChob21lU2VydmljZS5iYXNlVVJMKVxuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4ndXNlIHN0cmljdCc7XG5cblxuXG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuY2hhdCcpXG5cdC5mYWN0b3J5KCdTb2NrZXRVc2VyU2VydmljZScsIFsnc29ja2V0RmFjdG9yeScsJ3VzZXJEYXRhJywnaG9tZVNlcnZpY2UnLHNvY2tldEZhY3RvcnlGdW5jdGlvbl0pO1xuICAgIGZ1bmN0aW9uIHNvY2tldEZhY3RvcnlGdW5jdGlvbihzb2NrZXRGYWN0b3J5LHVzZXJEYXRhLGhvbWVTZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBzb2NrZXRGYWN0b3J5KHtcbiAgICAgICAgICAgIHByZWZpeDogJycsXG4gICAgICAgICAgICBpb1NvY2tldDogaW8uY29ubmVjdChob21lU2VydmljZS5iYXNlVVJMK3VzZXJEYXRhLmdldFVzZXIoKS5faWQpXG4gICAgICAgIH0pO1xuICAgIH1cbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoXCJBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJGF1dGhcIiwgXCIkc3RhdGVcIiwgXCJ1c2VyRGF0YVwiLCAndXNlckxvY2F0aW9uU2VydmljZScsICckaW9uaWNMb2FkaW5nJywgJ1JlcXVlc3RzU2VydmljZScsICckaW9uaWNNb2RhbCcsIEF1dGhlbnRpY2F0aW9uQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkNvbnRyb2xsZXIoJHNjb3BlLCAkYXV0aCwgJHN0YXRlLCB1c2VyRGF0YSwgdXNlckxvY2F0aW9uU2VydmljZSwgJGlvbmljTG9hZGluZywgUmVxdWVzdHNTZXJ2aWNlLCAkaW9uaWNNb2RhbCkge1xyXG5cdFx0dmFyIHBoYyA9IHRoaXM7XHJcblxyXG5cdFx0cGhjLmlzQXV0aCA9ICRhdXRoLmlzQXV0aGVudGljYXRlZCgpO1xyXG5cdFx0aWYgKHBoYy5pc0F1dGgpIHtcclxuXHRcdFx0JHN0YXRlLmdvKCdob21lLnBvc3QuYWxsJyk7XHJcblx0XHR9XHJcblx0XHRpZiAod2luZG93LmNvcmRvdmEpIHtcclxuXHRcdFx0cGhjLndlYlNpZ25JbiA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRwaGMuYXV0aExvZ291dCA9IGF1dGhMb2dvdXQ7XHJcblx0XHRwaGMubG9hZFBvc3RNb2RhbCA9IGxvYWRQb3N0TW9kYWw7XHJcblxyXG5cclxuXHRcdHBoYy5zb2NpYWxBdXRoZW50aWNhdGUgPSBzb2NpYWxBdXRoZW50aWNhdGU7XHJcblx0XHQkc2NvcGUuZ29vZ2xlU2lnbkluID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuXHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdyh7XHJcblx0XHRcdFx0dGVtcGxhdGU6ICdMb2dnaW5nIGluLi4uJ1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHdpbmRvdy5wbHVnaW5zLmdvb2dsZXBsdXMubG9naW4oe1xyXG5cdFx0XHRcdFx0d2ViQ2xpZW50SWQ6ICc3OTIwNjg1NjUwMDctcmRtN25ybGZtYzI5anZscW81bDB0a2d1NmNpMHZib2EuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nXHJcblxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZnVuY3Rpb24odXNlcl9kYXRhKSB7XHJcblx0XHRcdFx0XHR2YXIgcHJvZmlsZSA9IHt9O1xyXG5cdFx0XHRcdFx0cHJvZmlsZS5pZCA9IHVzZXJfZGF0YS51c2VySWQ7XHJcblx0XHRcdFx0XHRwcm9maWxlLmRpc3BsYXlOYW1lID0gdXNlcl9kYXRhLmRpc3BsYXlOYW1lO1xyXG5cdFx0XHRcdFx0cHJvZmlsZS5pbWFnZVVybCA9IHVzZXJfZGF0YS5pbWFnZVVybDtcclxuXHRcdFx0XHRcdFJlcXVlc3RzU2VydmljZS5nb29nbGVTaWduSW4ocHJvZmlsZSlcclxuXHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdFx0XHQkYXV0aC5zZXRUb2tlbihyZXNwb25zZS5kYXRhLnRva2VuKTtcclxuXHRcdFx0XHRcdFx0XHRzdWNjZXNzZnVsQXV0aGVudGljYXRpb24ocmVzcG9uc2UuZGF0YS51c2VyKTtcclxuXHRcdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRmdW5jdGlvbihtc2cpIHtcclxuXHRcdFx0XHRcdGFsZXJ0KFwibWlzc2VkXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cobXNnKTtcclxuXHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBzdWNjZXNzZnVsQXV0aGVudGljYXRpb24odXNlcikge1xyXG5cdFx0XHR1c2VyRGF0YS5zZXRVc2VyKHVzZXIpO1xyXG5cdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLnNldFVzZXJMb2NhdGlvbigpO1xyXG5cdFx0XHRSZXF1ZXN0c1NlcnZpY2UucmVnaXN0ZXIoKTtcclxuXHJcblx0XHRcdGlmICh1c2VyLmRldmljZV90b2tlbikge1xyXG5cdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS5wb3N0LnBvcHVsYXInKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUudXNlckVkaXRQYWdlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzb2NpYWxBdXRoZW50aWNhdGUocHJvdmlkZXIpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdCRhdXRoLmF1dGhlbnRpY2F0ZShwcm92aWRlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHN1Y2Nlc3NmdWxBdXRoZW50aWNhdGlvbihyZXNwb25zZS5kYXRhLnVzZXIpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly8kaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRQb3N0TW9kYWwoKSB7XHJcblx0XHRcdCRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnYXBwL2hvbWUvdmlld3MvcG9saWN5Lmh0bWwnLCB7XHJcblx0XHRcdFx0c2NvcGU6ICRzY29wZVxyXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XHJcblx0XHRcdFx0JHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0JHNjb3BlLm1vZGFsLnNob3coKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIGF1dGhMb2dvdXQoKSB7XHJcblx0XHRcdCRhdXRoLmxvZ291dCgpO1xyXG5cdFx0XHR1c2VyRGF0YS5yZW1vdmVVc2VyKCk7XHJcblx0XHRcdCRzdGF0ZS5nbygnYXV0aGVudGljYXRlJyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3VzZXJEYXRhJywgJ1NvY2tldCcsICd0b2FzdHInLCAnJGlvbmljVGFic0RlbGVnYXRlJywnJHJvb3RTY29wZScsSG9tZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHVzZXJEYXRhLCBTb2NrZXQsIHRvYXN0ciwkaW9uaWNUYWJzRGVsZWdhdGUsJHJvb3RTY29wZSkge1xyXG5cdFx0dmFyIGhjID0gdGhpcztcclxuXHRcdGhjLmJhZGdlVmFsdWUgPSAnJztcclxuXHRcdGhjLmNoYXRDbGlja2VkID0gY2hhdENsaWNrZWQ7XHJcblx0XHQvKlxyXG5cdFx0XHRDb2RlIGZvciBoaWRpbmcgdGhlIGhlYWRlciBvbiBzY3JvbGwgdXAgYW5kIGRvd25cclxuXHRcdCovXHJcblx0XHQkcm9vdFNjb3BlLnNsaWRlSGVhZGVyID0gZmFsc2U7XHJcbiAgXHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXJQcmV2aW91cyA9IDA7XHJcblx0XHRTb2NrZXQub24oXCJjb25uZWN0XCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRTb2NrZXQuZW1pdCgnYWRkVG9TaW5nbGVSb29tJywgeyAncm9vbUlkJzogdXNlckRhdGEuZ2V0VXNlcigpLl9pZCB9KTtcclxuXHRcdFx0U29ja2V0Lm9uKCduZXdNZXNzYWdlUmVjZWl2ZWQnLCBtZXNzYWdlUmVjZWl2ZWQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpIHtcclxuXHRcdFx0dmFyIG1lc3NhZ2VTdHJpbmcgPSBtZXNzYWdlLm1lc3NhZ2U7XHJcblx0XHRcdGlmKG1lc3NhZ2UudHlwZSAmJiBtZXNzYWdlLnR5cGU9PSdpbWcnKXtcclxuXHRcdFx0XHRtZXNzYWdlU3RyaW5nID0gJ05ldyBpbWFnZSc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHVzZXJOYW1lID0gbWVzc2FnZS51c2VyLmFub25OYW1lfHxtZXNzYWdlLnVzZXIuZmFjZWJvb2tOYW1lIHx8bWVzc2FnZS51c2VyLmdvb2dsZU5hbWUgO1xyXG5cdFx0XHRpZiAobWVzc2FnZS51c2VyLl9pZCA9PSB1c2VyRGF0YS5nZXRVc2VyKCkuX2lkKSB7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICgkc3RhdGUuY3VycmVudC5uYW1lID09ICdjaGF0Qm94Jykge1xyXG5cclxuXHRcdFx0XHRcdGlmICgkc3RhdGUucGFyYW1zLnVzZXIgIT0gbWVzc2FnZS51c2VyLl9pZCkge1xyXG5cdFx0XHRcdFx0XHR0b2FzdHIuaW5mbygnPHA+JyArIHVzZXJOYW1lKyAnPC9wPjxwPicgKyBtZXNzYWdlU3RyaW5nICsgJzwvcD4nLCB7XHJcblx0XHRcdFx0XHRcdFx0YWxsb3dIdG1sOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdG9uVGFwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnY2hhdEJveCcsIHsgdXNlcjogbWVzc2FnZS51c2VyLl9pZCB9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHRvYXN0ci5pbmZvKCc8cD4nICsgdXNlck5hbWUgKyAnPC9wPjxwPicgKyBtZXNzYWdlU3RyaW5nICsgJzwvcD4nLCB7XHJcblx0XHRcdFx0XHRcdGFsbG93SHRtbDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0b25UYXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnY2hhdEJveCcsIHsgdXNlcjogbWVzc2FnZS51c2VyLl9pZCB9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRoYy5iYWRnZVZhbHVlID0gMTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGhjLmdvRm9yd2FyZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIHNlbGVjdGVkID0gJGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdGVkSW5kZXgoKTtcclxuXHRcdFx0aWYgKHNlbGVjdGVkICE9IC0xKSB7XHJcblx0XHRcdFx0aWYoc2VsZWN0ZWQ9PT0xKXtcclxuXHRcdFx0XHRcdCRpb25pY1RhYnNEZWxlZ2F0ZS5zZWxlY3Qoc2VsZWN0ZWQgKyAyKTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0JGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdChzZWxlY3RlZCArIDEpO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGhjLmdvQmFjayA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0dmFyIHNlbGVjdGVkID0gJGlvbmljVGFic0RlbGVnYXRlLnNlbGVjdGVkSW5kZXgoKTtcclxuXHRcdFx0aWYgKHNlbGVjdGVkICE9PSAtMSAmJiBzZWxlY3RlZCAhPT0gMCkge1xyXG5cdFx0XHRcdGlmKHNlbGVjdGVkPT09Myl7XHJcblx0XHRcdFx0XHQkaW9uaWNUYWJzRGVsZWdhdGUuc2VsZWN0KHNlbGVjdGVkIC0gMik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHQkaW9uaWNUYWJzRGVsZWdhdGUuc2VsZWN0KHNlbGVjdGVkIC0gMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNoYXRDbGlja2VkKCkge1xyXG5cdFx0XHRoYy5iYWRnZVZhbHVlID0gJyc7XHJcblx0XHRcdC8vJHN0YXRlLmdvKCdob21lLmNoYXQuYWxsJyk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdC5kaXJlY3RpdmUoJ2Rpc3RhbmNlVmlldycsIFsncG9zdFNlcnZpY2UnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbihwb3N0U2VydmljZSwgJHRpbWVvdXQpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL2hvbWUvdmlld3MvZGlzdGFuY2VWaWV3VGVtcGxhdGUuaHRtbCcsXHJcblx0XHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRcdHBvc2l0aW9uQ29yZHM6ICc9J1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSkge1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoZ2V0RGlzdGFuY2UsIDEwMDApO1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGdldERpc3RhbmNlKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoc2NvcGUucG9zaXRpb25Db3Jkcykge1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLmRpc3RhbmNlT2JqID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0bGF0aXR1ZGU6IHNjb3BlLnBvc2l0aW9uQ29yZHNbMV0sXHJcblx0XHRcdFx0XHRcdFx0XHRsb25naXR1ZGU6IHNjb3BlLnBvc2l0aW9uQ29yZHNbMF0sXHJcblxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0cG9zdFNlcnZpY2UuZ2V0RGlzdGFuY2Uoc2NvcGUuZGlzdGFuY2VPYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iai5kaXN0YW5jZSA9IHJlcyArICcgbWknO1xyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2NvcGUuZGlzdGFuY2VPYmouZGlzdGFuY2UgPSAnJztcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5kaXN0YW5jZU9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLmRpc3RhbmNlT2JqLmRpc3RhbmNlID0gJyc7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1dKVxyXG5cdFx0LmRpcmVjdGl2ZSgnaW9uaWNDdXN0b21TcGlubmVyJyxbaW9uaWNDdXN0b21TcGlubmVyXSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gaW9uaWNDdXN0b21TcGlubmVyKCl7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvaG9tZS92aWV3cy9pb25pY0N1c3RvbVNwaW5uZXIuaHRtbCdcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdC8qLmRpcmVjdGl2ZSgnZXhwYW5kaW5nVGV4dGFyZWEnLCBbZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7XHJcblx0XHRcdFx0XHQkZWxlbWVudC5jc3MoJ21pbi1oZWlnaHQnLCAnMCcpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdyZXNpemUnLCAnbm9uZScpO1xyXG5cdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdvdmVyZmxvdy15JywgJ2hpZGRlbicpO1xyXG5cdFx0XHRcdFx0c2V0SGVpZ2h0KDApO1xyXG5cdFx0XHRcdFx0JHRpbWVvdXQoc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQpO1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHNldEhlaWdodChoZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKTtcclxuXHRcdFx0XHRcdFx0JGVsZW1lbnQuY3NzKCdtYXgtaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQoKSB7XHJcblx0XHRcdFx0XHRcdHNldEhlaWdodCgwKTtcclxuXHRcdFx0XHRcdFx0dmFyIHNjcm9sbEhlaWdodCA9IGFuZ3VsYXIuZWxlbWVudCgkZWxlbWVudClbMF1cclxuXHRcdFx0XHRcdFx0XHQuc2Nyb2xsSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRpZiAoc2Nyb2xsSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXRIZWlnaHQoc2Nyb2xsSGVpZ2h0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhbmd1bGFyLmVsZW1lbnQoJGVsZW1lbnQpWzBdLnZhbHVlO1xyXG5cdFx0XHRcdFx0fSwgc2V0SGVpZ2h0VG9TY3JvbGxIZWlnaHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1dKSovXHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0dmFyIGltYWdlTW9kYWwgPSBmdW5jdGlvbigkaW9uaWNNb2RhbCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHJcblx0XHRcdFx0aW1hZ2VNb2RhbDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbSkge1xyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBzaG93SW1hZ2VNb2RhbChpbWFnZSkge1xyXG5cdFx0XHRcdFx0bG9hZE1vZGFsKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLmN1cnJlbnRJbWFnZSA9IGltYWdlO1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUubW9kYWwuc2hvdygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gbG9hZE1vZGFsKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgnYXBwL2NoYXQvdmlld3MvY2hhdEltYWdlTW9kYWwuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6ICRzY29wZVxyXG5cdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUubW9kYWwgPSBtb2RhbDtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdHNob3dJbWFnZU1vZGFsKCRzY29wZS5pbWFnZU1vZGFsKTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9O1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJykuZGlyZWN0aXZlKCdrZWVwU2Nyb2xsJywgW1xyXG5cdFx0JyRzdGF0ZScsICckdGltZW91dCcsICdTY3JvbGxQb3NpdGlvbnMnLCAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxyXG5cdFx0ZnVuY3Rpb24oJHN0YXRlLCAkdGltZW91dCwgU2Nyb2xsUG9zaXRpb25zLCAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSkge1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUpIHtcclxuXHRcdFx0XHRcdHNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0U2Nyb2xsUG9zaXRpb25zWyRzdGF0ZS5jdXJyZW50Lm5hbWVdID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHR2YXIgb2Zmc2V0O1xyXG5cdFx0XHRcdFx0XHRvZmZzZXQgPSBTY3JvbGxQb3NpdGlvbnNbJHN0YXRlLmN1cnJlbnQubmFtZV07XHJcblx0XHRcdFx0XHRcdGlmIChvZmZzZXQpIHtcclxuXHRcdFx0XHRcdFx0XHQkaW9uaWNTY3JvbGxEZWxlZ2F0ZS5zY3JvbGxUbyhvZmZzZXQubGVmdCwgb2Zmc2V0LnRvcCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRdKS5mYWN0b3J5KCdTY3JvbGxQb3NpdGlvbnMnLCBbXHJcblx0XHRmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cdFx0fVxyXG5cdF0pLmRpcmVjdGl2ZSgnaXNGb2N1c2VkJywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzY29wZTogeyB0cmlnZ2VyOiAnQGlzRm9jdXNlZCcgfSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcclxuXHJcblx0XHRcdFx0c2NvcGUuJHdhdGNoKCd0cmlnZ2VyJywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG5cdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50WzBdLmZvY3VzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vYWxlcnQoXCJoZWxsb1wiKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRbMF0uZm9jdXMoKTtcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1dKS5kaXJlY3RpdmUoJ2xhenlJbWcnLCBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdC8qICAgICA8bGF6eS1pbWcgc3JjLWxhcmdlPVwiaHR0cDovL3lvdWJha3UuY29tL3VwbG9hZHMvcGxhY2VzX2ltYWdlcy9sYXJnZS97e2ltZ319XCIgc3JjLXNtYWxsPVwiaHR0cDovL3lvdWJha3UuY29tL2F0aHVtYi5waHA/ZmlsZT17e2ltZ319JnNtYWxsXCIgLz5cclxuXHRcdFx0ICovXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImxhenktaW1nXCI+PGRpdiBjbGFzcz1cInNtXCI+PGltZyBzcmM9XCJ7e2ltZ1NtYWxsfX1cIiBjbGFzcz1cInNtYWxsXCIvPjwvZGl2PjxkaXYgc3R5bGU9XCJwYWRkaW5nLWJvdHRvbTogNzUlO1wiPjwvZGl2PjxpbWcgc3JjPVwie3tpbWdMYXJnZX19XCIgY2xhc3M9XCJsYXJnZVwiLz48L2Rpdj4nLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGltZ0xhcmdlOiAnQHNyY0xhcmdlJyxcclxuXHRcdFx0XHRpbWdTbWFsbDogJ0BzcmNTbWFsbCdcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0dmFyIGltZ1NtYWxsID0gbmV3IEltYWdlKCk7XHJcblx0XHRcdFx0dmFyIGltZ0xhcmdlID0gbmV3IEltYWdlKCk7XHJcblx0XHRcdFx0aW1nU21hbGwuc3JjID0gc2NvcGUuaW1nU21hbGw7XHJcblx0XHRcdFx0aW1nU21hbGwub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRlbGVtLmNoaWxkcmVuKCcuc20nKS5maW5kKCdpbWcnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xyXG5cdFx0XHRcdFx0aW1nTGFyZ2Uuc3JjID0gc2NvcGUuaW1nTGFyZ2U7XHJcblx0XHRcdFx0XHRpbWdMYXJnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5maW5kKCdpbWcnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0pLmRpcmVjdGl2ZSgnaW1hZ2VNb2RhbCcsIFsnJGlvbmljTW9kYWwnLCBpbWFnZU1vZGFsXSlcclxuXHQuZGlyZWN0aXZlKCd3YXRjaFNjcm9sbCcsWyckcm9vdFNjb3BlJyx3YXRjaFNjcm9sbF0pO1xyXG5cclxuXHRmdW5jdGlvbiB3YXRjaFNjcm9sbCgkcm9vdFNjb3BlKXtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLGVsZW0pe1xyXG5cclxuXHRcdFx0XHR2YXIgc3RhcnQgPSAwO1xyXG5cdFx0XHRcdHZhciB0aHJlc2hvbGQgPSAxNTA7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdzY3JvbGwnLGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR2YXIgc2Nyb2xsVG9wID0gZS5zcmNFbGVtZW50LnNjcm9sbFRvcDtcclxuXHRcdFx0XHRcdGlmKHNjcm9sbFRvcC1zdGFydCA+IHRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGlmKCRyb290U2NvcGUuc2xpZGVIZWFkZXJQcmV2aW91cyA+IHNjcm9sbFRvcCAtIHN0YXJ0KXtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS5zbGlkZUhlYWRlciA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JHJvb3RTY29wZS5zbGlkZUhlYWRlclByZXZpb3VzID0gc2Nyb2xsVG9wIC0gc3RhcnQ7XHJcblx0XHRcdFx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLmhvbWUnKVxyXG5cdFx0LnNlcnZpY2UoJ2hvbWVTZXJ2aWNlJyxbJyRodHRwJywnVXBsb2FkJyxIb21lU2VydmljZV0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIEhvbWVTZXJ2aWNlKCRodHRwLFVwbG9hZCl7XHJcblx0XHRcdC8vdGhpcy5iYXNlVVJMID0gJ2h0dHBzOi8vcGV0YWxjaGF0LWltYW5qaXRocmVkZHkuYzl1c2Vycy5pby8nO1xyXG5cdFx0XHR0aGlzLmJhc2VVUkwgPSAnaHR0cHM6Ly9iYW5hbmEtc3VycHJpc2UtMzEzMzIuaGVyb2t1YXBwLmNvbS8nO1xyXG5cdFx0XHR0aGlzLmRlbGV0ZVVwbG9hZCA9IGRlbGV0ZVVwbG9hZDtcclxuXHRcdFx0dGhpcy5zdWJtaXRVcGxvYWQgPSBzdWJtaXRVcGxvYWQ7XHJcblx0XHRcdHRoaXMuZ2V0SW1hZ2VzID0gZ2V0SW1hZ2VzO1xyXG5cdFx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRcdGZ1bmN0aW9uIGRlbGV0ZVVwbG9hZChpZCl7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLnBvc3QodGhhdC5iYXNlVVJMKyd1cGxvYWQvZGVsZXRlVXBsb2FkJywgeydkYXRhJyA6IHsncHVibGljX2lkJzppZH19ICk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0SW1hZ2VzKGltYWdlVGV4dCl7XHJcblx0XHRcdFx0cmV0dXJuICRodHRwLmdldCh0aGF0LmJhc2VVUkwrJ3VwbG9hZC9nZXRJbWFnZXMnLHtwYXJhbXM6e2ltYWdlVGV4dDppbWFnZVRleHR9fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZnVuY3Rpb24gc3VibWl0VXBsb2FkKGZpbGUpe1xyXG5cdFx0XHRcdHJldHVybiBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHRcdHVybDogdGhhdC5iYXNlVVJMICsgJ3VwbG9hZC9zaW5nbGVVcGxvYWRJZCcsXHJcblx0XHRcdFx0XHRkYXRhOiB7IGZpbGU6IGZpbGUgfVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRcclxuXHRcdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5ob21lJylcclxuXHRcdFx0LnNlcnZpY2UoJ1JlcXVlc3RzU2VydmljZScsIFsnaG9tZVNlcnZpY2UnLCAnJGh0dHAnLCAnJHEnLCAnJGlvbmljTG9hZGluZycsICckY29yZG92YVB1c2hWNScsICckYXV0aCcsIFJlcXVlc3RzU2VydmljZV0pO1xyXG5cdFxyXG5cclxuXHRmdW5jdGlvbiBSZXF1ZXN0c1NlcnZpY2UoaG9tZVNlcnZpY2UsICRodHRwLCAkcSwgJGlvbmljTG9hZGluZywgJGNvcmRvdmFQdXNoVjUsICRhdXRoKSB7XHJcblxyXG5cdFx0dmFyIGJhc2VfdXJsID0gaG9tZVNlcnZpY2UuYmFzZVVSTDtcclxuXHJcblx0XHRmdW5jdGlvbiByZWdpc3RlcigpIHtcclxuXHJcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgb3B0aW9ucyA9IHtcclxuXHRcdFx0XHRhbmRyb2lkOiB7XHJcblx0XHRcdFx0XHRzZW5kZXJJRDogXCI2Nzk0NjE4NDAxMTVcIixcclxuXHRcdFx0XHRcdHZpYnJhdGU6IFwidHJ1ZVwiXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRicm93c2VyOntcclxuXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRpb3M6IHtcclxuXHRcdFx0XHRcdGFsZXJ0OiBcInRydWVcIixcclxuXHRcdFx0XHRcdGJhZGdlOiBcInRydWVcIixcclxuXHRcdFx0XHRcdHNvdW5kOiBcInRydWVcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0d2luZG93czoge31cclxuXHRcdFx0fTtcclxuXHRcdFx0LyppZih2aWJyYXRlKXtcclxuXHRcdFx0XHQvL29wdGlvbnMuYW5kcm9pZC52aWJyYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHQvL29wdGlvbnMuYW5kcm9pZC5mb3JjZVNob3cgPXRydWU7XHJcblx0XHRcdH0qL1xyXG5cdFx0XHRcclxuXHRcdFx0JGNvcmRvdmFQdXNoVjUuaW5pdGlhbGl6ZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdC8vIHN0YXJ0IGxpc3RlbmluZyBmb3IgbmV3IG5vdGlmaWNhdGlvbnNcclxuXHRcdFx0XHQkY29yZG92YVB1c2hWNS5vbk5vdGlmaWNhdGlvbihmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJpbnNpZGVlZWUgbm90aWZpY2F0aW9uXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYXJndW1lbnRzKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQvLyBzdGFydCBsaXN0ZW5pbmcgZm9yIGVycm9yc1xyXG5cdFx0XHRcdCRjb3Jkb3ZhUHVzaFY1Lm9uRXJyb3IoKTtcclxuXHJcblx0XHRcdFx0Ly8gcmVnaXN0ZXIgdG8gZ2V0IHJlZ2lzdHJhdGlvbklkXHJcblx0XHRcdFx0aWYgKCRhdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XHJcblx0XHRcdFx0XHQkY29yZG92YVB1c2hWNS5yZWdpc3RlcigpLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uSWQpIHtcclxuXHRcdFx0XHRcdFx0JGh0dHAucG9zdChiYXNlX3VybCArICdub3RpZmljYXRpb24vcmVnaXN0ZXInLCB7ICdkZXZpY2VfdG9rZW4nOiByZWdpc3RyYXRpb25JZCB9KVxyXG5cdFx0XHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdC5jYXRjaChmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cclxuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ29vZ2xlU2lnbkluKHByb2ZpbGUpe1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChiYXNlX3VybCsnYXV0aGVudGljYXRlL2F1dGgvbmF0aXZlR29vZ2xlJywgeyBwcm9maWxlOiBwcm9maWxlIH0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0Z29vZ2xlU2lnbkluOiBnb29nbGVTaWduSW4sXHJcblx0XHRcdHJlZ2lzdGVyOiByZWdpc3RlclxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYXV0aE1vZEFwcC51c2VyRGF0YVxuICogQGRlc2NyaXB0aW9uXG4gKiAjIHVzZXJEYXRhXG4gKiBGYWN0b3J5IGluIHRoZSBhdXRoTW9kQXBwLlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGV0YWwuaG9tZScpXG4gIC5mYWN0b3J5KCd1c2VyRGF0YScsWyckd2luZG93JywnJHN0YXRlJywnJGF1dGgnLCckaHR0cCcsJ2hvbWVTZXJ2aWNlJyx1c2VyRGF0YV0pO1xuXG4gIGZ1bmN0aW9uIHVzZXJEYXRhKCR3aW5kb3csJHN0YXRlLCRhdXRoLCRodHRwLGhvbWVTZXJ2aWNlKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSAkd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICB2YXIgY2FjaGVkVXNlcj17fTtcbiAgICB2YXIgb2JqMSA9ICB7XG4gICAgICBzZXRVc2VyOiBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICBcbiAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKCd1c2VyJyxKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcblxuICAgICAgICAgIHZhciB1c2VySWQgPSAkYXV0aC5nZXRQYXlsb2FkKCkuc3ViO1xuICAgICAgICAgIGlmKHVzZXJJZCl7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwrJ3VzZXIvZ2V0LycrdXNlcklkKS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvKmlmKG9iajEuaXNVc2VyRXhpc3RzKCkpe1xuICAgICAgICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7XG4gICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgfSxcbiAgICAgIGdldFVzZXI6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNhY2hlZFVzZXIgPSBudWxsO1xuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTtcbiAgICAgIH0sXG4gICAgICBpc1VzZXJFeGlzdHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKG9iajEuZ2V0VXNlcigpKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gb2JqMTtcbiAgfVxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLm1lc3NhZ2UnKVxyXG5cclxuXHQuY29udHJvbGxlcignTWVzc2FnZVJvb21Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnU29ja2V0JywgJyRzdGF0ZVBhcmFtcycsICd1c2VyRGF0YScsICdob21lU2VydmljZScsICdtZXNzYWdlUm9vbVNlcnZpY2UnLCAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLCAndXNlclNlcnZpY2UnLCAnVXBsb2FkJywgJyRpb25pY0xvYWRpbmcnLCAnJHdpbmRvdycsJ21lc3NhZ2VSb29tJywgTWVzc2FnZVJvb21Db250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIE1lc3NhZ2VSb29tQ29udHJvbGxlcigkc2NvcGUsICR0aW1lb3V0LCBTb2NrZXQsICRzdGF0ZVBhcmFtcywgdXNlckRhdGEsIGhvbWVTZXJ2aWNlLCBtZXNzYWdlUm9vbVNlcnZpY2UsICRpb25pY1Njcm9sbERlbGVnYXRlLCB1c2VyU2VydmljZSwgVXBsb2FkLCAkaW9uaWNMb2FkaW5nLCAkd2luZG93LG1lc3NhZ2VSb29tKSB7XHJcblx0XHR2YXIgY2JjID0gdGhpcztcclxuXHRcdFxyXG5cdFx0Y2JjLmN1cnJlbnRVc2VyID0gdXNlckRhdGEuZ2V0VXNlcigpLl9pZDtcclxuXHRcdFxyXG5cdFx0Y2JjLm1lc3NhZ2VMaXN0ID0gW107XHJcblx0XHRjYmMubWVzc2FnZVJvb20gPSBtZXNzYWdlUm9vbTtcclxuXHRcdFxyXG5cdFx0Y2JjLmxvYWRNb3JlTWVzc2FnZXMgPSBsb2FkTW9yZU1lc3NhZ2VzO1xyXG5cdFx0Y2JjLnNjcm9sbEJvdHRvbSA9IHNjcm9sbEJvdHRvbTtcclxuXHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0Y2JjLmZvcm1hdE1lc3NhZ2VEYXRlID0gZnVuY3Rpb24obWVzc2FnZURhdGUpe1xyXG5cdFx0XHRyZXR1cm4gd2luZG93Lm1vbWVudChtZXNzYWdlRGF0ZSkuZm9ybWF0KFwiIE1NTSBEbywgaDptbSBhXCIpO1xyXG5cdFx0fTtcclxuXHRcdGNiYy5wYXJhbXMgPSB7XHJcblx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdGxpbWl0OiA1XHJcblx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZU1lc3NhZ2VzKCkge1xyXG5cdFx0XHRjYmMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0TWVzc2FnZXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIHNjcm9sbEJvdHRvbSgpIHtcclxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JGlvbmljU2Nyb2xsRGVsZWdhdGUuc2Nyb2xsQm90dG9tKHRydWUpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZXMoKSB7XHJcblx0XHRcdG1lc3NhZ2VSb29tU2VydmljZS5nZXRNZXNzYWdlcyhtZXNzYWdlUm9vbS5faWQsY2JjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImdldCBtZXNzYWdlc1wiKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXMuZGF0YS5kb2NzLCBmdW5jdGlvbihtZXNzYWdlKSB7XHJcblx0XHRcdFx0XHRjYmMubWVzc2FnZUxpc3QudW5zaGlmdChtZXNzYWdlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzY3JvbGxCb3R0b20oKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24ocmVzKSB7XHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHJlcyk7XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHQkaW9uaWNMb2FkaW5nLnNob3coKTtcclxuXHRcdFx0Z2V0TWVzc2FnZXMoKTtcclxuXHRcdFx0c29ja2V0Sm9pbigpO1xyXG5cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0ZnVuY3Rpb24gc29ja2V0Sm9pbigpIHtcclxuXHRcdFx0U29ja2V0LmVtaXQoJ2FkZFRvTWVzc2FnZXRSb29tJywgeyAncm9vbUlkJzogbWVzc2FnZVJvb20uX2lkIH0pO1xyXG5cdFx0XHRTb2NrZXQub24oJ3Jvb21NZXNzYWdlUmVjZWl2ZWQnLCBmdW5jdGlvbihtZXNzYWdlKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWNlaXZlZCBtZXNzYWdlXCIpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG5cdFx0XHRcdGNiYy5tZXNzYWdlTGlzdC5wdXNoKG1lc3NhZ2UpO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Y2JjLmNsaWNrU3VibWl0ID0gZnVuY3Rpb24oJGV2ZW50KSB7XHJcblxyXG5cdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRjYmMuZm9jdXNJbnB1dCA9IHRydWU7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAod2luZG93LmNvcmRvdmEgKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0d2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5zaG93KCk7XHJcblx0XHRcdFx0Ly93aW5kb3cuY29yZG92YS5maXJlV2luZG93RXZlbnQoJ25hdGl2ZS5rZXlib2FyZHNob3cnLCB7J2tleWJvYXJkSGVpZ2h0JzogKzI2Mn0pO1xyXG4gICAgICAgICAgICBcdFx0XHRcdHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaXNWaXNpYmxlID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL3Njcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR2YXIgbWVzc2FnZU9iaiA9IHsgJ21lc3NhZ2UnOiBjYmMubXlNc2csICdyb29tSWQnOiBjYmMubWVzc2FnZVJvb20uX2lkIH07XHJcblxyXG5cdFx0XHRtZXNzYWdlUm9vbVNlcnZpY2Uuc2VuZE1lc3NhZ2UobWVzc2FnZU9iaikudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjYmMubXlNc2cgPSAnJztcclxuXHRcdFx0XHQvL2NiYy5tZXNzYWdlTGlzdC5wdXNoKHJlcy5kYXRhLnNhdmVkTWVzc2FnZSk7XHJcblx0XHRcdFx0c2Nyb2xsQm90dG9tKCk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Y2JjLm1lc3NhZ2VMb2FkaW5nID0gZmFsc2U7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0fTtcclxuXHJcblxyXG5cdFx0Y2JjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjYmMubWVzc2FnZUxvYWRpbmcgPSB0cnVlO1xyXG5cdFx0XHRjYmMuZmlsZS51cGxvYWQgPSBVcGxvYWQudXBsb2FkKHtcclxuXHRcdFx0XHR1cmw6IGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXBsb2FkL3NpbmdsZVVwbG9hZCcsXHJcblx0XHRcdFx0ZGF0YTogeyBmaWxlOiBjYmMuZmlsZSB9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y2JjLmZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRjYmMuZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGNiYy51cGxvYWRlZEltYWdlID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRjYmMuY2FuY2VsVXBsb2FkKCk7XHJcblx0XHRcdFx0dmFyIG1lc3NhZ2VPYmogPSB7ICdtZXNzYWdlJzogY2JjLnVwbG9hZGVkSW1hZ2UsICAncm9vbUlkJzogY2JjLm1lc3NhZ2VSb29tLl9pZCwgdHlwZTogJ2ltZycgfTtcclxuXHRcdFx0XHRtZXNzYWdlUm9vbVNlcnZpY2Uuc2VuZE1lc3NhZ2UobWVzc2FnZU9iaikudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHRcdFx0Ly9jYmMubWVzc2FnZUxpc3QucHVzaChyZXMuZGF0YS5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdGNiYy5tZXNzYWdlTG9hZGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjYmMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNiYy5zaG93VGVtcEltYWdlID0gZmFsc2U7XHJcblx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSAnJztcclxuXHRcdH07XHJcblx0XHRjYmMudXBsb2FkU2luZ2xlSW1hZ2UgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHRjYmMuZmlsZSA9IGZpbGU7XHJcblx0XHRcdGNiYy5lcnJGaWxlID0gZXJyRmlsZXMgJiYgZXJyRmlsZXNbMF07XHJcblx0XHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdFx0Y2JjLnNob3dUZW1wSW1hZ2UgPSB0cnVlO1xyXG5cdFx0XHRcdGNiYy50ZW1wSW1hZ2VVcmwgPSBmaWxlO1xyXG5cdFx0XHRcdHNjcm9sbEJvdHRvbSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y2JjLmxlYXZlTWVzc2FnZVJvb20gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0U29ja2V0LmVtaXQoJ3JlbW92ZUZyb21NZXNzYWdlUm9vbScsIHsgJ3Jvb21JZCc6IGNiYy5tZXNzYWdlUm9vbS5faWQgfSk7XHJcblxyXG5cdFx0XHQkd2luZG93Lmhpc3RvcnkuYmFjaygpO1xyXG5cclxuXHJcblx0XHR9O1xyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuXHJcbi8qdXNlclNlcnZpY2UuZ2V0VXNlckRldGFpbHMoY2JjLnJlY2VpdmVyVXNlcklESWQsIHsgJ2ZpZWxkcyc6ICdkaXNwbGF5TmFtZSBmaXJzdE5hbWUnIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwidGhlIHJlY2VpdmVyXCIpO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XHJcblx0XHRcdFx0XHRjYmMucmVjZWl2ZXJVc2VySUQgPSByZXNwb25zZS5kYXRhLmRpc3BsYXlOYW1lIHx8IChyZXNwb25zZS5kYXRhLmZpcnN0TmFtZSk7XHJcblx0XHRcdFx0fSk7Ki9cclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLm1lc3NhZ2UnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ01lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAnbWVzc2FnZVJvb21TZXJ2aWNlJywgJyRpb25pY0xvYWRpbmcnLCAnU29ja2V0JyxNZXNzYWdlUm9vbUxpc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIE1lc3NhZ2VSb29tTGlzdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIG1lc3NhZ2VSb29tU2VydmljZSwgJGlvbmljTG9hZGluZyxTb2NrZXQpIHtcclxuXHRcdHZhciBhY2MgPSB0aGlzO1xyXG5cdFx0YWNjLmdldEFsbE1lc3NhZ2VSb29tcyA9IGdldEFsbE1lc3NhZ2VSb29tcztcclxuXHRcdGFjYy5sb2FkTW9yZU1lc3NhZ2VzID0gbG9hZE1vcmVNZXNzYWdlcztcclxuXHRcdGFjYy5wdWxsUmVmcmVzaE1lc3NhZ2VzID0gcHVsbFJlZnJlc2hNZXNzYWdlcztcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRTb2NrZXQub24oJ25ld1Jvb21NZXNzYWdlUmVjZWl2ZWQnLCBtZXNzYWdlUmVjZWl2ZWQpO1xyXG5cdFx0XHJcblx0XHRhY2MubWVzc2FnZVJvb21QYWdlID0gZnVuY3Rpb24obWVzc2FnZVJvb20pe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhtZXNzYWdlUm9vbSk7XHJcblx0XHRcdGlmKG1lc3NhZ2VSb29tLmludGVyZXN0KXtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ21lc3NhZ2VSb29tSW50ZXJlc3QnLCB7IGludGVyZXN0OiBtZXNzYWdlUm9vbS5pbnRlcmVzdH0pO1x0XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwieW9cIik7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdtZXNzYWdlUm9vbVBvc3QnLCB7IHBvc3RJZDogbWVzc2FnZVJvb20ucG9zdC5faWR9KTtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fTtcclxuXHRcdGZ1bmN0aW9uIG1lc3NhZ2VSZWNlaXZlZChtZXNzYWdlKXtcclxuXHRcdFx0dmFyIG5ld01lc3NhZ2VSb29tID0ge307XHJcblx0XHRcdG5ld01lc3NhZ2VSb29tLm5ld01lc3NhZ2UgPSB0cnVlO1xyXG5cdFx0XHRuZXdNZXNzYWdlUm9vbS5sYXN0TWVzc2FnZSA9IHtcclxuXHRcdFx0XHRfaWQ6bWVzc2FnZS5faWQsXHJcblx0XHRcdFx0bWVzc2FnZTptZXNzYWdlLm1lc3NhZ2UsXHJcblx0XHRcdFx0dHlwZTogbWVzc2FnZS50eXBlXHJcblx0XHRcdH07XHJcblx0XHRcclxuXHJcblx0XHRcdGZvcih2YXIgY2g9MDtjaDxhY2MubWVzc2FnZVJvb21zTGlzdC5sZW5ndGg7Y2grKyl7XHJcblx0XHRcdFx0aWYobmV3TWVzc2FnZVJvb20uY3JlYXRvcjIuX2lkPT1hY2MubWVzc2FnZVJvb21zTGlzdFtjaF0uY3JlYXRvcjIuX2lkKXtcclxuXHRcdFx0XHRcdGlmIChuZXdNZXNzYWdlUm9vbS5sYXN0TWVzc2FnZS5faWQgIT09IGFjYy5tZXNzYWdlUm9vbXNMaXN0W2NoXS5sYXN0TWVzc2FnZS5faWQpIHtcclxuXHRcdFx0XHRcdFx0YWNjLm1lc3NhZ2VSb29tc0xpc3Quc3BsaWNlKGNoLDEpO1xyXG5cdFx0XHRcdFx0XHRhY2MubWVzc2FnZVJvb21zTGlzdC51bnNoaWZ0KG5ld01lc3NhZ2VSb29tKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwdWxsUmVmcmVzaE1lc3NhZ2VzKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlTWVzc2FnZXMoKSB7XHJcblx0XHRcdGFjYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRBbGxNZXNzYWdlUm9vbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxNZXNzYWdlUm9vbXMoKSB7XHJcblx0XHRcdG1lc3NhZ2VSb29tU2VydmljZS5nZXRNZXNzYWdlUm9vbXMoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhY2MubWVzc2FnZVJvb21zTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhY2Mubm9Qb3N0cyA9IXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YWNjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYWNjLm1lc3NhZ2VSb29tc0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhY2MuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFjYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YWNjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhY2MuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhY2MucGFyYW1zID0ge1xyXG5cdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0bGltaXQ6IDI1XHJcblx0XHRcdH07XHJcblx0XHRcdGFjYy5tZXNzYWdlUm9vbXNMaXN0ID0gW107XHJcblx0XHRcdGdldEFsbE1lc3NhZ2VSb29tcygpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwubWVzc2FnZScpXHJcblx0XHQuZGlyZWN0aXZlKCdtZXNzYWdlUm9vbVNldHRpbmdzJywgWydtZXNzYWdlUm9vbVNlcnZpY2UnLCAnJGlvbmljUG9wb3ZlcicsJyR3aW5kb3cnLG1lc3NhZ2VSb29tU2V0dGluZ3NdKTtcclxuXHJcblx0ZnVuY3Rpb24gbWVzc2FnZVJvb21TZXR0aW5ncyhtZXNzYWdlUm9vbVNlcnZpY2UsJGlvbmljUG9wb3Zlciwkd2luZG93KSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdG1lc3NhZ2VSb29tSWQ6ICdAbWVzc2FnZVJvb21JZCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsZWxlbSkge1xyXG5cdFx0XHRcdHNjb3BlLm9wZW5NZXNzYWdlU2V0dGluZ3MgPSBvcGVuTWVzc2FnZVNldHRpbmdzO1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLGZ1bmN0aW9uKCRldmVudCl7XHJcblx0XHRcdFx0XHRzY29wZS5vcGVuTWVzc2FnZVNldHRpbmdzKCRldmVudCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZnVuY3Rpb24gb3Blbk1lc3NhZ2VTZXR0aW5ncygkZXZlbnQpIHtcclxuXHJcblx0XHRcdFx0XHQkaW9uaWNQb3BvdmVyLmZyb21UZW1wbGF0ZVVybCgnYXBwL21lc3NhZ2Uvdmlld3MvbWVzc2FnZVJvb21TZXR0aW5ncy5odG1sJywge1xyXG5cdFx0XHRcdFx0XHRzY29wZTogc2NvcGVcclxuXHRcdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24ocG9wb3Zlcikge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUucG9wb3ZlciA9IHBvcG92ZXI7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIuc2hvdygkZXZlbnQpO1xyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZSl7XHJcblx0XHRcdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhcImVycm9yIHBvcHNcIik7XHJcblx0XHRcdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzY29wZS5sZWF2ZVJvb20gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdG1lc3NhZ2VSb29tU2VydmljZS5sZWF2ZU1lc3NhZ2VSb29tKHNjb3BlLm1lc3NhZ2VSb29tSWQpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLm1lc3NhZ2UnKVxyXG5cdFx0LnNlcnZpY2UoJ21lc3NhZ2VSb29tU2VydmljZScsIFsnJGh0dHAnLCAnJHN0YXRlUGFyYW1zJywgJ2hvbWVTZXJ2aWNlJywgTWVzc2FnZVJvb21TZXJ2aWNlXSk7XHJcblxyXG5cdGZ1bmN0aW9uIE1lc3NhZ2VSb29tU2VydmljZSgkaHR0cCwgJHN0YXRlUGFyYW1zLCBob21lU2VydmljZSkge1xyXG5cdFx0dmFyIHJzID0gdGhpcztcclxuXHRcdHJzLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XHJcblx0XHRycy5nZXRNZXNzYWdlcyA9IGdldE1lc3NhZ2VzO1xyXG5cdFx0cnMuZ2V0TWVzc2FnZVJvb20gPSBnZXRNZXNzYWdlUm9vbTtcclxuXHRcdHJzLmdldE1lc3NhZ2VSb29tcyA9IGdldE1lc3NhZ2VSb29tcztcclxuXHRcdHJzLmxlYXZlTWVzc2FnZVJvb20gPSBsZWF2ZU1lc3NhZ2VSb29tO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ21lc3NhZ2UvY3JlYXRlLycgKyBtZXNzYWdlLnJvb21JZCwgbWVzc2FnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZXMobWVzc2FnZVJvb21JZCxwYXJhbXMpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdtZXNzYWdlL2dldE1lc3NhZ2VzLycgKyBtZXNzYWdlUm9vbUlkLHtwYXJhbXM6cGFyYW1zfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TWVzc2FnZVJvb20ocGFyYW1zKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAnbWVzc2FnZVJvb20vZ2V0Um9vbS8nLHtwYXJhbXM6cGFyYW1zfSApO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGxlYXZlTWVzc2FnZVJvb20obWVzc2FnZVJvb21JZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdtZXNzYWdlUm9vbS9sZWF2ZVJvb20vJyx7bWVzc2FnZVJvb21JZDptZXNzYWdlUm9vbUlkfSApO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldE1lc3NhZ2VSb29tcygpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdtZXNzYWdlUm9vbS9nZXRSb29tcy8nICk7XHJcblxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRcclxuXHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdBbGxQZW9wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Blb3BsZVNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJywgQWxsUGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBBbGxQZW9wbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwZW9wbGVTZXJ2aWNlLCRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldEFsbFBlb3BsZSA9IGdldEFsbFBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblx0XHRhcGMuc2VhcmNoQ3Jvc3NTdWJtaXQgPSBzZWFyY2hDcm9zc1N1Ym1pdDtcclxuXHRcdGFwYy5wZW9wbGVTZWFyY2hUZXh0U3VibWl0ID0gcGVvcGxlU2VhcmNoVGV4dFN1Ym1pdDtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUGVvcGxlKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHNlYXJjaENyb3NzU3VibWl0KCl7XHJcblx0XHRcdGFwYy5wZW9wbGVTZWFyY2hUZXh0ID0gJyc7XHJcblx0XHRcdGFwYy5zaG93U2VhcmNoQ3Jvc3MgPSBmYWxzZTtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHBlb3BsZVNlYXJjaFRleHRTdWJtaXQoaW50ZXJlc3Qpe1xyXG5cdFx0XHRhcGMuc2hvd1NlYXJjaENyb3NzID0gdHJ1ZTtcclxuXHRcdFx0aWYoaW50ZXJlc3Qpe1xyXG5cdFx0XHRcdGFwYy5wZW9wbGVTZWFyY2hUZXh0ID0gaW50ZXJlc3Q7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUGVvcGxlKCkge1xyXG5cdFx0XHRhcGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0Z2V0QWxsUGVvcGxlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsUGVvcGxlKCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldEFsbFVzZXJzKGFwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZGF0YS5kb2NzLCBmdW5jdGlvbih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0YXBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDI1LFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0aWYoYXBjLnBlb3BsZVNlYXJjaFRleHQpe1xyXG5cdFx0XHRcdGFwYy5wYXJhbXMuaW50ZXJlc3QgPSBcdGFwYy5wZW9wbGVTZWFyY2hUZXh0O1xyXG5cdFx0XHR9XHJcblx0XHRcdGdldEFsbFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdOZWFyYnlQZW9wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Blb3BsZVNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJywgTmVhcmJ5UGVvcGxlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBOZWFyYnlQZW9wbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwZW9wbGVTZXJ2aWNlLCRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldE5lYXJieVBlb3BsZSA9IGdldE5lYXJieVBlb3BsZTtcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBlb3BsZSA9IHB1bGxSZWZyZXNoUGVvcGxlO1xyXG5cdFx0YXBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblx0XHRhcGMucmVsZWFzZVJhbmdlID0gcmVsZWFzZVJhbmdlO1xyXG5cdFx0YXBjLmRpc3RhbmNlID0gMTA7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUGVvcGxlKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldE5lYXJieVBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcmVsZWFzZVJhbmdlKCl7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlQZW9wbGUoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0TmVhcmJ5VXNlcnMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucGVvcGxlTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRhcGMubm9QZW9wbGUgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wZW9wbGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucGVvcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAyNSxcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cdFx0XHRcdGRpc3RhbmNlOiBhcGMuZGlzdGFuY2VcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0TmVhcmJ5UGVvcGxlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuY29udHJvbGxlcignUGVvcGxlUGFyZW50Q29udHJvbGxlcicsW1Blb3BsZVBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUGVvcGxlUGFyZW50Q29udHJvbGxlcigpe1xyXG5cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdSZWNlaXZlZFBlb3BsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncGVvcGxlU2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBSZWNlaXZlZFBlb3BsZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUmVjZWl2ZWRQZW9wbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwZW9wbGVTZXJ2aWNlLCRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldFJlY2VpdmVkUGVvcGxlID0gZ2V0UmVjZWl2ZWRQZW9wbGU7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQZW9wbGUgPSBwdWxsUmVmcmVzaFBlb3BsZTtcclxuXHRcdGFwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUGVvcGxlKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldFJlY2VpdmVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZWRQZW9wbGUoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmVjZWl2ZWRVc2VycyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Blb3BsZSA9IXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDEwLFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UmVjZWl2ZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuY29udHJvbGxlcignUmVxdWVzdGVkUGVvcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwZW9wbGVTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIFJlcXVlc3RlZFBlb3BsZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUmVxdWVzdGVkUGVvcGxlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgcGVvcGxlU2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRSZXF1ZXN0ZWRQZW9wbGUgPSBnZXRSZXF1ZXN0ZWRQZW9wbGU7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQZW9wbGUgPSBwdWxsUmVmcmVzaFBlb3BsZTtcclxuXHRcdGFwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUGVvcGxlKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldFJlcXVlc3RlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlcXVlc3RlZFBlb3BsZSgpIHtcclxuXHRcdFx0cGVvcGxlU2VydmljZS5nZXRSZXF1ZXN0ZWRVc2VycyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wZW9wbGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRhcGMucGVvcGxlTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAyNSxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGdldFJlcXVlc3RlZFBlb3BsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucGVvcGxlJylcclxuXHRcdC5jb250cm9sbGVyKCdSZXZlYWxlZFBlb3BsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAncGVvcGxlU2VydmljZScsJyRpb25pY0xvYWRpbmcnLCBSZXZlYWxlZFBlb3BsZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUmV2ZWFsZWRQZW9wbGVDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwZW9wbGVTZXJ2aWNlLCRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldFJldmVhbGVkUGVvcGxlID0gZ2V0UmV2ZWFsZWRQZW9wbGU7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQZW9wbGUgPSBwdWxsUmVmcmVzaFBlb3BsZTtcclxuXHRcdGFwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUGVvcGxlKCkge1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldFJldmVhbGVkUGVvcGxlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmV2ZWFsZWRQZW9wbGUoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmV2ZWFsZWRVc2VycyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wZW9wbGVMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Blb3BsZSA9IXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gYXBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDI1LFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UmV2ZWFsZWRQZW9wbGUoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuZGlyZWN0aXZlKCdwZW9wbGVMaXN0JywgWyAndXNlckRhdGEnLHBlb3BsZUxpc3RdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIHBlb3BsZUxpc3QoIHVzZXJEYXRhKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0UnLFxyXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ2FwcC9wZW9wbGUvdmlld3MvcGVvcGxlTGlzdFRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0XHRyZXBsYWNlOiB0cnVlLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGxpc3RUeXBlOiAnQGxpc3RUeXBlJyxcclxuXHRcdFx0XHRwZW9wbGVMaXN0OiAnPXBlb3BsZUxpc3QnLFxyXG5cdFx0XHRcdHBlb3BsZVNlYXJjaFRleHRTdWJtaXQ6ICcmcGVvcGxlU2VhcmNoVGV4dFN1Ym1pdCdcclxuXHRcdFx0fSxcclxuXHRcdFx0Y29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSB1c2VyRGF0YS5nZXRVc2VyKCk7XHJcblx0XHRcdFx0JHNjb3BlLnNldFBlb3BsZVNlYXJjaCA9IGZ1bmN0aW9uKGludGVyZXN0LCRldmVudCl7XHJcblx0XHRcdFx0XHRpZigkc2NvcGUucGVvcGxlU2VhcmNoVGV4dFN1Ym1pdCl7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQkc2NvcGUucGVvcGxlU2VhcmNoVGV4dFN1Ym1pdCh7aW50ZXJlc3Q6aW50ZXJlc3R9KTtcdFxyXG5cdFx0XHRcdFx0XHQkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdCRzY29wZS5yZW1vdmVBZnRlckRlY2lkZWQgPSBmdW5jdGlvbihpbmRleCl7XHJcblx0XHRcdFx0XHQkc2NvcGUucGVvcGxlTGlzdC5zcGxpY2UoaW5kZXgsMSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRcclxuXHRcdFx0fV1cclxuXHRcdH07XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LmRpcmVjdGl2ZSgncmVjZWl2ZWRQZW9wbGVMaXN0JywgWyAncGVvcGxlU2VydmljZScsICckaW9uaWNMb2FkaW5nJywgcmVjZWl2ZWRQZW9wbGVMaXN0XSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiByZWNlaXZlZFBlb3BsZUxpc3QoIHBlb3BsZVNlcnZpY2UsICRpb25pY0xvYWRpbmcpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Blb3BsZS92aWV3cy9yZWNlaXZlZFBlb3BsZUxpc3QuaHRtbCcsXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3JwYycsXHJcblx0XHRcdHNjb3BlOiB7XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG5cdFx0XHRcdHZhciBycGMgPSB0aGlzO1xyXG5cdFx0XHRcdHJwYy5nZXRSZWNlaXZlZFBlb3BsZSA9IGdldFJlY2VpdmVkUGVvcGxlO1xyXG5cdFx0XHRcdHJwYy5sb2FkTW9yZVBlb3BsZSA9IGxvYWRNb3JlUGVvcGxlO1xyXG5cdFx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZWRQZW9wbGUoKSB7XHJcblx0XHRcdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlY2VpdmVkVXNlcnMocnBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRycGMucGVvcGxlTGlzdC5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcdHJwYy5ub1Blb3BsZSA9ICFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFx0XHRycGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID4gcnBjLnBlb3BsZUxpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdFx0cnBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cnBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHJcblx0XHRcdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBsb2FkTW9yZVBlb3BsZSgpIHtcclxuXHRcdFx0XHRcdHJwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRcdFx0Z2V0UmVjZWl2ZWRQZW9wbGUoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRcdFx0cnBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cnBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdHJwYy5wZW9wbGVMaXN0ID0gW107XHJcblx0XHRcdFx0XHRycGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0XHRsaW1pdDogMTAsXHJcblx0XHRcdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRnZXRSZWNlaXZlZFBlb3BsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9XVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuZGlyZWN0aXZlKCdyZXF1ZXN0ZWRQZW9wbGVMaXN0JywgWyAncGVvcGxlU2VydmljZScsICckaW9uaWNMb2FkaW5nJywgcmVxdWVzdGVkUGVvcGxlTGlzdF0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gcmVxdWVzdGVkUGVvcGxlTGlzdCggcGVvcGxlU2VydmljZSwgJGlvbmljTG9hZGluZykge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcGVvcGxlL3ZpZXdzL3JlcXVlc3RlZFBlb3BsZUxpc3QuaHRtbCcsXHJcblx0XHRcdHJlcGxhY2U6IHRydWUsXHJcblx0XHRcdGNvbnRyb2xsZXJBczogJ3JwYycsXHJcblx0XHRcdHNjb3BlOiB7XHJcblxyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG5cdFx0XHRcdHZhciBycGMgPSB0aGlzO1xyXG5cdFx0XHRcdHJwYy5nZXRSZXF1ZXN0ZWRQZW9wbGUgPSBnZXRSZXF1ZXN0ZWRQZW9wbGU7XHJcblx0XHRcdFx0cnBjLmxvYWRNb3JlUGVvcGxlID0gbG9hZE1vcmVQZW9wbGU7XHJcblx0XHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRmdW5jdGlvbiBnZXRSZXF1ZXN0ZWRQZW9wbGUoKSB7XHJcblx0XHRcdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlcXVlc3RlZFVzZXJzKHJwYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0cnBjLnBlb3BsZUxpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRycGMubm9QZW9wbGUgPSAhcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRcdFx0cnBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IHJwYy5wZW9wbGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRcdHJwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHJwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gbG9hZE1vcmVQZW9wbGUoKSB7XHJcblx0XHRcdFx0XHRycGMucGFyYW1zLnBhZ2UgKz0gMTtcclxuXHRcdFx0XHRcdGdldFJlcXVlc3RlZFBlb3BsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdFx0XHRycGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdFx0XHRycGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cnBjLnBlb3BsZUxpc3QgPSBbXTtcclxuXHRcdFx0XHRcdHJwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0XHRcdGxpbWl0OiAxMCxcclxuXHRcdFx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGdldFJlcXVlc3RlZFBlb3BsZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHR9XVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBlb3BsZScpXHJcblx0XHQuZGlyZWN0aXZlKCdjYW5jZWxSZXZlYWwnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ3JldmVhbFNlcnZpY2UnLCBjYW5jZWxSZXZlYWxdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVjaWRlUmV2ZWFsJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdyZXZlYWxTZXJ2aWNlJywgZGVjaWRlUmV2ZWFsXSlcclxuXHRcdC5kaXJlY3RpdmUoJ2RlbGV0ZVJldmVhbCcsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAncmV2ZWFsU2VydmljZScsIGRlbGV0ZVJldmVhbF0pXHJcblx0XHQuZGlyZWN0aXZlKCdzZW5kUmV2ZWFsJywgWyckaW9uaWNBY3Rpb25TaGVldCcsICdyZXZlYWxTZXJ2aWNlJywgc2VuZFJldmVhbF0pXHJcblx0XHQuZGlyZWN0aXZlKCdjcmVhdGVCbG9jaycsIFsnJGlvbmljQWN0aW9uU2hlZXQnLCAnYmxvY2tTZXJ2aWNlJywgY3JlYXRlQmxvY2tdKVxyXG5cdFx0LmRpcmVjdGl2ZSgnZGVsZXRlQmxvY2snLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ2Jsb2NrU2VydmljZScsIGRlbGV0ZUJsb2NrXSlcclxuXHRcdC5kaXJlY3RpdmUoJ2RlbGV0ZUNoYXQnLCBbJyRpb25pY0FjdGlvblNoZWV0JywgJ2NoYXRTZXJ2aWNlJywnJHN0YXRlJywgZGVsZXRlQ2hhdF0pXHJcblx0XHQuZGlyZWN0aXZlKCdjaGF0UGFnZScsIFsnJHN0YXRlJywgY2hhdFBhZ2VdKVxyXG5cdFx0LmRpcmVjdGl2ZSgndXNlclNldHRpbmdzJywgWyckaW9uaWNQb3BvdmVyJywgdXNlclNldHRpbmdzXSlcclxuXHRcdC5kaXJlY3RpdmUoJ3VzZXJQYWdlJywgWyckc3RhdGUnLCB1c2VyUGFnZV0pO1xyXG5cclxuXHRcclxuXHRmdW5jdGlvbiBkZWxldGVDaGF0KCRpb25pY0FjdGlvblNoZWV0LCBjaGF0U2VydmljZSwkc3RhdGUpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnQScsXHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0ZGVsZXRlQ2hhdDogJ0AnLFxyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0RlbGV0ZSAnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBEZWxldGUgQ2hhdCAnXHJcblx0XHRcdFx0XHRcdH0sIF0sXHJcblxyXG5cdFx0XHRcdFx0XHRjYW5jZWxUZXh0OiAnQ2FuY2VsJyxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZygnQ0FOQ0VMTEVEJyk7XHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjaGF0U2VydmljZS5kZWxldGVDaGF0Um9vbShzY29wZS5kZWxldGVDaGF0KS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQocmVzLmRhdGEpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUuY2hhdC5hbGwnKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB1c2VyU2V0dGluZ3MoJGlvbmljUG9wb3Zlcikge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHR1c2VyQmxvY2s6ICdAJyxcclxuXHRcdFx0XHRjaGF0RGVsZXRlOiAnQCcsXHJcblx0XHRcdFx0YmxvY2tJZDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0c2NvcGUudXNlckJsb2NrID0gKHNjb3BlLnVzZXJCbG9jaz09PVwidHJ1ZVwiKTtcclxuXHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY1BvcG92ZXIuZnJvbVRlbXBsYXRlVXJsKCdhcHAvdXNlci92aWV3cy9zZXR0aW5nc1RlbXBsYXRlLmh0bWwnLCB7XHJcblx0XHRcdFx0XHRcdHNjb3BlOiBzY29wZVxyXG5cdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihwb3BvdmVyKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvcG92ZXIgPSBwb3BvdmVyO1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3BvdmVyLnNob3coZXZlbnQpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGNoYXRQYWdlKCRzdGF0ZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRjaGF0UGFnZTogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHQkc3RhdGUuZ28oJ2NoYXRCb3gnLCB7IHVzZXI6IHNjb3BlLmNoYXRQYWdlIH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB1c2VyUGFnZSgkc3RhdGUpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHNjb3BlOiB7XHJcblx0XHRcdFx0dXNlclBhZ2U6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnVzZXJQYWdlJywgeyB1c2VyOiBzY29wZS51c2VyUGFnZSB9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY2FuY2VsUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRjYW5jZWxSZXZlYWw6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ1JldmVhbCcsXHJcblx0XHRcdFx0XHRcdGJ1dHRvbnM6IFt7XHJcblx0XHRcdFx0XHRcdFx0dGV4dDogJzxpIGNsYXNzPVwiaWNvbiBpb24tc2hhcmVcIj48L2k+IENhbmNlbCBSZXZlYWwgUmVxdWVzdCdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRidXR0b25DbGlja2VkOiBmdW5jdGlvbihpbmRleCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuY2FuY2VsKHNjb3BlLmNhbmNlbFJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoc2NvcGUuYWZ0ZXJDYWxsYmFjaykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRlY2lkZVJldmVhbCgkaW9uaWNBY3Rpb25TaGVldCwgcmV2ZWFsU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVjaWRlUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBBY2NlcHQgUmV2ZWFsIFJlcXVlc3QnXHJcblx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHR0ZXh0OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1zaGFyZVwiPjwvaT4gRGVueSBSZXZlYWwgUmVxdWVzdCdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXZlYWxTZXJ2aWNlLmFjY2VwdChzY29wZS5kZWNpZGVSZXZlYWwpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IDEpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuaWdub3JlKHNjb3BlLmRlY2lkZVJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGRlbGV0ZVJldmVhbCgkaW9uaWNBY3Rpb25TaGVldCwgcmV2ZWFsU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVsZXRlUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBEZWxldGUgUmV2ZWFsICdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldmVhbFNlcnZpY2UuZmluaXNoKHNjb3BlLmRlbGV0ZVJldmVhbCkudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5hZnRlckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoSlNPTi5zdHJpbmdpZnkoZXJyKSk7XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZW5kUmV2ZWFsKCRpb25pY0FjdGlvblNoZWV0LCByZXZlYWxTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJyxcclxuXHRcdFx0XHRzZW5kUmV2ZWFsOiAnQCdcclxuXHRcdFx0fSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHtcclxuXHRcdFx0XHRlbGVtLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0XHRcdCRpb25pY0FjdGlvblNoZWV0LnNob3coe1xyXG5cdFx0XHRcdFx0XHR0aXRsZVRleHQ6ICdSZXZlYWwnLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBTZW5kIFJldmVhbCBSZXF1ZXN0J1xyXG5cdFx0XHRcdFx0XHR9LCBdLFxyXG5cclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGV4dDogJ0NhbmNlbCcsXHJcblx0XHRcdFx0XHRcdGNhbmNlbDogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXZlYWxTZXJ2aWNlLmluaXRpYXRlKHNjb3BlLnNlbmRSZXZlYWwpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNjb3BlLmFmdGVyQ2FsbGJhY2spIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY3JlYXRlQmxvY2soJGlvbmljQWN0aW9uU2hlZXQsIGJsb2NrU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRjcmVhdGVCbG9jazogJ0AnLFxyXG5cdFx0XHRcdGFmdGVyQ2FsbGJhY2s6ICcmJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0Jsb2NrIFVzZXInLFxyXG5cdFx0XHRcdFx0XHRidXR0b25zOiBbe1xyXG5cdFx0XHRcdFx0XHRcdHRleHQ6ICc8aSBjbGFzcz1cImljb24gaW9uLXNoYXJlXCI+PC9pPiBCbG9jaydcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsaWNrZWQ6IGZ1bmN0aW9uKGluZGV4KSB7XHJcblx0XHRcdFx0XHRcdFx0YmxvY2tTZXJ2aWNlLmNyZWF0ZShzY29wZS5jcmVhdGVCbG9jaykudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJ1c2VyIGJsb2NrZWRcIik7XHJcblx0XHRcdFx0XHRcdFx0XHRpZihzY29wZS5hZnRlckNhbGxiYWNrKXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZGVsZXRlQmxvY2soJGlvbmljQWN0aW9uU2hlZXQsIGJsb2NrU2VydmljZSkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdBJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRhZnRlckNhbGxiYWNrOiAnJicsXHJcblx0XHRcdFx0ZGVsZXRlQmxvY2s6ICdAJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSkge1xyXG5cdFx0XHRcdGVsZW0uYmluZCgnY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdFx0JGlvbmljQWN0aW9uU2hlZXQuc2hvdyh7XHJcblx0XHRcdFx0XHRcdHRpdGxlVGV4dDogJ0Jsb2NrJyxcclxuXHRcdFx0XHRcdFx0YnV0dG9uczogW3tcclxuXHRcdFx0XHRcdFx0XHR0ZXh0OiAnPGkgY2xhc3M9XCJpY29uIGlvbi1zaGFyZVwiPjwvaT4gVW5ibG9jayBVc2VyICdcclxuXHRcdFx0XHRcdFx0fSwgXSxcclxuXHJcblx0XHRcdFx0XHRcdGNhbmNlbFRleHQ6ICdDYW5jZWwnLFxyXG5cdFx0XHRcdFx0XHRjYW5jZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCdDQU5DRUxMRUQnKTtcclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xpY2tlZDogZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGJsb2NrU2VydmljZS5yZW1vdmUoc2NvcGUuZGVsZXRlQmxvY2spLnRoZW4oZnVuY3Rpb24ocmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChzY29wZS5hZnRlckNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2NvcGUuYWZ0ZXJDYWxsYmFjaygpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmFsZXJ0KEpTT04uc3RyaW5naWZ5KGVycikpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvKlxyXG5cdCAqU2VydmljZSBmb3IgZ2V0dGluZyBhIHNpbmdsZSBzdG9yZSB3aXRoIGl0cyBpZFxyXG5cdCAqL1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wZW9wbGUnKVxyXG5cdFx0LnNlcnZpY2UoJ3Blb3BsZVNlcnZpY2UnLCBbXCIkaHR0cFwiLCBcImhvbWVTZXJ2aWNlXCIsICd1c2VyTG9jYXRpb25TZXJ2aWNlJywgJyRxJywgUGVvcGxlU2VydmljZV0pO1xyXG5cclxuXHRcclxuXHRmdW5jdGlvbiBQZW9wbGVTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSwgdXNlckxvY2F0aW9uU2VydmljZSwgJHEpIHtcclxuXHJcblx0XHR0aGlzLmdldEFsbFVzZXJzID0gZ2V0QWxsVXNlcnM7XHJcblx0XHR0aGlzLmdldFJldmVhbGVkVXNlcnMgPSBnZXRSZXZlYWxlZFVzZXJzO1xyXG5cdFx0dGhpcy5nZXROZWFyYnlVc2VycyA9IGdldE5lYXJieVVzZXJzO1xyXG5cdFx0dGhpcy5nZXRSZXF1ZXN0ZWRVc2VycyA9IGdldFJlcXVlc3RlZFVzZXJzO1xyXG5cdFx0dGhpcy5nZXRSZWNlaXZlZFVzZXJzID0gZ2V0UmVjZWl2ZWRVc2VycztcclxuXHRcdHRoaXMuZ2V0TmVhcmJ5VXNlcnMgPSBnZXROZWFyYnlVc2VycztcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLmFsbCA9IHRydWU7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmV2ZWFsZWQgPSB0cnVlO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInVzZXIvZ2V0VXNlcnNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZWRVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnJlY2VpdmVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJlcXVlc3RlZFVzZXJzKHBhcmFtcykge1xyXG5cdFx0XHRwYXJhbXMucmVxdWVzdGVkID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgXCJ1c2VyL2dldFVzZXJzXCIsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0RmlsdGVyZWRVc2VycyhkZWZlcixwYXJhbXMpe1xyXG5cdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24odXNlcnMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUodXNlcnMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlVc2VycyhwYXJhbXMpIHtcclxuXHRcdFx0aWYgKHBhcmFtcy5wYWdlID09IDEpIHtcclxuXHRcdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLnNldFVzZXJMb2NhdGlvbigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHBhcmFtcy5uZWFyYnkgPSB0cnVlO1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHRcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cGFyYW1zLmxhdGl0dWRlID0gcG9zaXRpb24ubGF0aXR1ZGU7XHJcblx0XHRcdFx0cGFyYW1zLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHRcdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwidXNlci9nZXRVc2Vyc1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24odXNlcnMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUodXNlcnMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdGdldEZpbHRlcmVkVXNlcnMoZGVmZXIscGFyYW1zKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpLlxyXG5cdHNlcnZpY2UoJ3Vwdm90ZVNlcnZpY2UnLCBbJyRodHRwJywgJ2hvbWVTZXJ2aWNlJywgIFVwdm90ZVNlcnZpY2VdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIFVwdm90ZVNlcnZpY2UoJGh0dHAsIGhvbWVTZXJ2aWNlKSB7XHJcblx0XHRcclxuXHRcdHRoaXMuY3JlYXRlVXB2b3RlID0gY3JlYXRlVXB2b3RlO1xyXG5cdFx0dGhpcy5kZWxldGVVcHZvdGUgPSBkZWxldGVVcHZvdGU7XHJcblx0XHR0aGlzLmdldFVwdm90ZSA9IGdldFVwdm90ZTtcclxuXHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXB2b3RlKHBvc3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXB2b3RlL2dldC8nK3Bvc3RJZCk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVVwdm90ZShwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1cHZvdGUvY3JlYXRlLycrcG9zdElkKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVVcHZvdGUocG9zdElkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAndXB2b3RlL2RlbGV0ZS8nICsgcG9zdElkKTtcclxuXHRcdH1cclxuXHJcblx0XHRcclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0Y29udHJvbGxlcignVXNlckVkaXRQYWdlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdob21lU2VydmljZScsICd1c2VyRGF0YScsICd1c2VyU2VydmljZScsICdVcGxvYWQnLCAnJGlvbmljTG9hZGluZycsIFVzZXJFZGl0UGFnZUNvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gVXNlckVkaXRQYWdlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgaG9tZVNlcnZpY2UsIHVzZXJEYXRhLCB1c2VyU2VydmljZSwgVXBsb2FkLCAkaW9uaWNMb2FkaW5nKSB7XHJcblxyXG5cdFx0dmFyIHVtcGMgPSB0aGlzO1xyXG5cclxuXHRcdHVtcGMuYWN0aXZhdGUgPSBhY3RpdmF0ZTtcclxuXHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXIoKSB7XHJcblx0XHRcdHVtcGMudXNlciA9IHVzZXJEYXRhLmdldFVzZXIoKTtcclxuXHRcdFx0JHNjb3BlLmVkaXRGb3JtLnVzZXIgPSB1bXBjLnVzZXI7XHJcblx0XHRcdCRzY29wZS5lZGl0Rm9ybS51c2VyLmdlbmRlciA9IHVtcGMudXNlci5nZW5kZXIgfHwgJ090aGVyJztcclxuXHRcdFx0aWYgKHVtcGMudXNlci5pbnRlcmVzdHMubGVuZ3RoKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXRGb3JtLnVzZXIuaW50ZXJlc3RzID0gJyMnICsgdW1wYy51c2VyLmludGVyZXN0cy5qb2luKCcjJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdCRzY29wZS5lZGl0Rm9ybSA9IHt9O1xyXG5cdFx0XHRnZXRVc2VyKCk7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cclxuXHRcdCRzY29wZS5lZGl0Rm9ybS5zdWJtaXRVc2VyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdCRpb25pY0xvYWRpbmcuc2hvdygpO1xyXG5cdFx0XHRcclxuXHRcdFx0dXNlclNlcnZpY2UudXBkYXRlVXNlcigkc2NvcGUuZWRpdEZvcm0udXNlcikudGhlbihmdW5jdGlvbihyZXMpIHtcclxuXHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJ1cGRhdGVkIHVzZXJcIik7XHJcblx0XHRcdFx0JHN0YXRlLmdvKCdob21lLnVzZXIudXNlck1lUGFnZScpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0dXNlckRhdGEuc2V0VXNlcigpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHQkc2NvcGUuZWRpdEZvcm0udXBsb2FkVXNlclBpY3R1cmUgPSBmdW5jdGlvbihmaWxlLCBlcnJGaWxlcykge1xyXG5cdFx0XHQkc2NvcGUubG9hZGluZ0ltYWdlID0gdHJ1ZTtcclxuXHRcdFx0dW1wYy5maWxlID0gZmlsZTtcclxuXHRcdFx0dW1wYy5lcnJGaWxlID0gZXJyRmlsZXMgJiYgZXJyRmlsZXNbMF07XHJcblx0XHRcdGlmIChmaWxlKSB7XHJcblx0XHRcdFx0dW1wYy5maWxlLnVwbG9hZCA9IFVwbG9hZC51cGxvYWQoe1xyXG5cdFx0XHRcdFx0dXJsOiBob21lU2VydmljZS5iYXNlVVJMICsgJ3VwbG9hZC9zaW5nbGVVcGxvYWQnLFxyXG5cdFx0XHRcdFx0ZGF0YTogeyBmaWxlOiB1bXBjLmZpbGUgfVxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHR1bXBjLmZpbGUudXBsb2FkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHVtcGMuZmlsZS5yZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVkaXRGb3JtLnVzZXIucGljdHVyZSA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0XHQkc2NvcGUubG9hZGluZ0ltYWdlID0gZmFsc2U7XHJcblxyXG5cclxuXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdGNvbnRyb2xsZXIoJ1VzZXJNZVBhZ2VDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRhdXRoJywndXNlckRhdGEnLCAncGVvcGxlU2VydmljZScsJ3Bvc3RTZXJ2aWNlJywnJHdpbmRvdycsICckaW9uaWNMb2FkaW5nJyxVc2VyTWVQYWdlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBVc2VyTWVQYWdlQ29udHJvbGxlcigkc2NvcGUsICRzdGF0ZSwgJGF1dGgsdXNlckRhdGEsIHBlb3BsZVNlcnZpY2UscG9zdFNlcnZpY2UsJHdpbmRvdywkaW9uaWNMb2FkaW5nKSB7XHJcblxyXG5cdFx0dmFyIHVtcGMgPSB0aGlzO1xyXG5cdFx0dW1wYy5sb2dvdXQgPSBsb2dvdXQ7XHJcblx0XHR1bXBjLmFjdGl2YXRlID0gYWN0aXZhdGU7XHJcblx0XHRcclxuXHRcdHVtcGMuYWN0aXZlVGFiID0gMTtcclxuXHRcdHVtcGMuYWN0aXZhdGVUYWIgPSBhY3RpdmF0ZVRhYjtcclxuXHRcdHVtcGMuaXNUYWJBY3RpdmUgPSBpc1RhYkFjdGl2ZTtcclxuXHJcblx0XHR1bXBjLnN1YkFjdGl2ZVRhYiA9IDE7XHJcblx0XHR1bXBjLnN1YkFjdGl2YXRlVGFiID0gc3ViQWN0aXZhdGVUYWI7XHJcblx0XHR1bXBjLmlzU3ViVGFiQWN0aXZlID0gaXNTdWJUYWJBY3RpdmU7XHJcblxyXG5cclxuXHJcblx0XHR1bXBjLm9wZW5GYWNlYm9vayA9IG9wZW5GYWNlYm9vaztcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRmdW5jdGlvbiBvcGVuRmFjZWJvb2soaWQpe1xyXG5cdFx0XHQkd2luZG93Lm9wZW4oJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8nK2lkLCAnX3N5c3RlbScpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0VXNlcigpIHtcclxuXHRcdFx0dXNlckRhdGEuc2V0VXNlcigpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dW1wYy51c2VyID0gdXNlckRhdGEuZ2V0VXNlcigpO1xyXG5cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHR3aW5kb3cuY29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyUG9zdHMoKXtcclxuXHRcdFx0dW1wYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRsaW1pdDogMTAwLFxyXG5cdFx0XHRcdHVzZXI6IHVzZXJEYXRhLmdldFVzZXIoKS5faWRcclxuXHRcdFx0fTtcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0TGF0ZXN0UG9zdHModW1wYy5wYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHR1bXBjLnBvc3RzTGlzdCA9IHJlcy5kYXRhLmRvY3M7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGVUYWIodGFiSW5kZXgpe1xyXG5cdFx0XHR1bXBjLmFjdGl2ZVRhYiA9IHRhYkluZGV4O1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gaXNUYWJBY3RpdmUodGFiSW5kZXgpe1xyXG5cdFx0XHRyZXR1cm4gdGFiSW5kZXggPT09IHVtcGMuYWN0aXZlVGFiO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gc3ViQWN0aXZhdGVUYWIoc3ViVGFiSW5kZXgpe1xyXG5cdFx0XHR1bXBjLnN1YkFjdGl2ZVRhYiA9IHN1YlRhYkluZGV4O1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gaXNTdWJUYWJBY3RpdmUoc3ViVGFiSW5kZXgpe1xyXG5cdFx0XHRyZXR1cm4gc3ViVGFiSW5kZXggPT09IHVtcGMuc3ViQWN0aXZlVGFiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvZ291dCgpIHtcclxuXHRcdFx0JGF1dGgubG9nb3V0KCk7XHJcblx0XHRcdCRzdGF0ZS5nbygnYXV0aGVudGljYXRlJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGdldFVzZXIoKTtcclxuXHRcdFx0Z2V0UmVxdWVzdGVkTGlzdCgpO1xyXG5cdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRnZXRVc2VyUG9zdHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZXF1ZXN0ZWRMaXN0KCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlcXVlc3RlZFVzZXJzKHsgcGFnZTogMSwgbGltaXQ6IDI1IH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHR1bXBjLnBlb3BsZUxpc3QgPSByZXNwb25zZS5kYXRhLmRvY3M7XHJcblx0XHRcdFx0dW1wYy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVjZWl2ZWRMaXN0KCkge1xyXG5cdFx0XHRwZW9wbGVTZXJ2aWNlLmdldFJlY2VpdmVkVXNlcnMoeyBwYWdlOiAxLCBsaW1pdDogMjUgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHVtcGMucGVvcGxlTGlzdCA9IHJlc3BvbnNlLmRhdGEuZG9jcztcclxuXHRcdFx0XHR1bXBjLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRSZXZlYWxlZExpc3QoKSB7XHJcblx0XHRcdHBlb3BsZVNlcnZpY2UuZ2V0UmV2ZWFsZWRVc2Vycyh7IHBhZ2U6IDEsIGxpbWl0OiAyNSB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0dW1wYy5wZW9wbGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5kb2NzO1xyXG5cdFx0XHRcdHVtcGMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdGNvbnRyb2xsZXIoJ1VzZXJQYWdlQ29udHJvbGxlcicsIFsnJHN0YXRlJywgJyRhdXRoJywgJ3VzZXJTZXJ2aWNlJywgJ3JldmVhbFNlcnZpY2UnLCckc3RhdGVQYXJhbXMnLCAnZnJpZW5kcycsJ3Bvc3RTZXJ2aWNlJywnJHdpbmRvdycsJyRpb25pY0xvYWRpbmcnLFVzZXJQYWdlQ29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBVc2VyUGFnZUNvbnRyb2xsZXIoJHN0YXRlLCAkYXV0aCwgdXNlclNlcnZpY2UsIHJldmVhbFNlcnZpY2UsJHN0YXRlUGFyYW1zLGZyaWVuZHMscG9zdFNlcnZpY2UsJHdpbmRvdywkaW9uaWNMb2FkaW5nKSB7XHJcblxyXG5cdFx0dmFyIHVwYyA9IHRoaXM7XHJcblx0XHR1cGMuY2hlY2tSZXZlYWwgPSBjaGVja1JldmVhbDtcclxuXHRcdHVwYy5nb0JhY2sgPSBnb0JhY2s7XHJcblx0XHR1cGMuYWN0aXZhdGVUYWIgPSBhY3RpdmF0ZVRhYjtcclxuXHRcdHVwYy5pc1RhYkFjdGl2ZSA9IGlzVGFiQWN0aXZlO1xyXG5cdFx0dXBjLm9wZW5GYWNlYm9vayA9IG9wZW5GYWNlYm9vaztcclxuXHRcdHVwYy5vcGVuR29vZ2xlID0gb3Blbkdvb2dsZTtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIG9wZW5GYWNlYm9vayhpZCl7XHJcblx0XHRcdCR3aW5kb3cub3BlbignaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tLycraWQsICdfc3lzdGVtJyk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBvcGVuR29vZ2xlKGlkKXtcclxuXHRcdFx0JHdpbmRvdy5vcGVuKCdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS8nK2lkLCAnX3N5c3RlbScpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGdldFVzZXIoKTtcclxuXHRcdFx0dXBjLnJldmVhbENob2ljZSA9IGZyaWVuZHM7XHJcblx0XHRcdHVwYy5hY3RpdmVUYWIgPSAxO1xyXG5cdFx0XHRnZXRVc2VyUG9zdHMoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJQb3N0cygpe1xyXG5cdFx0XHR1cGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdHBhZ2U6IDEsXHJcblx0XHRcdFx0bGltaXQ6IDEwMCxcclxuXHRcdFx0XHR1c2VyOiAkc3RhdGVQYXJhbXMudXNlclxyXG5cdFx0XHR9O1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRMYXRlc3RQb3N0cyh1cGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0dXBjLnBvc3RzTGlzdCA9IHJlcy5kYXRhLmRvY3M7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGVUYWIodGFiSW5kZXgpe1xyXG5cdFx0XHR1cGMuYWN0aXZlVGFiID0gdGFiSW5kZXg7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBpc1RhYkFjdGl2ZSh0YWJJbmRleCl7XHJcblx0XHRcdHJldHVybiB0YWJJbmRleCA9PT0gdXBjLmFjdGl2ZVRhYjtcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gY2hlY2tSZXZlYWwoKXtcclxuXHRcdFx0cmV2ZWFsU2VydmljZS5jaGVjaygkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdHVwYy5yZXZlYWxDaG9pY2UgPSByZXMuZGF0YS5zdGF0dXM7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ29CYWNrKCl7XHJcblx0XHRcdCR3aW5kb3cuaGlzdG9yeS5iYWNrKCk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRVc2VyKCkge1xyXG5cclxuXHRcdFx0dXNlclNlcnZpY2UuZ2V0VXNlcigkc3RhdGVQYXJhbXMudXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdHVwYy51c2VyID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJykuXHJcblx0Y29udHJvbGxlcignVXNlclBhZ2VQb3N0c0NvbnRyb2xsZXInLCBbJyRzdGF0ZScsICAnJHN0YXRlUGFyYW1zJywgJ2ZyaWVuZHMnLFVzZXJQYWdlUG9zdHNDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJQYWdlUG9zdHNDb250cm9sbGVyKCRzdGF0ZSwgICRzdGF0ZVBhcmFtcyxmcmllbmRzKSB7XHJcblx0XHRhbGVydChmcmllbmRzKTtcclxuXHJcblxyXG5cdFx0XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKS5cclxuXHRcdGNvbnRyb2xsZXIoJ1VzZXJQYXJlbnRDb250cm9sbGVyJyxbVXNlclBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0XHRmdW5jdGlvbiBVc2VyUGFyZW50Q29udHJvbGxlcigpe1xyXG5cdFx0XHRcclxuXHRcdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKVxyXG5cdFx0LmRpcmVjdGl2ZSgnYmxvY2tlZExpc3QnLFsnYmxvY2tTZXJ2aWNlJyxibG9ja2VkTGlzdF0pO1xyXG5cclxuXHRmdW5jdGlvbiBibG9ja2VkTGlzdChibG9ja1NlcnZpY2Upe1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvdXNlci92aWV3cy9ibG9ja2VkTGlzdC5odG1sJyxcclxuXHRcdFx0bGluazogZnVuY3Rpb24oc2NvcGUpe1xyXG5cdFx0XHRcdHNjb3BlLmFmdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbihpbmRleCl7XHJcblx0XHRcdFx0XHRzY29wZS5wZW9wbGVMaXN0LnNwbGljZShpbmRleCwxKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGJsb2NrU2VydmljZS5nZXRCbG9ja3MoKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuXHRcdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcblx0XHRcdFx0XHRzY29wZS5wZW9wbGVMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdHNlcnZpY2UoJ2Jsb2NrU2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLEJsb2NrU2VydmljZV0pO1xyXG5cclxuXHJcblx0ZnVuY3Rpb24gQmxvY2tTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSkge1xyXG5cdFx0dGhpcy5jcmVhdGUgPSBjcmVhdGU7XHJcblx0XHR0aGlzLnJlbW92ZSA9IHJlbW92ZTtcclxuXHRcdHRoaXMuZ2V0QmxvY2tzID0gZ2V0QmxvY2tzO1xyXG5cdFx0dGhpcy5jaGVjayA9IGNoZWNrO1xyXG5cdFx0XHJcblx0XHRmdW5jdGlvbiBjcmVhdGUoaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdibG9jay9jcmVhdGUnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdibG9jay9kZWxldGUnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gY2hlY2soaWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2dldC8nK2lkKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldEJsb2NrcygpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ2Jsb2NrL2dldEJsb2Nrcy8nKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwudXNlcicpLlxyXG5cdHNlcnZpY2UoJ3JldmVhbFNlcnZpY2UnLCBbJyRodHRwJywgJ2hvbWVTZXJ2aWNlJyxSZXZlYWxTZXJ2aWNlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBSZXZlYWxTZXJ2aWNlKCRodHRwLCBob21lU2VydmljZSkge1xyXG5cdFx0dGhpcy5pbml0aWF0ZSA9IGluaXRpYXRlO1xyXG5cdFx0dGhpcy5hY2NlcHQgPSBhY2NlcHQ7XHJcblx0XHR0aGlzLmlnbm9yZSA9IGlnbm9yZTtcclxuXHRcdHRoaXMuY2FuY2VsID0gY2FuY2VsO1xyXG5cdFx0dGhpcy5yZWNlaXZlZCA9IHJlY2VpdmVkO1xyXG5cdFx0dGhpcy5yZXF1ZXN0ZWQgPSByZXF1ZXN0ZWQ7XHJcblx0XHR0aGlzLnJldmVhbGVkID0gcmV2ZWFsZWQ7XHJcblx0XHR0aGlzLmZpbmlzaCA9IGZpbmlzaDtcclxuXHRcdHRoaXMuY2hlY2sgPSBjaGVjaztcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQYXJhbXMoaWQpe1xyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdCdzZWNvbmRVc2VyJzogaWRcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGluaXRpYXRlKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2luaXRpYXRlJywgeyBzZWNvbmRVc2VyOiBpZCB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhY2NlcHQoaWQpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2FjY2VwdCcsIHsgc2Vjb25kVXNlcjogaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaWdub3JlKGlkKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9pZ25vcmUnLCB7IHNlY29uZFVzZXI6IGlkIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhbmNlbChpZCkge1xyXG5cdFx0XHRcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvY2FuY2VsJywgeyBzZWNvbmRVc2VyOiBpZCB9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWNlaXZlZChpZCkge1xyXG5cdFx0XHR2YXIgcGFyYW1zID0gZ2V0UGFyYW1zKGlkKTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9yZWNlaXZlZCcsIHtwYXJhbXM6cGFyYW1zfSk7XHJcblx0XHRcdFx0XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVxdWVzdGVkKGlkKSB7XHJcblx0XHRcdHZhciBwYXJhbXMgPSBnZXRQYXJhbXMoaWQpO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL3JlcXVlc3RlZCcsIHtwYXJhbXM6cGFyYW1zfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmV2ZWFsZWQoaWQpIHtcclxuXHRcdFx0dmFyIHBhcmFtcyA9IGdldFBhcmFtcyhpZCk7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdyZXZlYWwvcmV2ZWFsZWQnLCB7cGFyYW1zOnBhcmFtc30pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZmluaXNoKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncmV2ZWFsL2ZpbmlzaCcsIHtzZWNvbmRVc2VyOiBpZH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gY2hlY2soaWQpe1xyXG5cdFx0XHR2YXIgcGFyYW1zID0gZ2V0UGFyYW1zKGlkKTtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3JldmVhbC9jaGVjaycsIHtwYXJhbXM6cGFyYW1zfSk7XHRcclxuXHRcdH1cclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC51c2VyJylcclxuXHRcdC5zZXJ2aWNlKCd1c2VyTG9jYXRpb25TZXJ2aWNlJywgWyckY29yZG92YUdlb2xvY2F0aW9uJywgJ3VzZXJTZXJ2aWNlJywgJyRxJywgJyRodHRwJywgJ3RvYXN0cicsIFVzZXJMb2NhdGlvblNlcnZpY2VdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIFVzZXJMb2NhdGlvblNlcnZpY2UoJGNvcmRvdmFHZW9sb2NhdGlvbiwgdXNlclNlcnZpY2UsICRxLCAkaHR0cCwgdG9hc3RyKSB7XHJcblx0XHR0aGlzLmdldFVzZXJMb2NhdGlvbiA9IGdldFVzZXJMb2NhdGlvbjtcclxuXHRcdHRoaXMuc2V0VXNlckxvY2F0aW9uID0gc2V0VXNlckxvY2F0aW9uO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFVzZXJMb2NhdGlvbigpIHtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdHZhciBvcHRpb25zID0geyB0aW1lb3V0OiAzMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlIH07XHJcblxyXG5cdFx0XHQkY29yZG92YUdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihvcHRpb25zKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9ucyA9IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH07XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShwb3NpdGlvbnMpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkaHR0cC5wb3N0KCdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9nZW9sb2NhdGlvbi92MS9nZW9sb2NhdGU/a2V5PUFJemFTeUE1YnF2Q3Axd1lYN0ZHS2lEeWQzdzBEenZKWm9Qd1FyUScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZhciBjb29yZHMgPSB7XHJcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiByZXNwb25zZS5kYXRhLmxvY2F0aW9uLmxhdCxcclxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiByZXNwb25zZS5kYXRhLmxvY2F0aW9uLmxuZ1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoY29vcmRzKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhcImVycm9yIGZyb20gZ29vZ2xlXCIpO1xyXG5cdFx0XHRcdFx0d2luZG93LmNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoJ05vdCBhYmxlIHRvIGFjY2VzIHlvdXIgbG9jYXRpb24uTWFrZSBzdXJlIGxvY2F0aW9uIGlzIGVuYWJsZWQuJyk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2V0VXNlckxvY2F0aW9uKCkge1xyXG5cdFx0XHR2YXIgb3B0aW9ucyA9IHsgdGltZW91dDogMzAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiBmYWxzZSB9O1xyXG5cdFx0XHQkY29yZG92YUdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihvcHRpb25zKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9ucyA9IHsgbGF0aXR1ZGU6IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlIH07XHJcblx0XHRcdFx0dXNlclNlcnZpY2UudXBkYXRlVXNlcihwb3NpdGlvbnMpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHQkaHR0cC5wb3N0KCdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9nZW9sb2NhdGlvbi92MS9nZW9sb2NhdGU/a2V5PUFJemFTeUE1YnF2Q3Axd1lYN0ZHS2lEeWQzdzBEenZKWm9Qd1FyUScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHZhciBjb29yZHMgPSB7XHJcblx0XHRcdFx0XHRcdGxhdGl0dWRlOiByZXNwb25zZS5kYXRhLmxvY2F0aW9uLmxhdCxcclxuXHRcdFx0XHRcdFx0bG9uZ2l0dWRlOiByZXNwb25zZS5kYXRhLmxvY2F0aW9uLmxuZ1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdHVzZXJTZXJ2aWNlLnVwZGF0ZVVzZXIoY29vcmRzKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aWYgKGVyci5jb2RlID09IDMpIHtcclxuXHRcdFx0XHRcdFx0XHR0b2FzdHIud2FybmluZygnTm90IGFibGUgdG8gYWNjZXMgeW91ciBsb2NhdGlvbi5NYWtlIHN1cmUgbG9jYXRpb24gaXMgZW5hYmxlZC4nLCAnV2FybmluZycsIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRtYXhPcGVuZWQ6IDEsXHJcblx0XHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGVyci5jb2RlID09IDIgfHwgZXJyLmNvZGUgPT0gMSkge1xyXG5cdFx0XHRcdFx0XHRcdHRvYXN0ci53YXJuaW5nKCdOb3QgYWJsZSB0byBhY2NlcyB5b3VyIGxvY2F0aW9uLk1ha2Ugc3VyZSBsb2NhdGlvbiBpcyBlbmFibGVkLicsICdXYXJuaW5nJywge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdG1heE9wZW5lZDogMSxcclxuXHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblxyXG5cclxuXHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG4gIC8qXHJcbiAgICpTZXJ2aWNlIGZvciBnZXR0aW5nIGEgc2luZ2xlIHN0b3JlIHdpdGggaXRzIGlkXHJcbiAgICovXHJcbiAgYW5ndWxhci5tb2R1bGUoJ3BldGFsLnVzZXInKVxyXG4gICAgLnNlcnZpY2UoJ3VzZXJTZXJ2aWNlJywgW1wiJGh0dHBcIiwgXCJob21lU2VydmljZVwiLCBVc2VyU2VydmljZV0pO1xyXG5cclxuICAvKlxyXG4gICAqIFRoaXMgc2VydmljIGhhcyBhIGZ1bmN0aW9uIG5hbWVzIGdldFN0b3JlIHdoaWNoIHRha2VzIGlkIGFzIHBhcmFtZXRlciBhbmQgcmV0dXJucyBhIHByb21pc2VcclxuICAgKi9cclxuICBmdW5jdGlvbiBVc2VyU2VydmljZSgkaHR0cCwgaG9tZVNlcnZpY2UpIHtcclxuICAgIHRoaXMudXBkYXRlVXNlciA9IHVwZGF0ZVVzZXI7XHJcbiAgICBcclxuICAgIHRoaXMuZ2V0VXNlciA9IGdldFVzZXI7XHJcbiAgICBcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VXNlcihpZCkge1xyXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInVzZXIvZ2V0L1wiICsgaWQpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVVc2VyKHVzZXIpIHtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICd1c2VyL3VwZGF0ZS8nLCB7IHVzZXI6IHVzZXIgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcblxyXG4gIH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHR2YXIgcG9zdE1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0Jyk7XHJcblx0cG9zdE1vZHVsZS5kaXJlY3RpdmUoJ3Bvc3RTZWFyY2hNb2RhbCcsIFsnJHJvb3RTY29wZScsJyRpb25pY01vZGFsJywgJ3Bvc3RTZXJ2aWNlJyxwb3N0U2VhcmNoTW9kYWxdKTtcclxuXHJcblx0ZnVuY3Rpb24gcG9zdFNlYXJjaE1vZGFsKCRyb290U2NvcGUsJGlvbmljTW9kYWwsIHBvc3RTZXJ2aWNlKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRyZXN0cmljdDogJ0EnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHBvc3RTZWFyY2hNb2RhbDogJ0AnXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEgPSB7fTtcclxuXHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5wb3N0U2VhcmNoTW9kYWwgPSBzY29wZS5wb3N0U2VhcmNoTW9kYWw7XHJcblx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEucG9zdHNMaXN0ID0gW107XHJcblx0XHRcdFx0c2NvcGUubW9kYWxzTGlzdCA9IFtdO1xyXG5cdFx0XHRcdHNjb3BlLmNsaWNrUG9zdFNlYXJjaCA9IGNsaWNrUG9zdFNlYXJjaDtcclxuXHRcdFx0XHRzY29wZS5zaG93UG9zdE1vZGFsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRsb2FkUG9zdE1vZGFsKCkudGhlbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwuc2hvdygpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0c2NvcGUuJG9uKCdtb2RhbC5oaWRkZW4nLCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmKHNjb3BlLm1vZGFsKXtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHRcclxuXHRcdFx0XHRcdH1cclxuICAgXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHNjb3BlLmdldFBvc3RzID0gZnVuY3Rpb24ocGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RzKHBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5ub1Bvc3RzID0gIXJlc3BvbnNlLmRhdGEudG90YWw7XHJcblx0XHRcdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IHNjb3BlLnBvc3RTZWFyY2hEYXRhLnBvc3RzTGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0U2VhcmNoRGF0YS5jYW5Mb2FkTW9yZVJlc3VsdHMgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHNjb3BlLnBvc3RTZWFyY2hEYXRhLmNhbkxvYWRNb3JlUmVzdWx0cyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGNsaWNrUG9zdFNlYXJjaCgpe1xyXG5cdFx0XHRcdFx0c2NvcGUucG9zdFNlYXJjaERhdGEucG9zdHNMaXN0ID0gW107XHJcblx0XHRcdFx0XHR2YXIgcGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0XHRpbnRlcmVzdDogc2NvcGUucG9zdFNlYXJjaERhdGEucG9zdFNlYXJjaE1vZGFsICxcclxuXHRcdFx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDUwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0c2NvcGUuZ2V0UG9zdHMocGFyYW1zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZnVuY3Rpb24gbG9hZFBvc3RNb2RhbCgpIHtcclxuXHRcdFx0XHRcdHJldHVybiAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ2FwcC9wb3N0L3ZpZXdzL3Bvc3RTZWFyY2hNb2RhbC5odG1sJywge1xyXG5cdFx0XHRcdFx0XHRzY29wZTogc2NvcGVcclxuXHRcdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwgPSBtb2RhbDtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxlbS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdFx0XHR2YXIgcGFyYW1zID0ge1xyXG5cdFx0XHRcdFx0XHRpbnRlcmVzdDogc2NvcGUucG9zdFNlYXJjaERhdGEucG9zdFNlYXJjaE1vZGFsICxcclxuXHRcdFx0XHRcdFx0cGFnZTogMSxcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDUwXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0c2NvcGUuc2hvd1Bvc3RNb2RhbCgpO1xyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0XHRzY29wZS5nZXRQb3N0cyhwYXJhbXMpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHR9XHJcblxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5kaXJlY3RpdmUoJ3Bvc3RzTGlzdCcsIFsnJHJvb3RTY29wZScsJyRzdGF0ZScsICd1c2VyRGF0YScsICdwb3N0U2VydmljZScsICd1cHZvdGVTZXJ2aWNlJywgJyRpb25pY01vZGFsJyxwb3N0c0xpc3RdKTtcclxuXHJcblxyXG5cdGZ1bmN0aW9uIHBvc3RzTGlzdCggJHJvb3RTY29wZSwkc3RhdGUsIHVzZXJEYXRhLCBwb3N0U2VydmljZSwgdXB2b3RlU2VydmljZSwkaW9uaWNNb2RhbCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcclxuXHRcdFx0dGVtcGxhdGVVcmw6ICdhcHAvcG9zdC92aWV3cy9wb3N0c0xpc3RUZW1wbGF0ZS5odG1sJyxcclxuXHRcdFx0c2NvcGU6IHtcclxuXHRcdFx0XHRwb3N0c0xpc3Q6ICc9cG9zdHNMaXN0JyxcclxuXHRcdFx0XHRwb3N0U2VhcmNoVGV4dFN1Ym1pdDogJyZwb3N0U2VhcmNoVGV4dFN1Ym1pdCdcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0Ly9jb250cm9sbGVyOiBbJ3Njb3BlJywgXVxyXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRzY29wZS5nZXRUaW1lID0gZnVuY3Rpb24odGltZSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHRpbWUpLmZyb21Ob3coKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHNjb3BlLmN1cnJlbnRVc2VyID0gdXNlckRhdGEuZ2V0VXNlcigpO1xyXG5cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRzY29wZS51c2VyUGFnZSA9IHVzZXJQYWdlO1xyXG5cdFx0XHRcdGZ1bmN0aW9uIHVzZXJQYWdlKGlkKXtcclxuXHRcdFx0XHRcdHNjb3BlLm1vZGFsLmhpZGUoKTtcclxuXHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZS51c2VyUGFnZScsIHsgdXNlcjogaWQgfSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZ1bmN0aW9uIGxvYWRQb3N0TW9kYWwoKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCdhcHAvcG9zdC92aWV3cy9wb3N0TW9kYWwuaHRtbCcsIHtcclxuXHRcdFx0XHRcdFx0c2NvcGU6IHNjb3BlXHJcblx0XHRcdFx0XHR9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsID0gbW9kYWw7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsID0ge307XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLnVzZXJQYWdlID0gdXNlclBhZ2U7XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLmN1cnJlbnRVc2VyID0gc2NvcGUuY3VycmVudFVzZXI7XHJcblx0XHRcdFx0c2NvcGUucG9zdE1vZGFsLmRlbGV0ZVBvc3QgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0aWYoc2NvcGUucG9zdE1vZGFsLnBvc3QudXNlci5faWQhPT1zY29wZS5jdXJyZW50VXNlci5faWQpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNle1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cG9zdFNlcnZpY2UuZGVsZXRlUG9zdChzY29wZS5wb3N0TW9kYWwucG9zdC5faWQpLnRoZW4oZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHR2YXIgcG9zdHNMZW5ndGggPSBzY29wZS5wb3N0c0xpc3QubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdHNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJoaXRcIitpKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmKHNjb3BlLnBvc3RzTGlzdFtpXS5faWQ9PXNjb3BlLnBvc3RNb2RhbC5wb3N0Ll9pZCl7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiaGl0IGRlbGV0ZVwiK2kpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRzY29wZS5wb3N0c0xpc3Quc3BsaWNlKGksMSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNjb3BlLm1vZGFsLnJlbW92ZSgpO1x0XHJcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0c2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aWYoc2NvcGUubW9kYWwpe1xyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5yZW1vdmUoKTtcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcbiAgXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmKHNjb3BlLm1vZGFsKXtcclxuXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHRcclxuXHRcdFx0XHRcdH1cclxuICAgXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHNjb3BlLnNob3dQb3N0TW9kYWwgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0TW9kYWwucG9zdCA9IHBvc3Q7XHJcblx0XHRcdFx0XHRzY29wZS5wb3N0TW9kYWwucG9zdC52aWV3cys9MTtcclxuXHRcdFx0XHRcdGxvYWRQb3N0TW9kYWwoKS50aGVuKGZ1bmN0aW9uKCl7XHJcblxyXG5cdFx0XHRcdFx0XHRzY29wZS5tb2RhbC5zaG93KCk7XHRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0c2NvcGUuJG9uKCdtb2RhbC5oaWRkZW4nLCBmdW5jdGlvbigpIHtcclxuICAgIFx0XHRcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRcdFx0c2NvcGUubW9kYWwucmVtb3ZlKCk7XHJcbiAgXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRcclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuZGlyZWN0aXZlKCdwb3N0VXB2b3RlJywgWyckc3RhdGUnLCAndXB2b3RlU2VydmljZScsJyR0aW1lb3V0Jyxwb3N0VXB2b3RlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBwb3N0VXB2b3RlKCAkc3RhdGUsIHVwdm90ZVNlcnZpY2UsJHRpbWVvdXQpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHJlc3RyaWN0OiAnRScsXHJcblx0XHRcdHRlbXBsYXRlVXJsOiAnYXBwL3Bvc3Qvdmlld3MvcG9zdFVwdm90ZVRlbXBsYXRlLmh0bWwnLFxyXG5cdFx0XHRzY29wZToge1xyXG5cdFx0XHRcdHBvc3RJZDogJz1wb3N0SWQnLFxyXG5cdFx0XHRcdHVwdm90ZXNMZW5ndGg6ICc9dXB2b3Rlc0xlbmd0aCdcclxuXHRcdFx0fSxcclxuXHRcdFx0cmVwbGFjZTogdHJ1ZSxcclxuXHRcdFx0bGluazogZnVuY3Rpb24gKHNjb3BlKSB7XHJcblx0XHRcdFx0c2NvcGUuY2hlY2tQb3N0VXB2b3RlID0gY2hlY2tQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdHNjb3BlLnN1Ym1pdFBvc3RVcHZvdGUgPSBzdWJtaXRQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdHNjb3BlLmRlbGV0ZVBvc3RVcHZvdGUgPSBkZWxldGVQb3N0VXB2b3RlO1xyXG5cdFx0XHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUubG9hZGluZ1Vwdm90ZSA9IHRydWU7XHJcblx0XHRcdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcdFx0XHRcdFx0XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gY2hlY2tQb3N0VXB2b3RlKCkge1xyXG5cdFx0XHRcdFx0dXB2b3RlU2VydmljZS5nZXRVcHZvdGUoc2NvcGUucG9zdElkKS50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUucG9zdFVwdm90ZWQgPSByZXMuZGF0YTtcclxuXHRcdFx0XHRcdFx0c2NvcGUubG9hZGluZ1Vwdm90ZSA9IGZhbHNlO1x0XHJcblx0XHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJjaGVjayBlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gc3VibWl0UG9zdFVwdm90ZSgpIHtcclxuXHRcdFx0XHRcdHNjb3BlLnBvc3RVcHZvdGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dXB2b3RlU2VydmljZS5jcmVhdGVVcHZvdGUoc2NvcGUucG9zdElkKS50aGVuKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2NvcGUudXB2b3Rlc0xlbmd0aCs9MTtcdFxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcInN1Ym1pdCBlcnJvclwiKTtcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gZGVsZXRlUG9zdFVwdm90ZSgpIHtcclxuXHRcdFx0XHRcdHNjb3BlLnBvc3RVcHZvdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR1cHZvdGVTZXJ2aWNlLmRlbGV0ZVVwdm90ZShzY29wZS5wb3N0SWQpLnRoZW4oZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRzY29wZS51cHZvdGVzTGVuZ3RoLT0xO1x0XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoZXJyKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0FsbFBvc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsIEFsbFBvc3RDb250cm9sbGVyXSk7XHJcblxyXG5cdGZ1bmN0aW9uIEFsbFBvc3RDb250cm9sbGVyKCRzY29wZSwgJHN0YXRlLCBwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nKSB7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRBbGxQb3N0cyA9IGdldEFsbFBvc3RzO1xyXG5cdFx0YXBjLnB1bGxSZWZyZXNoUG9zdHMgPSBwdWxsUmVmcmVzaFBvc3RzO1xyXG5cdFx0YXBjLmxvYWRNb3JlUG9zdHMgPSBsb2FkTW9yZVBvc3RzO1xyXG5cdFx0YXBjLnBvc3RTZWFyY2hUZXh0U3VibWl0ID0gcG9zdFNlYXJjaFRleHRTdWJtaXQ7XHJcblx0XHRhcGMuc2VhcmNoQ3Jvc3NTdWJtaXQgPSBzZWFyY2hDcm9zc1N1Ym1pdDtcclxuXHRcdGFwYy5wYXJhbXMgPSB7XHJcblx0XHRcdFx0bGltaXQ6IDMsXHJcblx0XHRcdFx0cGFnZTogMVxyXG5cdFx0XHR9O1xyXG5cdFx0YWN0aXZhdGUoKTtcclxuXHRcdFxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQb3N0cygpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzZWFyY2hDcm9zc1N1Ym1pdCgpe1xyXG5cdFx0XHRhcGMucG9zdFNlYXJjaFRleHQgPSAnJztcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IGZhbHNlO1xyXG5cdFx0XHRhY3RpdmF0ZSgpO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gcG9zdFNlYXJjaFRleHRTdWJtaXQoaW50ZXJlc3Qpe1xyXG5cdFx0XHRcclxuXHRcdFx0YXBjLnNob3dTZWFyY2hDcm9zcyA9IHRydWU7XHJcblx0XHRcdGlmKGludGVyZXN0KXtcclxuXHRcdFx0XHRhcGMucG9zdFNlYXJjaFRleHQgPSBpbnRlcmVzdDtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdGlmKGFwYy5wb3N0U2VhcmNoVGV4dCl7XHJcblx0XHRcdFx0YWN0aXZhdGUoKTtcdFxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gbG9hZE1vcmVQb3N0cygpIHtcclxuXHRcdFx0YXBjLnBhcmFtcy5wYWdlICs9IDE7XHJcblx0XHRcdGdldEFsbFBvc3RzKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5ub1Bvc3RzID0gZmFsc2U7XHRcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0QWxsUG9zdHMoYXBjLnBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZS5kYXRhLmRvY3MsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRhcGMucG9zdHNMaXN0LnB1c2godmFsdWUpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGFwYy5ub1Bvc3RzID0hcmVzcG9uc2UuZGF0YS50b3RhbDtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogNSxcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYoYXBjLnBvc3RTZWFyY2hUZXh0KXtcclxuXHRcdFx0XHRhcGMucGFyYW1zLmludGVyZXN0ID0gXHRhcGMucG9zdFNlYXJjaFRleHQ7XHJcblx0XHRcdH1cclxuXHRcdFx0Z2V0QWxsUG9zdHMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0NyZWF0ZVBvc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsICdob21lU2VydmljZScsQ3JlYXRlUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gQ3JlYXRlUG9zdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBvc3RTZXJ2aWNlLCRpb25pY0xvYWRpbmcsaG9tZVNlcnZpY2UpIHtcclxuXHRcdHZhciBjcGMgPSB0aGlzO1xyXG5cdFx0Y3BjLnN1Ym1pdFBvc3QgPSBzdWJtaXRQb3N0O1xyXG5cdFx0Y3BjLnBvc3QgPSB7fTtcclxuXHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0Y3BjLmdvQmFjayA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHdpbmRvdy5oaXN0b3J5LmJhY2soKTtcclxuXHRcdH07XHJcblx0XHQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiBjcGMucG9zdC5jb250ZW50O1xyXG5cdFx0fSwgZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcclxuXHRcdFx0aWYgKG5ld1ZhbCAmJiBuZXdWYWwubGVuZ3RoID4gMzAwKSB7XHJcblx0XHRcdFx0Y3BjLnBvc3QuY29udGVudCA9IG9sZFZhbDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3VibWl0UG9zdCgpIHtcclxuXHRcdFx0JGlvbmljTG9hZGluZy5zaG93KCk7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLnN1Ym1pdFBvc3QoY3BjLnBvc3QpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUucG9zdC5sYXRlc3QnKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJwb3N0IGNvbnRyb2xsZXIgZXJyb3JcIik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpe1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGNwYy5zZWxlY3RSYW5kb21JbWFnZSA9IGZ1bmN0aW9uKGltZyl7XHJcblx0XHRcdGNwYy5wb3N0LmltYWdlID0gaW1nO1xyXG5cdFx0fTtcclxuXHRcdGNwYy5sb2FkUmFuZG9tSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VUZXh0KXtcclxuXHRcdFx0Y3BjLmxvYWRpbmdSYW5kb21JbWFnZSA9IHRydWU7XHJcblx0XHRcdGNwYy5yYW5kb21JbWFnZXMgPSBbXTtcclxuXHRcdFx0aG9tZVNlcnZpY2UuZ2V0SW1hZ2VzKGltYWdlVGV4dCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0Y3BjLnJhbmRvbUltYWdlcyA9IHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdFx0Y3BjLmxvYWRpbmdSYW5kb21JbWFnZSA9IGZhbHNlO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiaW1hZ2VzIGVyclwiKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRjcGMuY2FuY2VsVXBsb2FkID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKGNwYy5wb3N0LmltYWdlSWQpe1xyXG5cdFx0XHRcdGhvbWVTZXJ2aWNlLmRlbGV0ZVVwbG9hZChjcGMucG9zdC5pbWFnZUlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlID0gJyc7XHJcblx0XHRcdFx0XHRjcGMucG9zdC5pbWFnZUlkID0gJyc7XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0Y3BjLnN1Ym1pdFVwbG9hZCA9IGZ1bmN0aW9uKGZpbGUsIGVyckZpbGVzKSB7XHJcblx0XHRcdGlmKGNwYy5wb3N0LmltYWdlSWQpe1xyXG5cdFx0XHRcdGNwYy5jYW5jZWxVcGxvYWQoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjcGMubG9hZGluZ0ltYWdlID0gdHJ1ZTtcclxuXHRcdFx0Y3BjLmZpbGUgPSBmaWxlO1xyXG5cdFx0XHRjcGMuZXJyRmlsZSA9IGVyckZpbGVzICYmIGVyckZpbGVzWzBdO1xyXG5cdFx0XHRpZiAoY3BjLmZpbGUpIHtcclxuXHRcdFx0XHRob21lU2VydmljZS5zdWJtaXRVcGxvYWQoY3BjLmZpbGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlID0gcmVzcG9uc2UuZGF0YS5pbWFnZTtcclxuXHRcdFx0XHRcdGNwYy5wb3N0LmltYWdlSWQgPSByZXNwb25zZS5kYXRhLmltYWdlSWQ7XHJcblx0XHRcdFx0XHRjcGMubG9hZGluZ0ltYWdlID0gZmFsc2U7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7XHJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKVxyXG5cdFx0LmNvbnRyb2xsZXIoJ0xhdGVzdFBvc3RDb250cm9sbGVyJyxbJyRzY29wZScsJyRzdGF0ZScsJ3Bvc3RTZXJ2aWNlJywnJGlvbmljTG9hZGluZycsTGF0ZXN0UG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gTGF0ZXN0UG9zdENvbnRyb2xsZXIoJHNjb3BlLCRzdGF0ZSxwb3N0U2VydmljZSwkaW9uaWNMb2FkaW5nKXtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldExhdGVzdFBvc3RzID0gZ2V0TGF0ZXN0UG9zdHM7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQb3N0cyA9IHB1bGxSZWZyZXNoUG9zdHM7XHJcblx0XHRhcGMubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRMYXRlc3RQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldExhdGVzdFBvc3RzKCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXRMYXRlc3RQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUG9zdHMgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wb3N0c0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSkuZmluYWxseShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLnJlZnJlc2hDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwuaW5maW5pdGVTY3JvbGxDb21wbGV0ZScpO1xyXG5cdFx0XHRcdCRpb25pY0xvYWRpbmcuaGlkZSgpO1xyXG5cdFx0XHR9KTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xyXG5cdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHJcblx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gZmFsc2U7XHJcblx0XHRcdGFwYy5wb3N0c0xpc3QgPSBbXTtcclxuXHRcdFx0YXBjLnBhcmFtcyA9IHtcclxuXHRcdFx0XHRsaW1pdDogMyxcclxuXHRcdFx0XHRwYWdlOiAxXHJcblx0XHRcdH07XHJcblx0XHRcdGdldExhdGVzdFBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignTmVhcmJ5UG9zdENvbnRyb2xsZXInLFsnJHNjb3BlJywnJHN0YXRlJywncG9zdFNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJyxOZWFyYnlQb3N0Q29udHJvbGxlcl0pO1xyXG5cclxuXHRmdW5jdGlvbiBOZWFyYnlQb3N0Q29udHJvbGxlcigkc2NvcGUsJHN0YXRlLHBvc3RTZXJ2aWNlLCRpb25pY0xvYWRpbmcpe1xyXG5cdFx0dmFyIGFwYyA9IHRoaXM7XHJcblx0XHRhcGMuZ2V0TmVhcmJ5UG9zdHMgPSBnZXROZWFyYnlQb3N0cztcclxuXHRcdGFwYy5wdWxsUmVmcmVzaFBvc3RzID0gcHVsbFJlZnJlc2hQb3N0cztcclxuXHRcdGFwYy5sb2FkTW9yZVBvc3RzID0gbG9hZE1vcmVQb3N0cztcclxuXHRcdGFwYy5yZWxlYXNlUmFuZ2UgPSByZWxlYXNlUmFuZ2U7XHJcblx0XHRhcGMuZGlzdGFuY2UgPSAxMDtcclxuXHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcHVsbFJlZnJlc2hQb3N0cygpIHtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiByZWxlYXNlUmFuZ2UoKXtcclxuXHRcdFx0YWN0aXZhdGUoKTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXROZWFyYnlQb3N0cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldE5lYXJieVBvc3RzKCkge1xyXG5cdFx0XHRwb3N0U2VydmljZS5nZXROZWFyYnlQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0YXBjLm5vUG9zdHMgPSFyZXNwb25zZS5kYXRhLnRvdGFsO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGFwYy5pbml0aWFsU2VhcmNoQ29tcGxldGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA+IGFwYy5wb3N0c0xpc3QubGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZXtcclxuXHRcdFx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcdFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0XHRcclxuXHJcblx0XHRcdH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5yZWZyZXNoQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsLmluZmluaXRlU2Nyb2xsQ29tcGxldGUnKTtcclxuXHRcdFx0XHQkaW9uaWNMb2FkaW5nLmhpZGUoKTtcclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAxMCxcclxuXHRcdFx0XHRwYWdlOiAxLFxyXG5cdFx0XHRcdGRpc3RhbmNlOiBhcGMuZGlzdGFuY2VcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0TmVhcmJ5UG9zdHMoKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24oYW5ndWxhcil7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdQb3B1bGFyUG9zdENvbnRyb2xsZXInLFsnJHNjb3BlJywnJHN0YXRlJywncG9zdFNlcnZpY2UnLCckaW9uaWNMb2FkaW5nJyxQb3B1bGFyUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUG9wdWxhclBvc3RDb250cm9sbGVyKCRzY29wZSwkc3RhdGUscG9zdFNlcnZpY2UsJGlvbmljTG9hZGluZyl7XHJcblx0XHR2YXIgYXBjID0gdGhpcztcclxuXHRcdGFwYy5nZXRQb3B1bGFyUG9zdHMgPSBnZXRQb3B1bGFyUG9zdHM7XHJcblx0XHRhcGMucHVsbFJlZnJlc2hQb3N0cyA9IHB1bGxSZWZyZXNoUG9zdHM7XHJcblx0XHRhcGMubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7XHJcblx0XHRhY3RpdmF0ZSgpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHB1bGxSZWZyZXNoUG9zdHMoKSB7XHJcblx0XHRcdGFjdGl2YXRlKCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGxvYWRNb3JlUG9zdHMoKSB7XHJcblx0XHRcdGFwYy5wYXJhbXMucGFnZSArPSAxO1xyXG5cdFx0XHRnZXRQb3B1bGFyUG9zdHMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQb3B1bGFyUG9zdHMoKSB7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldFBvcHVsYXJQb3N0cyhhcGMucGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmRhdGEuZG9jcywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHRcdGFwYy5wb3N0c0xpc3QucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0aWYoIXJlc3BvbnNlLmRhdGEudG90YWwpe1xyXG5cdFx0XHRcdFx0YXBjLm5vUG9zdHMgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRhcGMuaW5pdGlhbFNlYXJjaENvbXBsZXRlZCA9IHRydWU7XHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlLmRhdGEudG90YWwgPiBhcGMucG9zdHNMaXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YXBjLmNhbkxvYWRNb3JlUmVzdWx0cyA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRhcGMuY2FuTG9hZE1vcmVSZXN1bHRzID0gZmFsc2U7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblxyXG5cdFx0XHR9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCRzY29wZS4kYnJvYWRjYXN0KCdzY3JvbGwucmVmcmVzaENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JHNjb3BlLiRicm9hZGNhc3QoJ3Njcm9sbC5pbmZpbml0ZVNjcm9sbENvbXBsZXRlJyk7XHJcblx0XHRcdFx0JGlvbmljTG9hZGluZy5oaWRlKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcblx0XHRcdGFwYy5jYW5Mb2FkTW9yZVJlc3VsdHMgPSBmYWxzZTtcclxuXHRcdFx0YXBjLmluaXRpYWxTZWFyY2hDb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBjLnBvc3RzTGlzdCA9IFtdO1xyXG5cdFx0XHRhcGMucGFyYW1zID0ge1xyXG5cdFx0XHRcdGxpbWl0OiAzLFxyXG5cdFx0XHRcdHBhZ2U6IDFcclxuXHRcdFx0fTtcclxuXHRcdFx0Z2V0UG9wdWxhclBvc3RzKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRhbmd1bGFyLm1vZHVsZSgncGV0YWwucG9zdCcpXHJcblx0XHQuY29udHJvbGxlcignUG9zdFBhcmVudENvbnRyb2xsZXInLFsnJHJvb3RTY29wZScsUG9zdFBhcmVudENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gUG9zdFBhcmVudENvbnRyb2xsZXIoJHJvb3RTY29wZSl7XHJcblx0XHQvLyRyb290U2NvcGUuc2xpZGVIZWFkZXIgPSB0cnVlO1xyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbihhbmd1bGFyKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGFuZ3VsYXIubW9kdWxlKCdwZXRhbC5wb3N0JylcclxuXHRcdC5jb250cm9sbGVyKCdTaW5nbGVQb3N0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdwb3N0U2VydmljZScsICckc3RhdGVQYXJhbXMnLCckaW9uaWNIaXN0b3J5JywndXB2b3RlU2VydmljZScsU2luZ2xlUG9zdENvbnRyb2xsZXJdKTtcclxuXHJcblx0ZnVuY3Rpb24gU2luZ2xlUG9zdENvbnRyb2xsZXIoJHNjb3BlLCAkc3RhdGUsIHBvc3RTZXJ2aWNlLCRzdGF0ZVBhcmFtcywkaW9uaWNIaXN0b3J5LHVwdm90ZVNlcnZpY2UpIHtcclxuXHRcdHZhciBhcGMgPSB0aGlzO1xyXG5cdFx0YXBjLmdldFNpbmdsZVBvc3Q9IGdldFNpbmdsZVBvc3Q7XHJcblx0XHRhcGMuc3VibWl0UG9zdFVwdm90ZSA9IHN1Ym1pdFBvc3RVcHZvdGU7XHJcblx0XHRhcGMuZGVsZXRlUG9zdFVwdm90ZSA9IGRlbGV0ZVBvc3RVcHZvdGU7XHJcblx0XHRhcGMuZ2V0UG9zdERpc3RhbmNlID0gZ2V0UG9zdERpc3RhbmNlO1xyXG5cdFx0YXBjLmJhY2sgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcclxuXHRcdFx0d2luZG93Lmhpc3RvcnkuYmFjaygpOyBcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGFjdGl2YXRlKCk7XHJcblx0XHRcclxuXHRcdGZ1bmN0aW9uIGdldFNpbmdsZVBvc3QoKSB7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLmdldFBvc3QoJHN0YXRlUGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0YXBjLnBvc3QgPSByZXNwb25zZS5kYXRhO1xyXG5cdFx0XHRcdGFwYy5kaXN0YW5jZU9iaiA9IHtcclxuXHRcdFx0XHRcdGxhdGl0dWRlOmFwYy5wb3N0LmxvY1sxXSxcclxuXHRcdFx0XHRcdGxvbmdpdHVkZTogYXBjLnBvc3QubG9jWzBdLFxyXG5cdFx0XHRcdFx0ZGlhdGFuY2U6IDBcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdGdldFBvc3REaXN0YW5jZSgpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBjaGVja1Bvc3RVcHZvdGUoKXtcclxuXHRcdFx0dXB2b3RlU2VydmljZS5nZXRVcHZvdGUoYXBjLmN1cnJlbnRQb3N0KS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0YXBjLnBvc3RVcHZvdGVkID0gcmVzLmRhdGEgfHwgZmFsc2U7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBzdWJtaXRQb3N0VXB2b3RlKCl7XHJcblx0XHRcdHVwdm90ZVNlcnZpY2UuY3JlYXRlVXB2b3RlKGFwYy5jdXJyZW50UG9zdCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdGNoZWNrUG9zdFVwdm90ZSgpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlUG9zdFVwdm90ZSgpe1xyXG5cdFx0XHR1cHZvdGVTZXJ2aWNlLmRlbGV0ZVVwdm90ZShhcGMuY3VycmVudFBvc3QpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcclxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGFjdGl2YXRlKCl7XHJcblx0XHRcdGFwYy5jdXJyZW50UG9zdCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuXHRcdFx0Z2V0U2luZ2xlUG9zdCgpO1xyXG5cdFx0XHRjaGVja1Bvc3RVcHZvdGUoKTtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXRQb3N0RGlzdGFuY2UoKXtcclxuXHRcdFx0cG9zdFNlcnZpY2UuZ2V0RGlzdGFuY2UoYXBjLmRpc3RhbmNlT2JqKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0YW5ndWxhci5tb2R1bGUoJ3BldGFsLnBvc3QnKS5cclxuXHRzZXJ2aWNlKCdwb3N0U2VydmljZScsIFsnJGh0dHAnLCAnaG9tZVNlcnZpY2UnLCAndXNlckxvY2F0aW9uU2VydmljZScsICckcScsIFBvc3RTZXJ2aWNlXSk7XHJcblxyXG5cclxuXHRmdW5jdGlvbiBQb3N0U2VydmljZSgkaHR0cCwgaG9tZVNlcnZpY2UsIHVzZXJMb2NhdGlvblNlcnZpY2UsICRxKSB7XHJcblx0XHR0aGlzLmdldEFsbFBvc3RzID0gZ2V0QWxsUG9zdHM7XHJcblx0XHR0aGlzLmdldE5lYXJieVBvc3RzID0gZ2V0TmVhcmJ5UG9zdHM7XHJcblx0XHR0aGlzLmdldExhdGVzdFBvc3RzID0gZ2V0TGF0ZXN0UG9zdHM7XHJcblx0XHR0aGlzLmdldFBvcHVsYXJQb3N0cyA9IGdldFBvcHVsYXJQb3N0cztcclxuXHRcdHRoaXMuc3VibWl0UG9zdCA9IHN1Ym1pdFBvc3Q7XHJcblx0XHR0aGlzLmRlbGV0ZVBvc3QgPSBkZWxldGVQb3N0O1xyXG5cdFx0dGhpcy5nZXRQb3N0ID0gZ2V0UG9zdDtcclxuXHRcdHRoaXMuZ2V0RGlzdGFuY2UgPSBnZXREaXN0YW5jZTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRBbGxQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2dldFBvc3RzJywgeyBwYXJhbXM6IHBhcmFtcyB9KTtcclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIGdldEZpbHRlcmVkUG9zdHMoZGVmZXIscGFyYW1zKXtcclxuXHRcdFx0JGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyBcInBvc3QvZ2V0UG9zdHNcIiwgeyBwYXJhbXM6IHBhcmFtcyB9KS50aGVuKGZ1bmN0aW9uKHBvc3RzKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIndpdGhvdXQgcG9zaXRpb25cIik7XHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHBvc3RzKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyMik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBnZXROZWFyYnlQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLm5lYXJieSA9IHRydWU7XHJcblx0XHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZihwYXJhbXMucGFnZT09MSl7XHJcblx0XHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5zZXRVc2VyTG9jYXRpb24oKTtcclxuICAgICAgXHRcdFx0fVxyXG4gICAgICBcdFx0XHRcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cGFyYW1zLmxhdGl0dWRlID0gcG9zaXRpb24ubGF0aXR1ZGU7XHJcblx0XHRcdFx0cGFyYW1zLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmxvbmdpdHVkZTtcclxuXHRcdFx0XHQkaHR0cC5nZXQoaG9tZVNlcnZpY2UuYmFzZVVSTCArIFwicG9zdC9nZXRQb3N0c1wiLCB7IHBhcmFtczogcGFyYW1zIH0pLnRoZW4oZnVuY3Rpb24ocG9zdHMpIHtcclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUocG9zdHMpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdHdpbmRvdy5jb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHRcdGdldEZpbHRlcmVkUG9zdHMoZGVmZXIscGFyYW1zKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0TGF0ZXN0UG9zdHMocGFyYW1zKSB7XHJcblx0XHRcdHBhcmFtcy5zb3J0ID0gJy10aW1lJztcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZ2V0UG9zdHMnLCB7IHBhcmFtczogcGFyYW1zIH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBvcHVsYXJQb3N0cyhwYXJhbXMpIHtcclxuXHRcdFx0cGFyYW1zLnNvcnQgPSAnLXVwdm90ZXNMZW5ndGgnO1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9nZXRQb3N0cycsIHsgcGFyYW1zOiBwYXJhbXMgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3VibWl0UG9zdChwb3N0KSB7XHJcblx0XHRcdHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiZW50ZXJlZCBzdWJtaXQgcG9zdFwiKTtcclxuXHRcdFx0dXNlckxvY2F0aW9uU2VydmljZS5nZXRVc2VyTG9jYXRpb24oKS50aGVuKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcblx0XHRcdFx0cG9zdC5sYXRpdHVkZSA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG5cdFx0XHRcdHBvc3QubG9uZ2l0dWRlID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG5cclxuXHRcdFx0XHQkaHR0cC5wb3N0KGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9jcmVhdGUnLCB7IHBvc3Q6IHBvc3QgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG5cclxuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmUocmVzcG9uc2UpO1xyXG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVqZWN0KGVycik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xyXG5cdFx0XHRcdCRodHRwLnBvc3QoaG9tZVNlcnZpY2UuYmFzZVVSTCArICdwb3N0L2NyZWF0ZScsIHsgcG9zdDogcG9zdCB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlKHJlc3BvbnNlKTtcclxuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIyKSB7XHJcblx0XHRcdFx0XHRkZWZlci5yZWplY3QoZXJyMik7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVQb3N0KHBvc3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKGhvbWVTZXJ2aWNlLmJhc2VVUkwgKyAncG9zdC9kZWxldGUvJyArIHBvc3RJZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UG9zdChwb3N0SWQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldChob21lU2VydmljZS5iYXNlVVJMICsgJ3Bvc3QvZ2V0LycgKyBwb3N0SWQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldERpc3RhbmNlKHBvc09iaikge1xyXG5cdFx0XHR2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG5cdFx0XHR2YXIgbGF0MSA9IHBvc09iai5sYXRpdHVkZTtcclxuXHRcdFx0dmFyIGxvbjEgPSBwb3NPYmoubG9uZ2l0dWRlO1xyXG5cdFx0XHR1c2VyTG9jYXRpb25TZXJ2aWNlLmdldFVzZXJMb2NhdGlvbigpLnRoZW4oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuXHRcdFx0XHR2YXIgbGF0MiA9IHBvc2l0aW9uLmxhdGl0dWRlO1xyXG5cdFx0XHRcdHZhciBsb24yID0gcG9zaXRpb24ubG9uZ2l0dWRlO1xyXG5cdFx0XHRcdHZhciBSID0gNjM3MTsgLy8gUmFkaXVzIG9mIHRoZSBlYXJ0aCBpbiBrbVxyXG5cdFx0XHRcdHZhciBkTGF0ID0gZGVnMnJhZChsYXQyIC0gbGF0MSk7IC8vIGRlZzJyYWQgYmVsb3dcclxuXHRcdFx0XHR2YXIgZExvbiA9IGRlZzJyYWQobG9uMiAtIGxvbjEpO1xyXG5cdFx0XHRcdHZhciBhID1cclxuXHRcdFx0XHRcdE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcblx0XHRcdFx0XHRNYXRoLmNvcyhkZWcycmFkKGxhdDEpKSAqIE1hdGguY29zKGRlZzJyYWQobGF0MikpICpcclxuXHRcdFx0XHRcdE1hdGguc2luKGRMb24gLyAyKSAqIE1hdGguc2luKGRMb24gLyAyKTtcclxuXHRcdFx0XHR2YXIgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XHJcblx0XHRcdFx0dmFyIGQgPSBSICogYzsgLy8gRGlzdGFuY2UgaW4ga21cclxuXHRcdFx0XHJcblx0XHRcdFx0ZGVmZXIucmVzb2x2ZShNYXRoLmNlaWwoZCkpO1xyXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhlcnIpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIGRlZmVyLnByb21pc2U7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlZzJyYWQoZGVnKSB7XHJcblx0XHRcdHJldHVybiBkZWcgKiAoTWF0aC5QSSAvIDE4MCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxufSkod2luZG93LmFuZ3VsYXIpO1xyXG4iXX0=
